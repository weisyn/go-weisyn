// ================================================================================================
// æ ¸å¿ƒäº¤æ˜“åè®®å®šä¹‰ï¼ˆEUTXO æ¨¡å‹ï¼‰
// ================================================================================================
// é‡è¦è¯´æ˜ï¼ˆå…±è¯†åè®®çº¯å‡€æ€§çº¦æŸï¼‰ï¼š
// - æœ¬æ–‡ä»¶ä»…å®šä¹‰â€œä¸Šé“¾çš„å…±è¯†æ•°æ®ç»“æ„â€ï¼ˆäº¤æ˜“ã€è¾“å…¥/è¾“å‡ºã€é”å®šæ¡ä»¶ã€è¯æ˜ç­‰ï¼‰ã€‚
// - Host ABI / SDK ä¾§ç”¨äºè·¨è¾¹ç•Œä¼ è¾“çš„ DTOï¼ˆå¦‚æ‰¹é‡è¾“å‡ºæè¿°ã€æ‰©å±•è½¬è´¦æ„å›¾ç­‰ï¼‰ï¼Œä¸å¾—æ·»åŠ åˆ°æœ¬ proto ä¸­ï¼Œ
//   åº”æ”¾ç½®äºåº”ç”¨å±‚ï¼ˆå¦‚ pkg/types æˆ–ç‹¬ç«‹ hostabi proto åŒ…ï¼‰ä»¥é¿å…æ±¡æŸ“å…±è¯†å±‚åè®®ã€‚
// - LockingConditionList ç›¸å…³ç¼–è§£ç å·²è¿å‡ºè‡³ Host ABI å±‚å®ç°ï¼ˆpkg/types + pkg/utilsï¼‰ï¼Œåç»­å¦‚éœ€ Protobuf ç‰ˆæœ¬ï¼Œ
//   ä¹Ÿåº”æ”¾åˆ°éå…±è¯†å‘½åç©ºé—´ï¼ˆå¦‚ pb/hostabi/â€¦ï¼‰ã€‚
syntax = "proto3";
package pb.blockchain.core;

option go_package = "github.com/weisyn/v1/pb/blockchain/block/transaction";

// ================================================================================================
// ğŸ’° é‡‘é¢å•ä½çº¦å®šï¼ˆå…¨å±€ï¼‰
// ================================================================================================
// 
// âš ï¸ é‡è¦ï¼šæœ¬åè®®ä¸­æ‰€æœ‰é‡‘é¢å­—æ®µï¼ˆamount/value_amount/fee_amountç­‰ï¼‰ç»Ÿä¸€ä½¿ç”¨ BaseUnit ä½œä¸ºæœ€å°å•ä½
// 
// å•ä½æ¢ç®—è§„åˆ™ï¼š
// - 1 WES = 10^8 BaseUnitï¼ˆ8ä½å°æ•°ç²¾åº¦ï¼‰
// - amount å­—æ®µå­˜å‚¨çš„æ˜¯ BaseUnit æ•´æ•°ï¼ˆå­—ç¬¦ä¸²æ ¼å¼ï¼Œæ”¯æŒå¤§æ•°ï¼‰
// - ç”¨æˆ·äº¤äº’æ—¶æ˜¾ç¤º WES å•ä½ï¼Œå†…éƒ¨è®¡ç®—ä½¿ç”¨ BaseUnit
// 
// ç¤ºä¾‹ï¼š
// - ç”¨æˆ·çœ‹åˆ°ï¼š20,000,000 WES
// - é“¾ä¸Šå­˜å‚¨ï¼š2000000000000000 BaseUnitï¼ˆå­—ç¬¦ä¸²ï¼‰
// - è®¡ç®—éªŒè¯ï¼šä½¿ç”¨ BaseUnit è¿›è¡Œæ•´æ•°è¿ç®—ï¼Œé¿å…æµ®ç‚¹è¯¯å·®
// 
// è®¾è®¡åŸåˆ™ï¼š
// - å…±è¯†å±‚ï¼šåªå­˜å‚¨ BaseUnit æ•´æ•°ï¼Œä¸æ¶‰åŠå°æ•°è½¬æ¢
// - åº”ç”¨å±‚ï¼šè´Ÿè´£ BaseUnit â†” WES çš„è½¬æ¢å’Œå±•ç¤º
// - APIå±‚ï¼šåŒæ—¶è¿”å› balanceï¼ˆBaseUnitï¼‰å’Œ balance_wesï¼ˆWESï¼‰å­—æ®µ
// ================================================================================================

// ================================================================================================
// ğŸ¯ ç¬¬ä¸€éƒ¨åˆ†ï¼šç³»ç»Ÿæ¦‚è¿°å’Œè®¾è®¡åŸç†
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * æ ¸å¿ƒäº¤æ˜“ç³»ç»Ÿ - EUTXO æ¶æ„
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * ğŸ¯ ç³»ç»Ÿæ¦‚è¿°ï¼š
 * åŒºå—é“¾äº¤æ˜“ç³»ç»ŸåŸºäºæ‰©å±•UTXOæ¨¡å‹ï¼Œå®ç°ç»Ÿä¸€æƒåˆ©è½½ä½“ç†è®ºçš„æ ¸å¿ƒå±‚ã€‚
 * æœ¬ç³»ç»Ÿä½œä¸ºæƒåˆ©è½½ä½“å±‚ï¼Œè´Ÿè´£æ‰€æœ‰æƒåˆ©çš„è£å†³ã€è½¬æ¢å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚
 * æ”¯æŒä»·å€¼è½½ä½“ã€èƒ½åŠ›è½½ä½“ã€è¯æ®è½½ä½“çš„ç»Ÿä¸€æƒåˆ©å¤„ç†æ¡†æ¶ã€‚
 * 
 * ğŸ—ï¸ æ ¸å¿ƒè®¾è®¡åŸç†ï¼š
 * 1. ğŸ“‹ å†…å®¹æ— å…³æ€§ï¼šTransactionå±‚ä¸“æ³¨äºUTXOå¼•ç”¨ä¸åˆ›å»ºï¼Œä¸æ„ŸçŸ¥å…·ä½“å†…å®¹ç±»å‹
 * 2. ğŸ”„ çº¯ç²¹è½¬æ¢é€»è¾‘ï¼šå®ç° inputs â†’ outputs çš„ç¡®å®šæ€§çŠ¶æ€è½¬æ¢
 * 3. âš–ï¸ ä¸‰å±‚UTXOæ¶æ„ï¼šæ˜ç¡®åˆ†ç¦»èµ„äº§å¤„ç†(AssetOutput/ä»·å€¼è½½ä½“)ã€èµ„æºåˆ›å»º(ResourceOutput/èƒ½åŠ›è½½ä½“)å’ŒçŠ¶æ€è®°å½•(StateOutput/è¯æ®è½½ä½“)
 * 4. ğŸ”— å¼•ç”¨ä¸æ‹¥æœ‰åŸåˆ™ï¼šé€šè¿‡OutPointç²¾ç¡®å¼•ç”¨ï¼Œé¿å…æ•°æ®å†—ä½™
 * 5. ğŸ›¡ï¸ ç±»å‹å®‰å…¨è®¾è®¡ï¼šä½¿ç”¨å¼ºç±»å‹å®šä¹‰ï¼Œæ¶ˆé™¤æ¨¡ç³Šæ€§ï¼Œæé«˜ç³»ç»Ÿå¯é æ€§
 * 6. ğŸŒ å¼‚æ„ç½‘ç»œå‹å¥½ï¼šæ”¯æŒä¸åŒæ‰§è¡Œèƒ½åŠ›èŠ‚ç‚¹çš„ååŒå·¥ä½œ
 * 
 * ğŸ“¦ èµ„æºä¸äº¤æ˜“çš„æ­£ç¡®è¾¹ç•Œï¼ˆå·²éªŒè¯çš„æ¶æ„åˆ†å·¥ï¼‰ï¼š
 * 1) èµ„æºå±‚ï¼ˆresource.protoï¼‰ã€ä»…ã€‘æè¿°"å†…å®¹è½½ä½“"ï¼Œä¸¥æ ¼åŒ…å«ï¼š
 *    - èº«ä»½ï¼šcontent_hashã€mime_typeã€size
 *    - åˆ†ç±»ï¼šResourceCategoryï¼ˆEXECUTABLE/STATICï¼‰ã€ExecutableTypeï¼ˆå½“ä¸”ä»…å½“EXECUTABLEæ—¶æœ‰æ•ˆï¼‰
 *    - æ‰§è¡Œé…ç½®ï¼šContractExecutionConfig / AIModelExecutionConfigï¼ˆä»…EXECUTABLEéœ€è¦ï¼‰
 *    - âš ï¸ èµ„æºå±‚ã€ç»ä¸ã€‘å®šä¹‰"æƒåˆ©/æ“ä½œæ¨¡å¼" - è¿™æ˜¯æ­£ç¡®è®¾è®¡ï¼
 * 2) äº¤æ˜“å±‚ï¼ˆæœ¬æ–‡ä»¶ï¼‰ã€è´Ÿè´£æ‰€æœ‰æƒåˆ©è½½ä½“åŠŸèƒ½ã€‘ï¼Œç»Ÿä¸€è¡¨è¾¾æƒåˆ©è¯­ä¹‰ï¼š
 *    - é€šè¿‡ TxInput.is_reference_only è¡¨è¾¾åªè¯»å¼•ç”¨(true)æˆ–æ¶ˆè´¹å¼•ç”¨(false)
 *    - é€šè¿‡ TxInput.unlocking_proof è¡¨è¾¾å¹¶éªŒè¯æƒé™ï¼ˆç­¾å/å¤šç­¾/è„šæœ¬ç­‰ï¼‰
 *    - é€šè¿‡ TxOutput.locking_conditions å®šä¹‰æƒåˆ©çº¦æŸå’Œè®¿é—®æ§åˆ¶
 *    - âš ï¸ æ‰€æœ‰æƒåˆ©æ¦‚å¿µã€å¿…é¡»ã€‘åœ¨äº¤æ˜“å±‚å®ç° - è¿™ç¡®ä¿äº†æ­£ç¡®çš„åˆ†å±‚ï¼
 * 3) è¾“å‡ºåˆ†å±‚ï¼šAsset/Resource/State æ¸…æ™°åˆ†ç¦»ï¼Œå®ç°EUTXOæƒåˆ©å…·ç°åŒ–ï¼š
 *    - AssetOutput: åˆ›å»ºä»·å€¼è½½ä½“ï¼ˆç»æµä»·å€¼æƒåˆ©ï¼‰
 *    - ResourceOutput: åˆ›å»ºèƒ½åŠ›è½½ä½“ï¼ˆè®¡ç®—èƒ½åŠ›æƒåˆ©ï¼ŒåŒ…å«å®Œæ•´resource.protoå†…å®¹ï¼‰
 *    - StateOutput: åˆ›å»ºè¯æ®è½½ä½“ï¼ˆå†å²è¯æ®æƒåˆ©ï¼‰
 *    - âš ï¸ èµ„æºå¼•ç”¨é€šè¿‡OutPointå®ç°ï¼Œä¸éœ€è¦å•ç‹¬çš„å¼•ç”¨ç»“æ„
 * 
 * ğŸ” éªŒè¯æœºåˆ¶ï¼ˆç®€åŒ–è€Œå¼ºå¤§ï¼‰ï¼š
 * âœ… 1. è¾“å…¥æˆæƒéªŒè¯ï¼šé€šè¿‡æ•°å­—ç­¾åç¡®ä¿æ“ä½œæƒé™çš„åˆæ³•æ€§
 * âœ… 2. ä»·å€¼å®ˆæ’éªŒè¯ï¼šç¡®ä¿ Î£(è¾“å…¥ä»·å€¼) â‰¥ Î£(è¾“å‡ºä»·å€¼) + äº¤æ˜“è´¹
 * âœ… 3. é”å®šæ¡ä»¶éªŒè¯ï¼šæ—¶é—´é”ã€é«˜åº¦é”ã€è„šæœ¬æ¡ä»¶ç­‰çº¦æŸæ£€æŸ¥
 * âœ… 4. å®ŒæˆéªŒè¯ï¼ä¿¡ä»»ç­¾åæˆæƒï¼Œæ— éœ€é‡æ–°æ‰§è¡Œå¤æ‚è®¡ç®—
 * 
 * ğŸš€ ç³»ç»Ÿä¼˜åŠ¿ï¼š
 * â€¢ é«˜æ€§èƒ½ï¼šé¿å…éªŒè¯æ—¶é‡æ–°æ‰§è¡Œï¼Œå¤§å¹…æå‡å¤„ç†é€Ÿåº¦
 * â€¢ å»ä¸­å¿ƒåŒ–ï¼šå¼‚æ„èŠ‚ç‚¹æ— éœ€ç»Ÿä¸€æ‰§è¡Œç¯å¢ƒï¼ŒçœŸæ­£çš„å»ä¸­å¿ƒåŒ–
 * â€¢ çµæ´»æ€§ï¼šæ”¯æŒæœªæ¥æ–°èµ„æºç±»å‹çš„æ— ç¼æ¥å…¥
 * â€¢ å®‰å…¨æ€§ï¼šåŸºäºå¯†ç å­¦ç­¾åçš„å¼ºå®‰å…¨ä¿è¯
 * â€¢ ç†è®ºä¸€è‡´æ€§ï¼šå®Œç¾å®ç°ç»Ÿä¸€æƒåˆ©è½½ä½“ç†è®ºå’ŒEUTXOæƒåˆ©å…·ç°åŒ–ç†è®º
 * 
 * âš ï¸ è®¾è®¡åŸåˆ™æ€»ç»“ï¼ˆé˜²æ­¢è®¤çŸ¥é”™è¯¯ï¼‰ï¼š
 * âœ… Transactionå±‚ = æƒåˆ©è½½ä½“å±‚ï¼Œè´Ÿè´£æ‰€æœ‰æƒåˆ©æ¦‚å¿µï¼ˆå¼•ç”¨/æ¶ˆè´¹ã€é”å®š/è§£é”ã€æƒåˆ©çº¦æŸï¼‰
 * âœ… Resourceå±‚ = å†…å®¹è½½ä½“å±‚ï¼Œåªå®šä¹‰èµ„æºèº«ä»½å’Œæ‰§è¡Œé…ç½®ï¼Œä¸æ¶‰åŠæƒåˆ©
 * âœ… è¿™ç§åˆ†ç¦»æ˜¯ç†è®ºæŒ‡å¯¼çš„æ­£ç¡®æ¶æ„ï¼Œä¸æ˜¯è®¾è®¡ç¼ºé™·ï¼
 * âœ… Resourceç»“æ„ä¸“æ³¨å†…å®¹å®šä¹‰ - æƒåˆ©åœ¨locking_conditionsä¸­ç®¡ç†
 * âŒ ç»ä¸åº”å°†æƒåˆ©æ¦‚å¿µä¸‹æ²‰åˆ°Resourceå±‚ - è¿™ä¼šç ´ååˆ†å±‚è¾¹ç•Œ
 * 
 * ğŸ¯ æ ¸å¿ƒç‰¹æ€§ï¼šEUTXOæƒåˆ©è½½ä½“ + ä¼ä¸šçº§å®‰å…¨ + ä¸¥æ ¼åˆ†å±‚è¾¹ç•Œ
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

// ç»Ÿä¸€èµ„æºç®¡ç†ç³»ç»Ÿå¯¼å…¥
import "pb/blockchain/block/transaction/resource/resource.proto";

// ================================================================================================
// ğŸ”§ ç¬¬äºŒéƒ¨åˆ†ï¼šåŸºç¡€ç±»å‹å®šä¹‰
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ”§ åŸºç¡€ç±»å‹ç³»ç»Ÿ - ç±»å‹å®‰å…¨çš„æ ¸å¿ƒç»„ä»¶
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚å®šä¹‰ç³»ç»Ÿä¸­ä½¿ç”¨çš„åŸºç¡€ç±»å‹ï¼Œç¡®ä¿ç±»å‹å®‰å…¨å’Œä¸€è‡´æ€§ï¼š
 * 
 * ğŸ†” æ ‡è¯†ç±»å‹ï¼šHash, Address, TokenId - å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦
 * ğŸ” å¯†ç å­¦ç±»å‹ï¼šSignatureData, PublicKey - å®‰å…¨è®¤è¯ç»„ä»¶  
 * ğŸ“ å¼•ç”¨ç±»å‹ï¼šOutPoint - ç²¾ç¡®çš„UTXOä½ç½®å®šä½
 * 
 * è®¾è®¡åŸåˆ™ï¼š
 * â€¢ å›ºå®šé•¿åº¦ï¼šå…³é”®ç±»å‹ä½¿ç”¨å›ºå®šå­—èŠ‚é•¿åº¦ï¼Œæå‡éªŒè¯æ•ˆç‡
 * â€¢ ç±»å‹æ˜ç¡®ï¼šé¿å…é€šç”¨bytesç±»å‹ï¼Œæ¯ç§æ•°æ®éƒ½æœ‰ä¸“é—¨çš„message
 * â€¢ çµæ´»æ€§ï¼šæ”¯æŒå¤šç§ç®—æ³•å’Œç¼–ç æ ¼å¼
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

/**
 * ğŸ”„ æ ¸å¿ƒçŠ¶æ€è½¬æ¢æ¶æ„å›¾ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   è¾“å…¥UTXOé›†åˆ   â”‚â”€â”€â”€â–¶â”‚   äº¤æ˜“å¤„ç†å¼•æ“   â”‚â”€â”€â”€â–¶â”‚   è¾“å‡ºUTXOé›†åˆ   â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *          â”‚                       â”‚                       â”‚
 *          â–¼                       â–¼                       â–¼
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ ğŸ’° èµ„äº§UTXO      â”‚    â”‚ âœ… ç­¾åéªŒè¯      â”‚    â”‚ ğŸ’° èµ„äº§è¾“å‡º      â”‚
 * â”‚ âš™ï¸ èµ„æºUTXO      â”‚    â”‚ âš–ï¸ ä»·å€¼å®ˆæ’      â”‚    â”‚ âš™ï¸ èµ„æºè¾“å‡º      â”‚
 * â”‚ ğŸ”€ æ··åˆå¼•ç”¨      â”‚    â”‚ ğŸ”’ æ¡ä»¶æ£€æŸ¥      â”‚    â”‚ ğŸ“Š çŠ¶æ€è®°å½•      â”‚
 * â”‚ ğŸ“Š çŠ¶æ€UTXO      â”‚    â”‚ ğŸ›¡ï¸ æƒé™æ§åˆ¶      â”‚    â”‚ ğŸ”„ ç”Ÿå‘½å‘¨æœŸç®¡ç†   â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * ğŸ’¡ æ ¸å¿ƒç†å¿µï¼šå°†åŒºå—é“¾è§†ä¸ºçŠ¶æ€è½¬æ¢æœºå™¨ï¼ˆState Transition Machineï¼‰
 * 
 * ğŸ¯ EUTXO çš„æœ¬è´¨ - æ²¡æœ‰ä¸šåŠ¡è¯­ä¹‰ï¼š
 * - æ¯ä¸ªäº¤æ˜“éƒ½æ˜¯ä¸€æ¬¡ç¡®å®šæ€§çš„çŠ¶æ€è½¬æ¢ï¼šf(Inputs) â†’ Outputs
 * - è¾“å…¥UTXOä»£è¡¨å½“å‰çŠ¶æ€ï¼Œè¾“å‡ºUTXOä»£è¡¨ç›®æ ‡çŠ¶æ€
 * - éªŒè¯ç¡®ä¿è½¬æ¢çš„åˆæ³•æ€§å’Œä¸€è‡´æ€§ï¼ˆæƒé™+ä»·å€¼å®ˆæ’+æ¡ä»¶ï¼‰
 * - çŠ¶æ€è®°å½•å®ç°å†å²å¯è¿½æº¯å’Œå®¡è®¡
 * 
 * âš ï¸ å…³é”®æ¶æ„çº¦æŸï¼ˆå¿…é¡»éµå®ˆï¼‰ï¼š
 * âœ… æœ¬åè®®å±‚ä¸å®šä¹‰ä¸šåŠ¡è¯­ä¹‰ï¼ˆå¦‚"è½¬è´¦"ã€"è´¨æŠ¼"ã€"é“¸é€ "ç­‰æ¦‚å¿µï¼‰
 * âœ… ä¸šåŠ¡è¯­ä¹‰ç”±åº”ç”¨å±‚è§£é‡Šï¼šè¾“å…¥è¾“å‡ºç»„åˆæ¨¡å¼ = ä¸šåŠ¡æ“ä½œ
 * âœ… å›ºåŒ–çš„èƒ½åŠ›æ°¸ä¸æ”¹å˜ï¼š3ç§è¾“å‡º+2ç§è¾“å…¥æ¨¡å¼+7ç§é”å®šæ¡ä»¶
 * âœ… åº•å±‚åªå…³å¿ƒï¼šUnlockingProofæ˜¯å¦åŒ¹é…LockingCondition
 * 
 * ğŸ“‹ è¾“å…¥è¾“å‡ºç»„åˆ = ä¸šåŠ¡è¯­ä¹‰ï¼ˆåº”ç”¨å±‚è§£é‡Šï¼Œå–å†³äºè¾“å‡ºç±»å‹ï¼‰ï¼š
 * 
 * ã€0 inputs + N outputsã€‘å‡­ç©ºåˆ›å»º UTXOï¼ˆæ ¹æ®è¾“å‡ºç±»å‹å†³å®šè¯­ä¹‰ï¼‰ï¼š
 * - 0 inputs + AssetOutput        â†’ ä»£å¸é“¸é€ /Coinbase/åˆ›ä¸–åˆ†é…
 * - 0 inputs + ResourceOutput     â†’ åˆ›ä¸–èµ„æºéƒ¨ç½²ï¼ˆç³»ç»Ÿåˆçº¦/æ¨¡å‹ï¼‰
 * - 0 inputs + StateOutput        â†’ åˆ›ä¸–çŠ¶æ€åˆå§‹åŒ–
 * - 0 inputs + Mixed Outputs      â†’ åˆ›ä¸–åŒºå—ï¼ˆæ··åˆåˆå§‹åŒ–ï¼‰
 * 
 * ã€N inputs + 0 outputsã€‘æ¶ˆè´¹ä½†ä¸åˆ›å»ºï¼š
 * - N inputs + 0 outputs          â†’ é”€æ¯/ç‡ƒçƒ§/ç½šæ²¡ï¼ˆèµ„äº§/èµ„æºå‡å¯ï¼‰
 * 
 * ã€N inputs + M outputsã€‘çŠ¶æ€è½¬æ¢ï¼ˆæ ¹æ®è¾“å‡ºç±»å‹å’Œé”å®šæ¡ä»¶ï¼‰ï¼š
 * - AssetInput + AssetOutput      â†’ Tokenè½¬è´¦/æ‰¾é›¶/èšåˆ/æ‹†åˆ†
 * - AssetInput + AssetOutput + ContractLock â†’ è´¨æŠ¼/é”ä»“
 * - AssetInput + AssetOutput + TimeLock â†’ å®šæœŸå­˜æ¬¾/Vesting
 * - AssetInput + AssetOutput + MultiKeyLock â†’ å¤šç­¾é‡‘åº“
 * - AssetInput + ResourceOutput   â†’ èµ„æºéƒ¨ç½²ï¼ˆæ”¯ä»˜è´¹ç”¨ï¼‰
 * - ResourceInput(æ¶ˆè´¹) + ResourceOutput â†’ èµ„æºå‡çº§/æ›´æ–°
 * - ResourceInput(å¼•ç”¨) + StateOutput â†’ åˆçº¦è°ƒç”¨/æ¨¡å‹æ¨ç†
 * 
 * ã€NFT/SFT ç‰¹æ®Šåœºæ™¯ã€‘ï¼š
 * - AssetInput + AssetOutput(nft_unique_id) â†’ NFTé“¸é€ /è½¬è´¦
 * - AssetInput + AssetOutput(semi_fungible_id) â†’ SFTé“¸é€ /æ‹†åˆ†
 * 
 * ğŸ”’ å›ºåŒ–çš„ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼ˆå‚è€ƒBTC/ETHçš„åº•å±‚è®¾è®¡ï¼‰ï¼š
 * 1. ä¸‰ç§è¾“å‡ºç±»å‹ï¼šAssetOutput / ResourceOutput / StateOutput
 * 2. ä¸¤ç§è¾“å…¥æ¨¡å¼ï¼šConsume(æ¶ˆè´¹) / Reference(å¼•ç”¨)
 * 3. ä¸ƒç§é”å®šæ¡ä»¶ï¼šSingleKey/MultiKey/Contract/Delegation/Threshold/Time/Height
 * 
 * ğŸ—ï¸ æ¶æ„åˆ†å±‚ï¼ˆå‚è€ƒ _docs/architecture/TX_STATE_MACHINE_ARCHITECTURE.mdï¼‰ï¼š
 * - åè®®å±‚(L1)ï¼šæœ¬æ–‡ä»¶ï¼Œå®šä¹‰å›ºåŒ–åè®®ï¼Œæ°¸ä¸æ”¹å˜
 * - åŸºç¡€è®¾æ–½å±‚(L2)ï¼šinternal/core/tx/infrastructureï¼Œçº¯è¾“å…¥è¾“å‡ºæ“ä½œ
 * - ç»Ÿä¸€é—¨é¢å±‚(L3)ï¼šinternal/core/tx/facadeï¼Œå…­é˜¶æ®µæµæ°´çº¿
 * - åº”ç”¨å±‚ï¼šSDK/Host ABIï¼Œèµ‹äºˆä¸šåŠ¡è¯­ä¹‰
 * 
 * è¾“å…¥UTXOç±»å‹è¯¦è§£ï¼š
 * 
 * 1. ğŸ’° èµ„äº§UTXO (Asset UTXO)ï¼š
 *    â€¢ ä»·å€¼æ¥æºï¼šæä¾›äº¤æ˜“æ‰€éœ€çš„ä»£å¸ï¼ˆåŸç”Ÿå¸æˆ–è‡ªå®šä¹‰ä»£å¸ï¼‰
 *    â€¢ ä½¿ç”¨æ¨¡å¼ï¼šé€šå¸¸è¢«æ¶ˆè´¹ï¼ˆis_reference_only=falseï¼‰
 *    â€¢ ç”¨é€”åœºæ™¯ï¼šè½¬è´¦é‡‘é¢ã€äº¤æ˜“æ‰‹ç»­è´¹
 *    â€¢ ç”Ÿå‘½å‘¨æœŸï¼šä¸€æ—¦è¢«æ¶ˆè´¹ï¼Œä»UTXOé›†åˆä¸­ç§»é™¤
 *    â€¢ ç¤ºä¾‹ï¼šAliceçš„100åŸç”Ÿå¸ä½™é¢ï¼Œç”¨äºæ”¯ä»˜75åŸç”Ÿå¸è½¬è´¦ï¼ˆ50è½¬è´¦+25æ‰‹ç»­è´¹ï¼‰
 * 
 * 2. âš™ï¸ èµ„æºUTXO (Resource UTXO) - å¼•ç”¨æ¨¡å¼ï¼š
 *    â€¢ åŠŸèƒ½æ¥æºï¼šæä¾›å¯æ‰§è¡Œçš„èµ„æºï¼ˆåˆçº¦ã€æ¨¡å‹ã€æ–‡ä»¶ï¼‰
 *    â€¢ ä½¿ç”¨æ¨¡å¼ï¼šè¢«å¼•ç”¨ï¼ˆis_reference_only=trueï¼‰
 *    â€¢ ç”¨é€”åœºæ™¯ï¼šåˆçº¦è°ƒç”¨ã€æ¨¡å‹æ¨ç†ã€æ–‡ä»¶è®¿é—®
 *    â€¢ ç”Ÿå‘½å‘¨æœŸï¼šä¿æŒåœ¨UTXOé›†åˆä¸­ï¼Œæ”¯æŒå¹¶å‘è®¿é—®
 *    â€¢ ç¤ºä¾‹ï¼šå·²éƒ¨ç½²çš„WASMåˆçº¦ï¼Œè¢«å¤šä¸ªäº¤æ˜“åŒæ—¶è°ƒç”¨
 * 
 * 3. ğŸ”„ èµ„æºUTXO (Resource UTXO) - æ¶ˆè´¹æ¨¡å¼ï¼š
 *    â€¢ åŠŸèƒ½æ¥æºï¼šéœ€è¦è¢«æ›¿æ¢ã€å‡çº§æˆ–åˆ é™¤çš„èµ„æº
 *    â€¢ ä½¿ç”¨æ¨¡å¼ï¼šè¢«æ¶ˆè´¹ï¼ˆis_reference_only=falseï¼‰
 *    â€¢ ç”¨é€”åœºæ™¯ï¼šåˆçº¦å‡çº§ã€æ¨¡å‹æ›¿æ¢ã€èµ„æºåˆ é™¤ã€æƒé™è½¬ç§»
 *    â€¢ ç”Ÿå‘½å‘¨æœŸï¼šä¸€æ—¦è¢«æ¶ˆè´¹ï¼Œä»UTXOé›†åˆä¸­ç§»é™¤
 *    â€¢ ç¤ºä¾‹ï¼šå‡çº§æ™ºèƒ½åˆçº¦æ—¶æ¶ˆè´¹æ—§ç‰ˆæœ¬ï¼Œéƒ¨ç½²æ–°ç‰ˆæœ¬
 *    â€¢ å®‰å…¨è€ƒè™‘ï¼šåªæœ‰èµ„æºæ‰€æœ‰è€…æ‰èƒ½æ¶ˆè´¹èµ„æºUTXO
 * 
 * 4. ğŸ”€ æ··åˆå¼•ç”¨ (Mixed Reference)ï¼š
 *    â€¢ å¤åˆåœºæ™¯ï¼šåŒæ—¶å¼•ç”¨å¤šç§ç±»å‹çš„UTXO
 *    â€¢ çµæ´»ç»„åˆï¼šèµ„äº§æ¶ˆè´¹ + èµ„æºå¼•ç”¨/æ¶ˆè´¹çš„ç»„åˆä½¿ç”¨
 *    â€¢ å…¸å‹æ¨¡å¼ï¼šæ™ºèƒ½åˆçº¦æ‰§è¡Œæ—¶çš„å¸¸è§æ¨¡å¼
 *    â€¢ ä¼˜åŒ–è®¾è®¡ï¼šå•ä¸ªäº¤æ˜“å¯åŒæ—¶å¤„ç†å¤šç§éœ€æ±‚
 *    â€¢ ç¤ºä¾‹ï¼šè°ƒç”¨åˆçº¦æ—¶åŒæ—¶æ¶ˆè´¹æ‰‹ç»­è´¹èµ„äº§å’Œå¼•ç”¨åˆçº¦èµ„æº
 * 
 * è¾“å…¥æ¨¡å¼å¯¹æ¯”è¡¨ï¼š
 * 
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   UTXOç±»å‹   â”‚  å¼•ç”¨æ¨¡å¼    â”‚  ç”Ÿå‘½å‘¨æœŸ    â”‚   å¹¶å‘æ€§     â”‚   å…¸å‹ç”¨é€”   â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ ğŸ’° èµ„äº§UTXO  â”‚ æ¶ˆè´¹æ¨¡å¼     â”‚ ä½¿ç”¨åç§»é™¤    â”‚ ç‹¬å è®¿é—®     â”‚ ä»·å€¼è½¬ç§»     â”‚
 * â”‚             â”‚ (æ¶ˆè´¹å¼•ç”¨)   â”‚             â”‚             â”‚ æ”¯ä»˜è´¹ç”¨     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ âš™ï¸ èµ„æºUTXO  â”‚ å¼•ç”¨æ¨¡å¼     â”‚ æŒç»­å­˜åœ¨     â”‚ å¹¶å‘è®¿é—®      â”‚ åŠŸèƒ½è°ƒç”¨     â”‚
 * â”‚ (å¼•ç”¨æ¨¡å¼)   â”‚ (åªè¯»å¼•ç”¨)   â”‚             â”‚             â”‚ æ•°æ®è®¿é—®      â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ ğŸ”„ èµ„æºUTXO  â”‚ æ¶ˆè´¹æ¨¡å¼     â”‚ ä½¿ç”¨åç§»é™¤   â”‚ ç‹¬å è®¿é—®      â”‚ èµ„æºå‡çº§     â”‚
 * â”‚ (æ¶ˆè´¹æ¨¡å¼)   â”‚ (æ¶ˆè´¹å¼•ç”¨)   â”‚             â”‚             â”‚ æƒé™è½¬ç§»     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ ğŸ”€ æ··åˆå¼•ç”¨   â”‚ ç»„åˆæ¨¡å¼     â”‚ åˆ†åˆ«å¤„ç†     â”‚ æ··åˆå¹¶å‘     â”‚ å¤æ‚äº¤æ˜“     â”‚
 * â”‚             â”‚ (æ¶ˆè´¹+å¼•ç”¨)  â”‚             â”‚             â”‚ åˆçº¦æ‰§è¡Œ     â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * è¾“å‡ºUTXOç±»å‹è¯¦è§£ï¼š
 * 
 * 1. ğŸ“Š èµ„äº§è¾“å‡º (AssetOutput)ï¼š
 *    â€¢ çº¯ä»·å€¼è½½ä½“ï¼šä»£å¸è½¬è´¦ã€æ‰¾é›¶ã€å¥–åŠ±åˆ†é…
 *    â€¢ ç®€å•é«˜æ•ˆï¼šåªåŒ…å«ä»£å¸ç±»å‹å’Œæ•°é‡ä¿¡æ¯
 *    â€¢ ç›´æ¥å¯ç”¨ï¼šå¯ç«‹å³ç”¨äºåç»­äº¤æ˜“çš„è¾“å…¥
 *    â€¢ ç¤ºä¾‹ï¼šAliceè½¬ç»™Bob 50åŸç”Ÿå¸ï¼Œå‰©ä½™25åŸç”Ÿå¸æ‰¾é›¶
 * 
 * 2. ğŸ”§ èµ„æºåˆ›å»º (ResourceOutput)ï¼š
 *    â€¢ åŠŸèƒ½è½½ä½“ï¼šç»Ÿä¸€èµ„æºå¼•ç”¨ï¼ˆä¸åµŒå…¥å®Œæ•´èµ„æºï¼‰ã€‚å¯æ‰§è¡Œèµ„æºç”¨äºè°ƒç”¨ï¼›é™æ€èµ„æºç”¨äºè®¿é—®
 *    â€¢ ç»“æ„ï¼šåŒ…å« ResourceCategory / ExecutableType / content_hash / mime_type
 *    â€¢ å¯æ‰§è¡Œæ€§ï¼šéƒ¨ç½²åå¯è¢«å…¶ä»–äº¤æ˜“å¼•ç”¨æ‰§è¡Œ
 *    â€¢ ç¤ºä¾‹ï¼šéƒ¨ç½²çš„WASMåˆçº¦ã€ä¸Šä¼ çš„ONNXæ¨¡å‹ã€å­˜å‚¨çš„æ•°æ®æ–‡ä»¶
 * 
 * 3. ğŸ“Š çŠ¶æ€è¾“å‡º (StateOutput)ï¼š
 *    â€¢ æ‰§è¡Œå†å²ï¼šæ™ºèƒ½åˆçº¦è°ƒç”¨çš„å®Œæ•´æ‰§è¡Œè½¨è¿¹
 *    â€¢ è®¡ç®—ç»“æœï¼šMLæ¨¡å‹æ¨ç†è¾“å‡ºåŠç½®ä¿¡åº¦ä¿¡æ¯
 *    â€¢ çŠ¶æ€å¿«ç…§ï¼šå…³é”®æ—¶åˆ»çš„ç³»ç»ŸçŠ¶æ€ä¿å­˜
 *    â€¢ å®¡è®¡è¯æ˜ï¼šæ‰§è¡Œè¿‡ç¨‹çš„å¯éªŒè¯æ€§è¯æ®
 *    â€¢ ç‰ˆæœ¬ç®¡ç†ï¼šçŠ¶æ€å˜æ›´çš„æ—¶é—´åºåˆ—è®°å½•
 *    â€¢ é“¾å¼ä¾èµ–ï¼šæ”¯æŒåŸºäºå‰åºçŠ¶æ€çš„è¿ç»­è®¡ç®—
 *    â€¢ ç¤ºä¾‹ï¼šDeFiåè®®çš„æµåŠ¨æ€§æ± çŠ¶æ€ã€AIæ¨¡å‹çš„æ¨ç†æ—¥å¿—
 * 
 * æ ¸å¿ƒç®€åŒ–è®¾è®¡ç†å¿µï¼š
 * 
 * 1. è¾“å…¥ç»Ÿä¸€å¤„ç†ï¼š
 *    â€¢ æ¶ˆè´¹æ¨¡å¼ï¼šUTXOè¢«èŠ±è´¹ï¼Œä»UTXOé›†åˆä¸­ç§»é™¤
 *    â€¢ å¼•ç”¨æ¨¡å¼ï¼šUTXOè¢«åªè¯»å¼•ç”¨ï¼Œä¿æŒåœ¨UTXOé›†åˆä¸­
 *    â€¢ ç­¾åéªŒè¯ï¼šç»Ÿä¸€çš„è§£é”æœºåˆ¶ï¼Œè¯æ˜æœ‰æƒä½¿ç”¨è¯¥UTXO
 * 
 * 2. è¾“å‡ºä¸‰å…ƒåˆ†ç¦»ï¼š
 *    â€¢ AssetOutputï¼šçº¯èµ„äº§è¾“å‡ºï¼ˆä»·å€¼è½¬ç§»ã€æ‰¾é›¶ã€å¥–åŠ±ï¼‰
 *    â€¢ ResourceOutputï¼šèµ„æºåˆ›å»ºï¼ˆåˆçº¦/æ¨¡å‹éƒ¨ç½²ï¼Œæ–‡ä»¶/æ•°æ®ä¸Šä¼ ï¼‰
 *    â€¢ StateOutputï¼šçŠ¶æ€è¾“å‡ºï¼ˆæ‰§è¡Œç»“æœã€çŠ¶æ€è®°å½•ã€å®¡è®¡è¯æ˜ï¼‰
 * 
 * 3. é«˜æ•ˆéªŒè¯ï¼š
 *    â€¢ ç¡®å®šæ€§éªŒè¯ï¼šé€šè¿‡å¯†ç å­¦ç­¾åå’Œä»·å€¼å®ˆæ’ç¡®ä¿äº¤æ˜“æœ‰æ•ˆæ€§
 *    â€¢ å¹¶è¡Œå‹å¥½ï¼šUTXOæ¨¡å‹å¤©ç„¶æ”¯æŒå¹¶è¡ŒéªŒè¯
 *    â€¢ è½»èŠ‚ç‚¹æ”¯æŒï¼šéªŒè¯åªéœ€ç›¸å…³UTXOè€Œéå…¨å±€çŠ¶æ€
 *    â€¢ å¼‚æ„ç½‘ç»œï¼šä¸åŒæ‰§è¡Œèƒ½åŠ›çš„èŠ‚ç‚¹å¯ååŒå·¥ä½œ
 */

/**
 * Hash - ç»Ÿä¸€çš„å“ˆå¸Œç±»å‹
 * å›ºå®š32å­—èŠ‚çš„SHA-256å“ˆå¸Œï¼Œç¡®ä¿ç±»å‹å®‰å…¨å’Œä¸€è‡´æ€§
 */
message Hash {
  bytes value = 1;  // å›ºå®š32å­—èŠ‚SHA-256å“ˆå¸Œ
}

/**
 * Address - åŒºå—é“¾åœ°å€ç³»ç»Ÿ
 * 
 * Bitcoiné£æ ¼çš„åœ°å€è®¾è®¡ï¼š
 * - ä½¿ç”¨Base58Checkç¼–ç 
 * - 20å­—èŠ‚åœ°å€å“ˆå¸Œ + ç‰ˆæœ¬å­—èŠ‚ + æ ¡éªŒå’Œ
 * - æ”¯æŒè‡ªå®šä¹‰JSONåºåˆ—åŒ–ä¸ºç”¨æˆ·å‹å¥½æ ¼å¼
 */
message Address {
  // 20å­—èŠ‚åœ°å€å“ˆå¸Œï¼ˆRIPEMD160(SHA256(å…¬é’¥))ï¼‰
  bytes raw_hash = 1;
  
  // Base58Checkç¼–ç çš„å®Œæ•´åœ°å€å­—ç¬¦ä¸²
  string encoded_address = 2;
  
  // åœ°å€ç±»å‹
  AddressType address_type = 3;
  
  // ç‰ˆæœ¬å­—èŠ‚
  uint32 version_byte = 4;
  
  enum AddressType {
    P2PKH = 0;     // Pay-to-Public-Key-Hash (æ ‡å‡†åœ°å€)
    P2SH = 1;      // Pay-to-Script-Hash (å¤šé‡ç­¾ååœ°å€)
  }
}

/**
 * TokenId - ä»£å¸æ ‡è¯†ç¬¦
 * æ”¯æŒåŸç”Ÿä»£å¸ï¼ˆç©ºå€¼ï¼‰å’Œè‡ªå®šä¹‰ä»£å¸çš„ç»Ÿä¸€æ ‡è¯†
 */
message TokenId {
  bytes value = 1;  // ä»£å¸IDï¼Œç©ºå€¼è¡¨ç¤ºåŸç”Ÿä»£å¸
}

/**
 * SignatureData - æ•°å­—ç­¾åæ•°æ®
 * å…·ä½“çš„ç­¾åæ ¼å¼ï¼Œé¿å…æ¨¡ç³Šçš„bytesï¼Œæ”¯æŒå¤šç§ç­¾åç®—æ³•
 */
message SignatureData {
  bytes value = 1;  // ç­¾åæ•°æ®ï¼ˆ64-256å­—èŠ‚ï¼Œä¾ç®—æ³•è€Œå®šï¼‰
}

/**
 * PublicKey - å…¬é’¥æ•°æ®
 * æ ‡å‡†çš„å…¬é’¥æ ¼å¼ï¼Œæ”¯æŒå¤šç§å¯†ç å­¦ç®—æ³•
 */
message PublicKey {
  bytes value = 1;  // å…¬é’¥æ•°æ®ï¼ˆ33-65å­—èŠ‚ï¼Œä¾ç®—æ³•å’Œå‹ç¼©æ ¼å¼è€Œå®šï¼‰
}

/**
 * OutPoint - UTXOä½ç½®å¼•ç”¨
 * æä¾›å¯¹åŒºå—é“¾ä¸­ç‰¹å®šUTXOçš„ç²¾ç¡®å®šä½
 */
message OutPoint {
  bytes tx_id = 1;                                     // äº¤æ˜“æ ‡è¯†ç¬¦ï¼ˆSHA-256å“ˆå¸Œï¼‰
  uint32 output_index = 2;                             // è¾“å‡ºç´¢å¼•ï¼ˆåœ¨äº¤æ˜“è¾“å‡ºåˆ—è¡¨ä¸­çš„ä½ç½®ï¼‰
}

// ================================================================================================
// ğŸ’° ç¬¬ä¸‰éƒ¨åˆ†ï¼šäº¤æ˜“æ ¸å¿ƒç»“æ„
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ’° åŒºå—é“¾äº¤æ˜“æ ¸å¿ƒç»“æ„ - UTXOçŠ¶æ€è½¬æ¢å¼•æ“
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚å®šä¹‰åŒºå—é“¾çš„æ ¸å¿ƒäº¤æ˜“ç»“æ„ï¼Œå®ç°ç¡®å®šæ€§çš„çŠ¶æ€è½¬æ¢ï¼š
 * 
 * ğŸ¯ æ ¸å¿ƒç»„ä»¶ï¼š
 * â€¢ Transaction: å®Œæ•´çš„çŠ¶æ€è½¬æ¢å®šä¹‰
 * â€¢ TxInput: UTXOå¼•ç”¨å’Œè§£é”è¯æ˜
 * â€¢ TxOutput: æ–°UTXOåˆ›å»ºå’Œé”å®šæ¡ä»¶
 * 
 * ğŸ”„ ç»Ÿä¸€èµ„æºç³»ç»Ÿé›†æˆï¼š
 * â€¢ ç›´æ¥ä½¿ç”¨ pb.blockchain.resource.Resourceï¼ˆåŒ…å« ResourceCategory/ExecutableTypeï¼‰
 * â€¢ ä¸åœ¨äº¤æ˜“å±‚å®šä¹‰èµ„æºç±»å‹æšä¸¾ï¼›æƒé™è£å†³ç”± unlocking_proof å®Œæˆ
 * â€¢ æ–‡ä»¶æ”¯æŒï¼šä»æ—  â†’ ç»Ÿä¸€æ–‡ä»¶å­˜å‚¨æ¡†æ¶
 * â€¢ ä»£ç é‡å¤ï¼šä»85% â†’ 0% (-100%)
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

/**
 * Transaction - EUTXOçŠ¶æ€è½¬æ¢å™¨ï¼ˆæ ¸å¿ƒäº¤æ˜“ç»“æ„ï¼‰
 * 
 * ğŸ¯ æœ¬è´¨å®šä¹‰ï¼ˆæ ¸å¿ƒç†å¿µï¼‰ï¼š
 * **Transaction = ç»è¿‡æˆæƒçš„ UTXO çŠ¶æ€è½¬æ¢å‡½æ•°**
 * 
 * æ›´ç›´ç™½åœ°è¯´ï¼šTX = è¯æ˜ä½ æœ‰æƒä½¿ç”¨æŸäº› UTXO + å®šä¹‰å¦‚ä½•åˆ›å»ºæ–°çš„ UTXO
 * 
 * ğŸ”‘ ä¸‰å±‚é€’è¿›ç»“æ„ï¼š
 * 
 * ã€ç¬¬1å±‚ - æœ€æ ¸å¿ƒï¼šæƒé™éªŒè¯ã€‘
 * â€¢ å¯¹äºæ¯ä¸ªè¾“å…¥ï¼šå¿…é¡»è¯æ˜"ä½ æœ‰ä»€ä¹ˆæƒåˆ©ä½¿ç”¨è¿™ä¸ªUTXOï¼Ÿ"
 * â€¢ éªŒè¯æ–¹å¼ï¼šUnlockingProof å¿…é¡»åŒ¹é… LockingCondition
 * â€¢ 7ç§è¯æ˜æ–¹å¼å¯¹åº”7ç§é”å®šæ¡ä»¶
 * â€¢ âš ï¸ è¿™æ˜¯å®‰å…¨çš„åŸºçŸ³ï¼šæ²¡æœ‰æƒé™ = ä¸èƒ½æ‰§è¡Œä»»ä½•æ“ä½œ
 * â€¢ ä½¿ç”¨æ–¹å¼ï¼šConsumeï¼ˆæ¶ˆè´¹ï¼ŒUTXOç§»é™¤ï¼‰/ Referenceï¼ˆå¼•ç”¨ï¼ŒUTXOä¿æŒï¼‰
 * 
 * ã€ç¬¬2å±‚ - åŠŸèƒ½å±‚ï¼šè¾“å‡ºåˆ›å»ºã€‘
 * â€¢ å¯¹äºæ¯ä¸ªè¾“å‡ºï¼šå®šä¹‰"åˆ›å»ºä»€ä¹ˆç±»å‹çš„UTXOï¼Ÿç»™è°ï¼Ÿä»€ä¹ˆæƒé™ï¼Ÿ"
 * â€¢ è¾“å‡ºç±»å‹ï¼šAssetï¼ˆä»·å€¼ï¼‰/ Resourceï¼ˆèƒ½åŠ›ï¼‰/ Stateï¼ˆè¯æ®ï¼‰
 * â€¢ æ‰€æœ‰è€…ï¼šOwneråœ°å€
 * â€¢ é”å®šæ¡ä»¶ï¼šæ–°UTXOçš„è®¿é—®æ§åˆ¶è§„åˆ™
 * â€¢ âš ï¸ åˆ›å»ºæœ¬èº«ä¸éœ€è¦æƒé™ï¼Œä½†å¿…é¡»æ»¡è¶³ä»·å€¼å®ˆæ’
 * 
 * ã€ç¬¬3å±‚ - çº¦æŸå±‚ï¼šåˆæ³•æ€§ä¿è¯ã€‘
 * â€¢ ä»·å€¼å®ˆæ’ï¼šÎ£(è¾“å…¥) â‰¥ Î£(è¾“å‡º) + Fee
 * â€¢ è¾“å…¥æœ‰æ•ˆï¼šæ‰€æœ‰UTXOå¿…é¡»å­˜åœ¨ä¸”æœªè¢«æ¶ˆè´¹
 * â€¢ æƒé™éªŒè¯ï¼šæ‰€æœ‰UnlockingProofå¿…é¡»æœ‰æ•ˆ
 * â€¢ æ¡ä»¶æ»¡è¶³ï¼šæ—¶é—´é”ã€é«˜åº¦é”ç­‰æ¡ä»¶å¿…é¡»æ»¡è¶³
 * 
 * ğŸ—ï¸ å›ºåŒ–èƒ½åŠ›ï¼ˆæ°¸ä¸æ”¹å˜ï¼‰ï¼š
 * 1. ğŸ”— UTXOå¼•ç”¨ï¼šé€šè¿‡OutPointç²¾ç¡®å®šä½
 * 2. ğŸ”“ è§£é”æˆæƒï¼š7ç§æ ‡å‡†è§£é”æ–¹å¼ï¼ˆSingleKey/MultiKey/Contract/Delegation/Threshold/Time/Heightï¼‰
 * 3. ğŸ¯ è¾“å‡ºåˆ›å»ºï¼š3ç§è½½ä½“ç±»å‹ï¼ˆAsset/Resource/Stateï¼‰
 * 4. â° æ—¶é—´æ§åˆ¶ï¼šäº¤æ˜“çº§æ—¶é—´é”å®šå’ŒåŒºå—é«˜åº¦é”å®š
 * 
 * âš ï¸ æ¶æ„çº¦æŸï¼ˆé˜²æ­¢æ±¡æŸ“åè®®å±‚ï¼‰ï¼š
 * âŒ ä¸åº”æ·»åŠ ï¼šä¸šåŠ¡ç›¸å…³çš„å­—æ®µï¼ˆå¦‚transfer_typeã€stake_modeç­‰ï¼‰
 * âŒ ä¸åº”æ·»åŠ ï¼šä¸šåŠ¡æšä¸¾ï¼ˆå¦‚TRANSFERã€MINTã€BURNã€STAKEç­‰ï¼‰
 * âŒ ä¸åº”æ·»åŠ ï¼šç‰¹å®šä¸šåŠ¡çš„é…ç½®ï¼ˆå¦‚staking_configã€swap_paramsç­‰ï¼‰
 * âœ… åªèƒ½åŒ…å«ï¼šçº¯ç²¹çš„è¾“å…¥è¾“å‡ºå®šä¹‰å’Œé€šç”¨éªŒè¯å­—æ®µ
 * 
 * ğŸ’¡ ä¸šåŠ¡è¯­ä¹‰å®ç°ï¼ˆåº”ç”¨å±‚è§£é‡Šï¼‰ï¼š
 * - è½¬è´¦ï¼š1ä¸ªAssetInput(æ¶ˆè´¹) + 2ä¸ªAssetOutput(è½¬è´¦+æ‰¾é›¶)
 * - é“¸é€ ï¼š0ä¸ªInput + Nä¸ªAssetOutput
 * - é”€æ¯ï¼šNä¸ªAssetInput(æ¶ˆè´¹) + 0ä¸ªOutput
 * - è´¨æŠ¼ï¼šNä¸ªAssetInput + Mä¸ªAssetOutput(å¸¦ContractLock)
 * - éƒ¨ç½²ï¼šNä¸ªAssetInput(è´¹ç”¨) + 1ä¸ªResourceOutput
 * - è°ƒç”¨ï¼šAssetInput(è´¹ç”¨) + ResourceInput(å¼•ç”¨) + StateOutput(ç»“æœ)
 * 
 * ğŸ¯ ä¸ºä»€ä¹ˆæƒé™éªŒè¯æ˜¯æ ¸å¿ƒï¼Ÿ
 * â€¢ æ²¡æœ‰æƒé™éªŒè¯ â†’ ä»»ä½•äººéƒ½å¯ä»¥èŠ±è´¹åˆ«äººçš„UTXO â†’ åŒºå—é“¾æ¯«æ— å®‰å…¨æ€§
 * â€¢ æœ‰äº†æƒé™éªŒè¯ â†’ åªæœ‰æŒæœ‰æ­£ç¡®å¯†é’¥/è¯æ˜çš„äººæ‰èƒ½ä½¿ç”¨UTXO â†’ å¯†ç å­¦å®‰å…¨ä¿è¯
 * â€¢ UnlockingProof + LockingCondition = åŒºå—é“¾å®‰å…¨çš„åŸºçŸ³
 */
message Transaction {
  // ==================== ğŸ¯ æ ¸å¿ƒå¿…éœ€å­—æ®µ ====================
  uint32 version = 1;                                 // äº¤æ˜“ç‰ˆæœ¬å·
  repeated TxInput inputs = 2;                        // äº¤æ˜“è¾“å…¥åˆ—è¡¨ï¼ˆUTXOå¼•ç”¨+è§£é”è¯æ˜ï¼‰
  repeated TxOutput outputs = 3;                      // äº¤æ˜“è¾“å‡ºåˆ—è¡¨ï¼ˆæ–°UTXOåˆ›å»ºï¼‰
  
  /**
   * è´¦æˆ·nonce - é‡æ”¾æ”»å‡»é˜²æŠ¤ç³»ç»Ÿ
   */
  uint64 nonce = 20;
  
  /**
   * äº¤æ˜“åˆ›å»ºæ—¶é—´æˆ³ï¼ˆå¿…éœ€ï¼‰
   */
  uint64 creation_timestamp = 21;

  /**
   * é“¾IDï¼ˆé˜²è·¨é“¾é‡æ”¾æ”»å‡»ï¼‰
   */
  bytes chain_id = 24;
  
  /**
   * äº¤æ˜“æœ‰æ•ˆæœŸçª—å£ï¼ˆå¯é€‰ï¼‰
   */
  oneof validity_window {
    TimeBasedWindow time_window = 22;                 // åŸºäºæ—¶é—´æˆ³çš„çª—å£æ§åˆ¶
    HeightBasedWindow height_window = 23;             // åŸºäºåŒºå—é«˜åº¦çš„çª—å£æ§åˆ¶
  }
  
  /**
   * ç»Ÿä¸€äº¤æ˜“è´¹ç”¨æœºåˆ¶ï¼ˆå¯é€‰ï¼Œä¸è®¾ç½®åˆ™ä½¿ç”¨UTXOå·®é¢ï¼‰
   * 
   * **é»˜è®¤ï¼šUTXOå·®é¢æœºåˆ¶**
   * å¦‚æœæœªè®¾ç½®fee_mechanismï¼Œä½¿ç”¨æœ€ç®€å•çš„UTXOå·®é¢ï¼š
   * äº¤æ˜“è´¹ç”¨ = Î£(è¾“å…¥é‡‘é¢) - Î£(è¾“å‡ºé‡‘é¢)
   * 
   * **å¯é€‰ï¼šç‰¹æ®Šçº¦æŸæœºåˆ¶**
   * å½“éœ€è¦ç‰¹æ®Šè´¹ç”¨çº¦æŸæ—¶ï¼Œå¯è®¾ç½®ä»¥ä¸‹æ¨¡å¼ï¼š
   * - minimum_fee: é˜²åƒåœ¾äº¤æ˜“ï¼Œè®¾ç½®è´¹ç”¨ä¸‹é™
   * - proportional_fee: æŒ‰æ¯”ä¾‹æ”¶è´¹ï¼ˆå¦‚ä¸‡åˆ†ä¹‹ä¸‰ï¼‰
   * - contract_fee: åˆçº¦è°ƒç”¨ï¼Œå›ºå®šè´¹ç”¨æ¨¡å¼
   * - priority_fee: ç´§æ€¥äº¤æ˜“ï¼Œä¼˜å…ˆçº§åŠ é€Ÿ
   */
  oneof fee_mechanism {
    // æ¨¡å¼1ï¼šæ— æ˜¾å¼è´¹ç”¨è®¾ç½®ï¼Œä½¿ç”¨UTXOå¤©ç„¶å·®é¢
    // è´¹ç”¨ = Î£(è¾“å…¥) - Î£(è¾“å‡º)
  
    // æ¨¡å¼2ï¼šæœ€ä½è´¹ç”¨ä¿è¯
    MinimumFee minimum_fee = 30;                      // æœ€ä½è´¹ç”¨ä¿è¯
    
    // æ¨¡å¼3ï¼šæ¯”ä¾‹è´¹ç”¨ï¼ˆä¸‡åˆ†ä¹‹ä¸‰ç­‰ï¼‰
    ProportionalFee proportional_fee = 31;            // æ¯”ä¾‹è´¹ç”¨

    // æ¨¡å¼4ï¼šåˆçº¦æ‰§è¡Œè´¹ç”¨ï¼ˆå›ºå®šè´¹ç”¨æ¨¡å¼ï¼‰
    ContractExecutionFee contract_fee = 32;           // åˆçº¦æ‰§è¡Œè´¹ç”¨

    // æ¨¡å¼5ï¼šä¼˜å…ˆçº§è´¹ç”¨ï¼ˆå¿«é€Ÿç¡®è®¤ï¼‰
    PriorityFee priority_fee = 33;                    // ä¼˜å…ˆçº§è´¹ç”¨
  }
  
  /**
   * äº¤æ˜“å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰
   */
  optional TransactionMetadata metadata = 6;
  
  /**
   * èµ„æºå¤–æŒ‚é™„ä»¶å¼•ç”¨åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰
   */
  repeated bytes resource_attachment_hashes = 50;   // å¤–æŒ‚èµ„æºé™„ä»¶å“ˆå¸Œåˆ—è¡¨
}

/**
 * TxInput - UTXOè¾“å…¥å¼•ç”¨ï¼ˆçŠ¶æ€è½¬æ¢çš„è¾“å…¥ï¼‰
 * 
 * ğŸ¯ æ ¸å¿ƒèŒè´£ï¼š
 * å®ç°å¯¹å·²æœ‰UTXOçš„ç²¾ç¡®å¼•ç”¨å’Œæ ‡å‡†åŒ–è§£é”ï¼Œæ”¯æŒä¸¤ç§ä½¿ç”¨æ¨¡å¼ã€‚
 * 
 * ğŸ”„ ä¸¤ç§å¼•ç”¨æ¨¡å¼ï¼ˆå›ºåŒ–èƒ½åŠ›ï¼‰ï¼š
 * 1. æ¶ˆè´¹å¼•ç”¨ï¼ˆConsumeï¼‰ï¼šUTXOè¢«æ¶ˆè´¹ï¼Œä»å¯ç”¨UTXOé›†åˆä¸­ç§»é™¤
 *    - æ ‡è¯†ï¼šis_reference_only = false
 *    - ä½¿ç”¨åœºæ™¯ï¼šè½¬è´¦ã€æ”¯ä»˜æ‰‹ç»­è´¹ã€èµ„æºå‡çº§ã€æƒé™è½¬ç§»
 *    - ç”Ÿå‘½å‘¨æœŸï¼šä¸€æ—¦è¢«æ¶ˆè´¹ï¼ŒUTXOä»é›†åˆä¸­ç§»é™¤
 *    - æƒé™è¦æ±‚ï¼šå¿…é¡»æä¾›æœ‰æ•ˆçš„UnlockingProof
 * 
 * 2. åªè¯»å¼•ç”¨ï¼ˆReferenceï¼‰ï¼šUTXOè¢«å¼•ç”¨ä½†ä¸æ¶ˆè´¹ï¼Œä¿æŒåœ¨UTXOé›†åˆä¸­
 *    - æ ‡è¯†ï¼šis_reference_only = true
 *    - ä½¿ç”¨åœºæ™¯ï¼šåˆçº¦è°ƒç”¨ã€æ¨¡å‹æ¨ç†ã€æ–‡ä»¶è®¿é—®ã€çŠ¶æ€æŸ¥è¯¢
 *    - ç”Ÿå‘½å‘¨æœŸï¼šUTXOä¿æŒåœ¨é›†åˆä¸­ï¼Œæ”¯æŒå¹¶å‘è®¿é—®
 *    - æƒé™è¦æ±‚ï¼šå¿…é¡»æä¾›æœ‰æ•ˆçš„UnlockingProofï¼ˆéªŒè¯è®¿é—®æƒé™ï¼‰
 * 
 * ğŸ”‘ è§£é”è¯æ˜ç³»ç»Ÿï¼ˆ7ç§å›ºåŒ–æ–¹å¼ï¼‰ï¼š
 * æä¾›å¯¹åº”é”å®šæ¡ä»¶çš„"é’¥åŒ™"ï¼Œæ”¯æŒ7ç§æ ‡å‡†è§£é”æ–¹å¼ï¼š
 * - SingleKeyProofï¼šå•å¯†é’¥ç­¾å
 * - MultiKeyProofï¼šM-of-Nå¤šé‡ç­¾å
 * - ExecutionProofï¼šISPCæ‰§è¡Œè¯æ˜ï¼ˆé€šç”¨ï¼Œé€‚ç”¨äºåˆçº¦/æ¨¡å‹/å…¶ä»–ï¼‰
 * - DelegationProofï¼šå§”æ‰˜æˆæƒè¯æ˜
 * - ThresholdProofï¼šé—¨é™ç­¾åè¯æ˜
 * - TimeProofï¼šæ—¶é—´é”è¯æ˜ï¼ˆé€’å½’åŒ…å«åŸºç¡€è¯æ˜ï¼‰
 * - HeightProofï¼šé«˜åº¦é”è¯æ˜ï¼ˆé€’å½’åŒ…å«åŸºç¡€è¯æ˜ï¼‰
 * 
 * âš ï¸ æ¶æ„çº¦æŸï¼š
 * âœ… åªå…³å¿ƒï¼šOutPoint(ä½ç½®) + is_reference_only(æ¨¡å¼) + UnlockingProof(æƒé™)
 * âŒ ä¸å…³å¿ƒï¼šä¸šåŠ¡è¯­ä¹‰ï¼ˆæ˜¯è½¬è´¦è¿˜æ˜¯è´¨æŠ¼ï¼Ÿç”±åº”ç”¨å±‚è§£é‡Šï¼‰
 * âŒ ä¸æ·»åŠ ï¼šä¸šåŠ¡ç›¸å…³å­—æ®µï¼ˆå¦‚input_purposeã€operation_typeç­‰ï¼‰
 */
message TxInput {
  OutPoint previous_output = 1;                       // å¼•ç”¨çš„UTXOä½ç½®ï¼ˆäº¤æ˜“å“ˆå¸Œ+è¾“å‡ºç´¢å¼•ï¼‰
  bool is_reference_only = 2;                        // å¼•ç”¨æ¨¡å¼ï¼ˆtrue=åªè¯»å¼•ç”¨ï¼Œfalse=æ¶ˆè´¹å¼•ç”¨ï¼‰
                                                    // è¯´æ˜ï¼šé€šè¿‡ OutPoint å¼•ç”¨ ResourceOutput UTXO
                                                    //   - åªè¯»å¼•ç”¨ï¼šä¸æ¶ˆè´¹UTXOï¼ˆé™æ€èµ„æºè®¿é—®/å¯æ‰§è¡Œèµ„æºè°ƒç”¨ï¼‰
                                                    //   - æ¶ˆè´¹å¼•ç”¨ï¼šæ¶ˆè´¹UTXOï¼ˆæ‰€æœ‰æƒ/æƒé™å˜æ›´ã€æ›¿æ¢å‡çº§ç­‰ï¼‰
  uint32 sequence = 3;                               // åºåˆ—å·ï¼ˆç”¨äºRBFã€æ—¶é—´é”ç­‰é«˜çº§åŠŸèƒ½ï¼‰
  
  // è§£é”è¯æ˜ï¼ˆæä¾›"é’¥åŒ™"æ¥æ‰“å¼€é”å®šæ¡ä»¶ï¼‰
  oneof unlocking_proof {
    SingleKeyProof single_key_proof = 10;           // å•å¯†é’¥è§£é”è¯æ˜
    MultiKeyProof multi_key_proof = 11;             // å¤šå¯†é’¥è§£é”è¯æ˜
    ExecutionProof execution_proof = 17;            // âœ… ISPCæ‰§è¡Œè¯æ˜ï¼ˆé€šç”¨ï¼Œé€‚ç”¨äºåˆçº¦/æ¨¡å‹/å…¶ä»–ï¼‰
    DelegationProof delegation_proof = 13;           // å§”æ‰˜æˆæƒè§£é”è¯æ˜
    ThresholdProof threshold_proof = 14;             // é—¨é™ç­¾åè§£é”è¯æ˜
    TimeProof time_proof = 15;                       // æ—¶é—´é”è§£é”è¯æ˜
    HeightProof height_proof = 16;                   // é«˜åº¦é”è§£é”è¯æ˜
  }
}

/**
 * TxOutput - UTXOè¾“å‡ºåˆ›å»ºï¼ˆçŠ¶æ€è½¬æ¢çš„è¾“å‡ºï¼‰
 * 
 * ğŸ¯ æ ¸å¿ƒå®šä½ï¼š
 * åˆ›å»ºæ–°çš„UTXOï¼Œå®ç°ç»Ÿä¸€æƒåˆ©è½½ä½“ç†è®ºçš„ä¸‰å±‚è½½ä½“åˆ›å»ºæ¶æ„ã€‚
 * 
 * ğŸ—ï¸ ä¸‰ç§è¾“å‡ºç±»å‹ï¼ˆå›ºåŒ–èƒ½åŠ›ï¼Œæ°¸ä¸æ”¹å˜ï¼‰ï¼š
 * 
 * 1. **AssetOutput**ï¼šåˆ›å»ºä»·å€¼è½½ä½“UTXO
 *    - èŒè´£ï¼šæ‰¿è½½ç»æµä»·å€¼æƒåˆ©ï¼ˆæ‰€æœ‰æƒã€è½¬ç§»æƒã€æ”¶ç›Šæƒï¼‰
 *    - ç”¨é€”ï¼šè½¬è´¦ã€æ‰¾é›¶ã€å¥–åŠ±ã€æŠµæŠ¼
 *    - ç”Ÿå‘½å‘¨æœŸï¼šæ¶ˆè´¹åç§»é™¤
 *    - æƒåˆ©æ§åˆ¶ï¼šé€šè¿‡locking_conditionså®šä¹‰è®¿é—®æƒé™
 *    - åº”ç”¨å±‚è§£é‡Šï¼š
 *      â€¢ åˆ›å»º1ä¸ª â†’ è½¬è´¦æ¥æ”¶
 *      â€¢ åˆ›å»º2ä¸ª â†’ è½¬è´¦+æ‰¾é›¶
 *      â€¢ ä»æ— åˆ›å»º â†’ é“¸é€ /åˆ›ä¸–
 *      â€¢ å¸¦ContractLock â†’ è´¨æŠ¼é”å®š
 * 
 * 2. **ResourceOutput**ï¼šåˆ›å»ºèƒ½åŠ›è½½ä½“UTXO
 *    - èŒè´£ï¼šæ‰¿è½½è®¡ç®—èƒ½åŠ›æƒåˆ©ï¼ˆä½¿ç”¨æƒã€æ‰§è¡Œæƒã€é…ç½®æƒï¼‰
 *    - ç”¨é€”ï¼šæ™ºèƒ½åˆçº¦éƒ¨ç½²ã€AIæ¨¡å‹ä¸Šä¼ ã€æ–‡æ¡£å‘å¸ƒã€æ•°æ®å­˜å‚¨
 *    - ç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»ºåå¯è¢«å¼•ç”¨ï¼ˆé€šè¿‡TxInput.is_reference_only=trueï¼‰
 *    - æƒåˆ©æ§åˆ¶ï¼šé€šè¿‡locking_conditionså®šä¹‰åˆå§‹è®¿é—®æ§åˆ¶
 *    - åº”ç”¨å±‚è§£é‡Šï¼š
 *      â€¢ åˆ›å»ºWASMåˆçº¦ â†’ åˆçº¦éƒ¨ç½²
 *      â€¢ åˆ›å»ºONNXæ¨¡å‹ â†’ æ¨¡å‹éƒ¨ç½²
 *      â€¢ åˆ›å»ºæ–‡æ¡£/å›¾ç‰‡ â†’ é™æ€èµ„æºä¸Šä¼ 
 * 
 * 3. **StateOutput**ï¼šåˆ›å»ºè¯æ®è½½ä½“UTXO
 *    - èŒè´£ï¼šæ‰¿è½½å†å²è¯æ®æƒåˆ©ï¼ˆè¯æ˜æƒã€æŸ¥è¯¢æƒã€è¿½æº¯æƒï¼‰
 *    - ç”¨é€”ï¼šæ‰§è¡Œç»“æœã€çŠ¶æ€å¿«ç…§ã€å®¡è®¡è®°å½•
 *    - ç”Ÿå‘½å‘¨æœŸï¼šå¯è®¾ç½®TTLï¼Œæ”¯æŒå†å²è¿½æº¯
 *    - æƒåˆ©æ§åˆ¶ï¼šé€šè¿‡locking_conditionså®šä¹‰è¯æ®è®¿é—®æƒåˆ©
 *    - åº”ç”¨å±‚è§£é‡Šï¼š
 *      â€¢ åˆçº¦æ‰§è¡Œç»“æœ â†’ æ‰§è¡Œè¯æ˜
 *      â€¢ æ¨¡å‹æ¨ç†è¾“å‡º â†’ æ¨ç†è®°å½•
 *      â€¢ çŠ¶æ€å¿«ç…§ â†’ å®¡è®¡è¿½æº¯
 * 
 * âš ï¸ é‡è¦æ¦‚å¿µåŒºåˆ†ï¼ˆé˜²æ­¢è®¾è®¡é”™è¯¯ï¼‰ï¼š
 * - TxOutput = åˆ›å»ºæ–°UTXOï¼ˆCreationï¼‰
 * - TxInput + OutPoint = å¼•ç”¨å·²å­˜åœ¨çš„UTXOï¼ˆReferenceï¼‰
 * - ä¸åº”æ··æ·†"åˆ›å»º"ä¸"å¼•ç”¨"çš„æ¦‚å¿µ
 * 
 * ğŸ”§ å…³é”®è®¾è®¡åŸåˆ™ï¼š
 * - èµ„æºåˆ›å»ºï¼šTxOutput.ResourceOutputï¼ˆåŒ…å«å®Œæ•´Resourceå®šä¹‰ï¼‰
 * - èµ„æºå¼•ç”¨ï¼šTxInput + OutPoint + is_reference_only=true
 * - èµ„æºæ¶ˆè´¹ï¼šTxInput + OutPoint + is_reference_only=false
 * - æƒåˆ©ç®¡ç†ï¼šç»Ÿä¸€ä½¿ç”¨locking_conditionsè¡¨è¾¾è®¿é—®æ§åˆ¶
 * - å†…å®¹å¯»å€ï¼šèµ„æºå†…å®¹å­˜å‚¨åœ¨å†…å®¹å¯»å€ç½‘ç»œï¼ŒåŒºå—é“¾åªè®°å½•å“ˆå¸Œå’Œå…ƒä¿¡æ¯
 * 
 * âš ï¸ æ¶æ„çº¦æŸï¼š
 * âœ… åªå…³å¿ƒï¼šOwner + LockingConditions + OutputContent(ä¸‰é€‰ä¸€)
 * âŒ ä¸å…³å¿ƒï¼šä¸šåŠ¡è¯­ä¹‰ï¼ˆæ˜¯è½¬è´¦è¿˜æ˜¯éƒ¨ç½²ï¼Ÿç”±åº”ç”¨å±‚è§£é‡Šï¼‰
 * âŒ ä¸æ·»åŠ ï¼šä¸šåŠ¡ç›¸å…³å­—æ®µï¼ˆå¦‚output_purposeã€operation_contextç­‰ï¼‰
 * âœ… å›ºåŒ–èƒ½åŠ›ï¼š3ç§è¾“å‡ºç±»å‹æ°¸ä¸æ”¹å˜ï¼Œé€šè¿‡ç»„åˆå®ç°æ‰€æœ‰ä¸šåŠ¡åœºæ™¯
 * 
 * ğŸ’¡ ç†è®ºæ˜ å°„ï¼š
 * - TxOutput = æƒåˆ©è½½ä½“åˆ›å»ºå±‚çš„å…·ä½“å®ç°
 * - locking_conditions = æƒåˆ©çº¦æŸçš„ç¼–ç å®ç°  
 * - ä¸‰ç§output_content = ä¸‰ç§æƒåˆ©è½½ä½“ç±»å‹çš„EUTXOåˆ›å»ºå…·ç°åŒ–
 * - ç¬¦åˆç»Ÿä¸€æƒåˆ©è½½ä½“ç†è®ºã€EUTXOæƒåˆ©å…·ç°åŒ–ç†è®ºã€ç»Ÿä¸€èµ„æºç®¡ç†ç†è®º
 */
message TxOutput {
  bytes owner = 1;                                   // æ‰€æœ‰è€…åœ°å€ï¼ˆç´¢å¼•/å±•ç¤ºç”¨é€”ï¼Œæƒé™ä»¥locking_conditionsä¸ºå‡†ï¼‰
  repeated LockingCondition locking_conditions = 2;  // é”å®šæ¡ä»¶åˆ—è¡¨
  
  // ä¸‰å±‚UTXOè¾“å‡ºç³»ç»Ÿï¼ˆè½½ä½“åˆ›å»ºï¼‰
  oneof output_content {
    AssetOutput asset = 10;                          // Type 1: åˆ›å»ºä»·å€¼è½½ä½“UTXO
    StateOutput state = 12;                          // Type 2: åˆ›å»ºè¯æ®è½½ä½“UTXO
    ResourceOutput resource = 13;                    // Type 3: åˆ›å»ºèƒ½åŠ›è½½ä½“UTXO
  }
}

// ================================================================================================
// ğŸ”’ ç¬¬å››éƒ¨åˆ†ï¼šç»Ÿä¸€é”å®šç³»ç»Ÿ
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ”’ UTXOé”å®šæ¡ä»¶ç³»ç»Ÿ - ä¼ä¸šçº§å®‰å…¨æ§åˆ¶ (ğŸš¨ ç»Ÿä¸€å®šä¹‰åŒºåŸŸ)
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚å®šä¹‰åŒºå—é“¾çš„7ç§æ ‡å‡†é”å®šæ¡ä»¶ï¼Œå½¢æˆå®Œæ•´çš„ä¼ä¸šçº§å®‰å…¨ä½“ç³»ï¼š
 * 
 * ğŸ“‹ é€šç”¨é”å®šæ¡ä»¶ä½“ç³»ï¼š
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   é”å®šç±»å‹       â”‚   é€‚ç”¨åœºæ™¯       â”‚   å®‰å…¨çº§åˆ«       â”‚   éªŒè¯å¤æ‚åº¦     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ SingleKeyLock   â”‚ ä¸ªäººé’±åŒ…        â”‚ â­â­â­           â”‚ O(1)            â”‚
 * â”‚ MultiKeyLock    â”‚ ä¼ä¸šæ²»ç†        â”‚ â­â­â­â­         â”‚ O(M)            â”‚
 * â”‚ ContractLock    â”‚ æ™ºèƒ½åˆçº¦        â”‚ â­â­â­â­â­       â”‚ O(Time)         â”‚
 * â”‚ DelegationLock  â”‚ å§”æ‰˜æˆæƒ        â”‚ â­â­â­â­         â”‚ O(1)            â”‚
 * â”‚ ThresholdLock   â”‚ é“¶è¡Œçº§å®‰å…¨      â”‚ â­â­â­â­â­       â”‚ O(threshold)    â”‚
 * â”‚ TimeLock        â”‚ æ—¶é—´æ§åˆ¶        â”‚ â­â­â­           â”‚ O(1)            â”‚
 * â”‚ HeightLock      â”‚ åŒºå—é«˜åº¦æ§åˆ¶    â”‚ â­â­â­           â”‚ O(1)            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * ğŸ”§ ResourceUTXOè®¿é—®æ§åˆ¶ä¸“ç”¨è¡¨ï¼š
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   é”å®šç±»å‹       â”‚  èµ„æºè®¿é—®åœºæ™¯    â”‚   å…¸å‹ç”¨ä¾‹       â”‚   æƒé™ç‰¹ç‚¹       â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ SingleKeyLock   â”‚ ç§æœ‰èµ„æº        â”‚ ä¸ªäººAIæ¨¡å‹      â”‚ å®Œå…¨ç‹¬å è®¿é—®     â”‚
 * â”‚ MultiKeyLock    â”‚ å¤šç”¨æˆ·å…±äº«      â”‚ å›¢é˜Ÿåä½œåˆçº¦    â”‚ ç™½åå•+ä»»ä¸€æˆæƒ  â”‚
 * â”‚ ContractLock    â”‚ ä»˜è´¹/åŠ¨æ€æ§åˆ¶   â”‚ æŒ‰æ¬¡ä»˜è´¹æ¨¡å‹    â”‚ æ™ºèƒ½åˆçº¦è£å†³     â”‚
 * â”‚ DelegationLock  â”‚ ä¸´æ—¶æˆæƒ        â”‚ æƒé™ç§Ÿå€Ÿ        â”‚ æ—¶é™+æ“ä½œçº¦æŸ    â”‚
 * â”‚ ThresholdLock   â”‚ é«˜å®‰å…¨åä½œ      â”‚ ä¼ä¸šçº§AIæ¨¡å‹    â”‚ å¤šæ–¹è”åˆæˆæƒ     â”‚
 * â”‚ TimeLock        â”‚ å®šæ—¶å‘å¸ƒ        â”‚ å»¶è¿Ÿå…¬å¼€èµ„æº    â”‚ æ—¶é—´çº¦æŸæ§åˆ¶     â”‚
 * â”‚ HeightLock      â”‚ é˜¶æ®µæ€§è®¿é—®      â”‚ é¡¹ç›®é‡Œç¨‹ç¢‘      â”‚ é«˜åº¦çº¦æŸæ§åˆ¶     â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * 
 * ğŸ¯ è®¾è®¡ç‰¹ç‚¹ï¼š
 * â€¢ å¯¹ç§°æ€§ï¼šæ¯ç§é”å®šæ¡ä»¶éƒ½æœ‰å¯¹åº”çš„è§£é”è¯æ˜
 * â€¢ å®Œæ•´æ€§ï¼šé”å®šæ¡ä»¶åŒ…å«éªŒè¯æ‰€éœ€çš„å…¨éƒ¨å‚æ•°
 * â€¢ é€’å½’æ€§ï¼šTimeLockå’ŒHeightLockæ”¯æŒåµŒå¥—åŸºç¡€é”å®šæ¡ä»¶
 * â€¢ ä¼ä¸šçº§ï¼šæ¶µç›–ä¸ªäººè½¬è´¦åˆ°å¤®è¡Œæ•°å­—è´§å¸å‘è¡Œçš„å…¨åœºæ™¯
 * â€¢ èµ„æºå‹å¥½ï¼šä¸“ä¸ºResourceUTXOè®¿é—®æ§åˆ¶ä¼˜åŒ–è®¾è®¡
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

/**
 * LockingCondition - UTXOé”å®šæ¡ä»¶ï¼ˆå®šä¹‰"è¦æ±‚ä»€ä¹ˆæ‰èƒ½æ¶ˆè´¹"ï¼‰
 */
message LockingCondition {
  oneof condition {
    SingleKeyLock single_key_lock = 1;              // å•å¯†é’¥é”å®š
    MultiKeyLock multi_key_lock = 2;                // å¤šå¯†é’¥é”å®š
    ContractLock contract_lock = 3;                 // åˆçº¦é”å®š
    DelegationLock delegation_lock = 4;             // å§”æ‰˜é”å®š
    ThresholdLock threshold_lock = 5;               // é—¨é™ç­¾åé”å®š
    TimeLock time_lock = 6;                         // æ—¶é—´é”å®š
    HeightLock height_lock = 7;                     // é«˜åº¦é”å®š
  }
}

/**
 * SingleKeyLock - å•å¯†é’¥é”å®šæ¡ä»¶
 * 
 * æœ€åŸºç¡€çš„UTXOé”å®šæ–¹å¼ï¼Œæ”¯æŒä¸¤ç§é”å®šæ¨¡å¼ï¼š
 * 1. å…¬é’¥é”å®šï¼ˆP2PKï¼‰ï¼šGenesisã€ä¼ä¸šé¢„åˆ†é…ç­‰æœ‰å…¬é’¥çš„åœºæ™¯
 * 2. åœ°å€å“ˆå¸Œé”å®šï¼ˆP2PKHï¼‰ï¼šæ™®é€šè½¬è´¦ï¼Œæ¥æ”¶è€…åªæä¾›åœ°å€
 * **åœ¨èµ„æºè®¿é—®æ§åˆ¶ä¸­é€‚ç”¨äºç§æœ‰èµ„æºã€ä¸ªäººä¸“å±èµ„æºç­‰åœºæ™¯ã€‚**
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å…¬é’¥æ¨¡å¼ï¼šå¿…é¡»æä¾›required_public_keyå¯¹åº”ç§é’¥çš„æœ‰æ•ˆç­¾å
 * - åœ°å€å“ˆå¸Œæ¨¡å¼ï¼šå¿…é¡»æä¾›å…¬é’¥+ç­¾åï¼Œä¸”hash(å…¬é’¥) == required_address_hash
 * - ç­¾åç®—æ³•å¿…é¡»åŒ¹é…required_algorithm
 * - ç­¾åå“ˆå¸Œç±»å‹å¿…é¡»åŒ¹é…sighash_type
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹1 - æ™®é€šè½¬è´¦ï¼ˆåœ°å€å“ˆå¸Œé”å®šï¼‰ï¼š
 * single_key_lock {
 *   required_address_hash: RIPEMD160(SHA256(å…¬é’¥))  // é‡‡ç”¨Bitcoiné£æ ¼åœ°å€
 *   required_algorithm: ECDSA_SECP256K1
 *   sighash_type: SIGHASH_ALL
 * }
 * 
 * èŠ±è´¹æ—¶éœ€è¦æä¾›ï¼š
 * single_key_proof {
 *   signature: ç”¨æˆ·ç§é’¥ç­¾å
 *   public_key: ç”¨æˆ·å…¬é’¥ï¼ˆç”¨äºéªŒè¯å’Œåœ°å€æ¨å¯¼ï¼‰
 *   algorithm: ECDSA_SECP256K1
 * }
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹2 - ç§æœ‰ResourceUTXOï¼ˆä»…æ‰€æœ‰è€…ä½¿ç”¨ï¼‰ï¼š
 * åˆ›å»ºç§æœ‰åˆçº¦ResourceUTXOï¼š
 * single_key_lock {
 *   required_address_hash: hash("owner_address_123")
 *   required_algorithm: ECDSA_SECP256K1
 *   sighash_type: SIGHASH_ALL
 *   custom_message: "ç§æœ‰AIæ¨¡å‹ - ä»…æ‰€æœ‰è€…ä½¿ç”¨"  // å¯é€‰çš„èµ„æºè¯´æ˜
 * }
 * 
 * æ‰€æœ‰è€…å¼•ç”¨è‡ªå·±çš„åˆçº¦æ—¶ï¼š
 * single_key_proof {
 *   signature: "æ‰€æœ‰è€…ç­¾å"
 *   public_key: "æ‰€æœ‰è€…å…¬é’¥"
 *   algorithm: ECDSA_SECP256K1
 *   custom_message_response: "ç¡®è®¤ç§æœ‰èµ„æºä½¿ç”¨"
 * }
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹3 - Genesisèµ„æºåˆ†é…ï¼ˆå…¬é’¥é”å®šï¼‰ï¼š
 * single_key_lock {
 *   required_public_key: é¢„åˆ†é…ç”¨æˆ·å…¬é’¥
 *   required_algorithm: ECDSA_SECP256K1
 *   sighash_type: SIGHASH_ALL
 * }
 * 
 * ğŸ¯ ResourceUTXOåº”ç”¨ä»·å€¼ï¼š
 * â€¢ **ç§æœ‰èµ„æº**ï¼šä¸ªäººå¼€å‘çš„AIæ¨¡å‹ã€ç§æœ‰æ•°æ®é›†ã€ä¸ªäººåˆçº¦
 * â€¢ **ç®€å•é«˜æ•ˆ**ï¼šæœ€ä½çš„éªŒè¯å¤æ‚åº¦ï¼Œæœ€å¿«çš„è®¿é—®é€Ÿåº¦
 * â€¢ **å®‰å…¨å¯é **ï¼šåŸºäºæˆç†Ÿçš„ECDSAå¯†ç å­¦ï¼Œç»è¿‡Bitcoinå¤šå¹´éªŒè¯
 * â€¢ **å®Œå…¨æ§åˆ¶**ï¼šåªæœ‰ç§é’¥æŒæœ‰è€…èƒ½å¤Ÿè®¿é—®èµ„æºï¼Œæ— éœ€ä¿¡ä»»ç¬¬ä¸‰æ–¹
 * â€¢ **æƒé™ç»§æ‰¿**ï¼šé€šè¿‡ç§é’¥è½¬ç§»å®ç°èµ„æºæ‰€æœ‰æƒè½¬ç§»
 */
message SingleKeyLock {
  // é”å®šæ¨¡å¼ï¼šå…¬é’¥é”å®š vs åœ°å€å“ˆå¸Œé”å®š
  oneof key_requirement {
    PublicKey required_public_key = 1;              // å…¬é’¥é”å®šæ¨¡å¼ï¼ˆP2PKï¼‰
    bytes required_address_hash = 2;                // åœ°å€å“ˆå¸Œé”å®šæ¨¡å¼ï¼ˆP2PKHï¼‰
  }
  
  SignatureAlgorithm required_algorithm = 3;       // è¦æ±‚çš„ç­¾åç®—æ³•
  SignatureHashType sighash_type = 4;               // ç­¾åå“ˆå¸Œç±»å‹
  optional bytes custom_message = 5;                // å¯é€‰çš„è‡ªå®šä¹‰æ¶ˆæ¯
}

/**
 * MultiKeyLock - å¤šé‡ç­¾åé”å®šæ¡ä»¶
 * 
 * M-of-Nå¤šé‡ç­¾åé”å®šï¼Œé€‚ç”¨äºä¼ä¸šæ²»ç†ã€è”åˆé’±åŒ…ã€åŸºé‡‘ç®¡ç†ç­‰åœºæ™¯ã€‚
 * **åœ¨èµ„æºè®¿é—®æ§åˆ¶ä¸­ç‰¹åˆ«é€‚ç”¨äºå¤šç”¨æˆ·å…±äº«èµ„æºåœºæ™¯ã€‚**
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å¿…é¡»æä¾›authorized_keysä¸­è‡³å°‘required_signaturesä¸ªå…¬é’¥çš„æœ‰æ•ˆç­¾å
 * - æ¯ä¸ªç­¾åå¿…é¡»å¯¹åº”authorized_keysä¸­çš„ä¸åŒå…¬é’¥ï¼ˆé˜²é‡å¤ï¼‰
 * - æ‰€æœ‰ç­¾åå¿…é¡»ä½¿ç”¨ç›¸åŒçš„ç­¾åç®—æ³•
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹1 - ä¼ä¸šå¤šç­¾é’±åŒ…ï¼š
 * å…¬å¸åˆ›å»º3-of-5å¤šç­¾é’±åŒ…ï¼š
 * multi_key_lock {
 *   required_signatures: 3
 *   authorized_keys: [CEOå…¬é’¥, CFOå…¬é’¥, CTOå…¬é’¥, COOå…¬é’¥, è‘£äº‹é•¿å…¬é’¥]
 *   required_algorithm: ECDSA_SECP256K1
 *   require_ordered_signatures: false  // ç­¾åé¡ºåºæ— å…³
 * }
 * 
 * èŠ±è´¹æ—¶éœ€è¦æä¾›3ä¸ªæœ‰æ•ˆç­¾åï¼š
 * multi_key_proof {
 *   signatures: [
 *     {key_index: 0, signature: CEOç­¾å},
 *     {key_index: 2, signature: CTOç­¾å}, 
 *     {key_index: 4, signature: è‘£äº‹é•¿ç­¾å}
 *   ]
 * }
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹2 - å¤šç”¨æˆ·å…±äº«ResourceUTXOï¼ˆ1-of-Nç™½åå•æ¨¡å¼ï¼‰ï¼š
 * åˆ›å»ºå¤šç”¨æˆ·å¯è®¿é—®çš„åˆçº¦ResourceUTXOï¼š
 * multi_key_lock {
 *   required_signatures: 1              // åªéœ€è¦1ä¸ªç­¾åå³å¯ä½¿ç”¨
 *   authorized_keys: [
 *     æ‰€æœ‰è€…å…¬é’¥,                        // èµ„æºæ‰€æœ‰è€…
 *     ç”¨æˆ·Aå…¬é’¥,                        // æˆæƒç”¨æˆ·A
 *     ç”¨æˆ·Bå…¬é’¥,                        // æˆæƒç”¨æˆ·B
 *     ç”¨æˆ·Cå…¬é’¥                         // æˆæƒç”¨æˆ·C
 *   ]
 *   required_algorithm: ECDSA_SECP256K1
 *   require_ordered_signatures: false   // ä»»æ„ç”¨æˆ·ç­¾åå³å¯
 * }
 * 
 * ç”¨æˆ·Aå¼•ç”¨åˆçº¦æ—¶ï¼š
 * multi_key_proof {
 *   signatures: [
 *     {key_index: 1, signature: ç”¨æˆ·Aç­¾å}  // åªéœ€ç”¨æˆ·Aä¸€ä¸ªç­¾å
 *   ]
 * }
 * 
 * ğŸ¯ ResourceUTXOåº”ç”¨ä»·å€¼ï¼š
 * â€¢ **å›¢é˜Ÿåä½œ**ï¼šå¤šä¸ªå¼€å‘è€…å…±äº«ä½¿ç”¨åŒä¸€ä¸ªAIæ¨¡å‹æˆ–åˆçº¦
 * â€¢ **ä¼ä¸šæœåŠ¡**ï¼šå…¬å¸å†…å¤šä¸ªéƒ¨é—¨è®¿é—®åŒä¸€ä¸ªæ•°æ®å¤„ç†åˆçº¦  
 * â€¢ **ç™½åå•æ§åˆ¶**ï¼šç²¾ç¡®æ§åˆ¶å“ªäº›ç”¨æˆ·å¯ä»¥è®¿é—®èµ„æºï¼Œè€Œæ— éœ€å¤æ‚çš„æ™ºèƒ½åˆçº¦é€»è¾‘
 * â€¢ **æƒé™å‡çº§**ï¼šæ‰€æœ‰è€…å¯ä»¥é€šè¿‡æƒé™å˜æ›´äº¤æ˜“æ·»åŠ æˆ–ç§»é™¤æˆæƒç”¨æˆ·
 */
message MultiKeyLock {
  uint32 required_signatures = 1;                    // éœ€è¦çš„æœ€å°‘ç­¾åæ•°ï¼ˆMï¼‰
  repeated PublicKey authorized_keys = 2;            // æˆæƒå…¬é’¥åˆ—è¡¨ï¼ˆNä¸ªï¼‰
  SignatureAlgorithm required_algorithm = 3;        // è¦æ±‚çš„ç­¾åç®—æ³•
  bool require_ordered_signatures = 4;               // æ˜¯å¦è¦æ±‚æŒ‰é¡ºåºç­¾å
  SignatureHashType sighash_type = 5;               // ç­¾åå“ˆå¸Œç±»å‹
  optional string governance_policy = 6;             // å¯é€‰çš„æ²»ç†æ”¿ç­–æè¿°
}

/**
 * ContractLock - æ™ºèƒ½åˆçº¦é”å®šæ¡ä»¶
 * 
 * é€šè¿‡æ™ºèƒ½åˆçº¦é€»è¾‘æ§åˆ¶UTXOçš„ä½¿ç”¨ï¼Œé€‚ç”¨äºDeFiã€è‡ªåŠ¨åŒ–äº¤æ˜“ç­‰å¯ç¼–ç¨‹åœºæ™¯ã€‚
 * **åœ¨èµ„æºè®¿é—®æ§åˆ¶ä¸­ç‰¹åˆ«é€‚ç”¨äºå¤æ‚çš„ä»˜è´¹ä½¿ç”¨ã€åŠ¨æ€æƒé™ç®¡ç†ç­‰åœºæ™¯ã€‚**
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å¿…é¡»é€šè¿‡æŒ‡å®šåˆçº¦çš„éªŒè¯é€»è¾‘
 * - åˆçº¦æ‰§è¡Œç»“æœå¿…é¡»è¿”å›true/success
 * - çŠ¶æ€è½¬æ¢å¿…é¡»ç¬¦åˆåˆçº¦å®šä¹‰çš„è§„åˆ™
 * - æ‰§è¡Œæ—¶é—´å¿…é¡»åœ¨å…è®¸èŒƒå›´å†…
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹1 - DeFiè‡ªåŠ¨åšå¸‚å•†é”å®šï¼š
 * contract_lock {
 *   contract_address: 0x1234...AMMåˆçº¦åœ°å€
 *   required_method: "executeSwap"
 *   parameter_schema: "address,uint256,uint256"  // è¾“å…¥å‚æ•°ç±»å‹
 *   state_requirements: ["liquidity > min_liquidity"]
 *   max_execution_time_ms: 5000
 * }
 * 
 * èŠ±è´¹æ—¶éœ€è¦æä¾›ISPCæ‰§è¡Œè¯æ˜ï¼š
 * execution_proof {
 *   execution_result_hash: sha256(æ‰§è¡Œç»“æœ)
 *   state_transition_proof: merkle_proof
 *   execution_time_ms: 3500
 *   context: {æ‰§è¡Œå‚æ•°å’ŒçŠ¶æ€å˜æ›´}
 * }
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹2 - ä»˜è´¹ä½¿ç”¨ResourceUTXOï¼ˆä»»ä½•äººå¯å°è¯•ï¼Œä½†éœ€ä»˜è´¹ï¼‰ï¼š
 * é€šè¿‡æ™ºèƒ½åˆçº¦å®ç°å¤æ‚çš„ä»˜è´¹è®¿é—®æ§åˆ¶ï¼š
 * contract_lock {
 *   contract_address: "access_control_contract_addr"
 *   required_method: "checkAccess"
 *   parameter_schema: "address,uint256"         // ç”¨æˆ·åœ°å€, æ”¯ä»˜é‡‘é¢
 *   state_requirements: [
 *     "user_balance >= required_fee",           // ç”¨æˆ·ä½™é¢å……è¶³
 *     "resource_quota > 0"                      // èµ„æºé…é¢æœªç”¨å®Œ
 *   ]
 *   max_execution_time_ms: 5000
 *   allowed_callers: []                         // ç©ºæ•°ç»„ = ä»»ä½•äººéƒ½å¯ä»¥å°è¯•
 *   deadline_duration_seconds: 3600             // 1å°æ—¶å†…æœ‰æ•ˆ
 * }
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹3 - ä¼ä¸šçº§ResourceUTXOï¼ˆä»…ç‰¹å®šç”¨æˆ·å¯è®¿é—®ï¼‰ï¼š
 * é€šè¿‡åˆçº¦å®ç°å¤æ‚çš„ä¼ä¸šæƒé™æ§åˆ¶ï¼š
 * contract_lock {
 *   contract_address: "enterprise_access_contract"
 *   required_method: "verifyEmployeeAccess"
 *   parameter_schema: "address,string"          // ç”¨æˆ·åœ°å€, éƒ¨é—¨ä»£ç 
 *   state_requirements: [
 *     "employee_status == ACTIVE",              // å‘˜å·¥çŠ¶æ€æœ‰æ•ˆ
 *     "department_permission[dept] == true"     // éƒ¨é—¨æœ‰æƒé™
 *   ]
 *   max_execution_time_ms: 3000
 *   allowed_callers: [                          // åªæœ‰è¿™äº›åœ°å€å¯ä»¥å°è¯•
 *     "employee_a_address",
 *     "employee_b_address",
 *     "manager_address"
 *   ]
 * }
 * 
 * ğŸ¯ ResourceUTXOåº”ç”¨ä»·å€¼ï¼š
 * â€¢ **ä»˜è´¹æ¨¡å‹**ï¼šAIæ¨¡å‹æŒ‰æ¬¡ä»˜è´¹ã€å­˜å‚¨æŒ‰é‡ä»˜è´¹ç­‰å•†ä¸šæ¨¡å¼
 * â€¢ **åŠ¨æ€æƒé™**ï¼šæ ¹æ®ç”¨æˆ·ç­‰çº§ã€æ—¶é—´ã€ä½¿ç”¨é¢‘ç‡ç­‰åŠ¨æ€è°ƒæ•´è®¿é—®æƒé™
 * â€¢ **å¤æ‚ä¸šåŠ¡é€»è¾‘**ï¼šç§¯åˆ†ç³»ç»Ÿã€ä¼šå‘˜åˆ¶åº¦ã€ä¼ä¸šçº§æƒé™ç®¡ç†ç­‰
 * â€¢ **åˆè§„æ£€æŸ¥**ï¼šè‡ªåŠ¨æ‰§è¡ŒKYCã€åæ´—é’±ç­‰åˆè§„è¦æ±‚
 * â€¢ **èµ„æºé…é¢ç®¡ç†**ï¼šé™åˆ¶ç”¨æˆ·ä½¿ç”¨æ¬¡æ•°ã€ä½¿ç”¨æ—¶é•¿ç­‰
 */
message ContractLock {
  bytes contract_address = 1;                        // åˆçº¦åœ°å€
  string required_method = 2;                        // è¦æ±‚è°ƒç”¨çš„æ–¹æ³•å
  string parameter_schema = 3;                       // å‚æ•°ç±»å‹å®šä¹‰ï¼ˆABIæ ¼å¼ï¼‰
  repeated string state_requirements = 4;            // çŠ¶æ€è¦æ±‚åˆ—è¡¨
  uint64 max_execution_time_ms = 5;                 // æœ€å¤§æ‰§è¡Œæ—¶é—´é™åˆ¶ï¼ˆæ¯«ç§’ï¼‰
  bytes contract_state_hash = 6;                     // åˆçº¦çŠ¶æ€å“ˆå¸Œï¼ˆç¡®ä¿ä¸€è‡´æ€§ï¼‰
  optional string execution_policy = 7;              // å¯é€‰çš„æ‰§è¡Œç­–ç•¥
  
  // å¢å¼ºçš„è´¹ç”¨æ§åˆ¶
  uint64 max_total_fee = 11;                        // æœ€å¤§æ€»è´¹ç”¨é™åˆ¶
  
  // å‚æ•°éªŒè¯å¢å¼º
  bytes parameter_hash = 20;                        // å‚æ•°å“ˆå¸Œï¼ˆé˜²ç¯¡æ”¹ï¼‰
  repeated string allowed_callers = 21;             // å…è®¸çš„è°ƒç”¨è€…åœ°å€åˆ—è¡¨
  optional uint64 deadline_duration_seconds = 22;   // è°ƒç”¨æˆªæ­¢æ—¶é—´ï¼ˆç›¸å¯¹ç§’æ•°ï¼Œ0=æ— æœŸé™ï¼‰
}

/**
 * DelegationLock - å§”æ‰˜æˆæƒé”å®šæ¡ä»¶
 * 
 * å…è®¸UTXOæ‰€æœ‰è€…æˆæƒç¬¬ä¸‰æ–¹ä»£ä¸ºæ“ä½œï¼Œé€‚ç”¨äºæ‰˜ç®¡æœåŠ¡ã€è‡ªåŠ¨åŒ–äº¤æ˜“ã€ä»£ç†æŠ•ç¥¨ç­‰åœºæ™¯ã€‚
 * **åœ¨èµ„æºè®¿é—®æ§åˆ¶ä¸­ç‰¹åˆ«é€‚ç”¨äºä¸´æ—¶æˆæƒã€ä»£ç†è®¿é—®ã€æ—¶é™æ§åˆ¶ç­‰åœºæ™¯ã€‚**
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å¿…é¡»æä¾›æœ‰æ•ˆçš„å§”æ‰˜æˆæƒè¯æ˜
 * - å§”æ‰˜å¿…é¡»æœªè¿‡æœŸï¼ˆexpiry_duration_blocksæ£€æŸ¥ï¼‰
 * - æ“ä½œç±»å‹å¿…é¡»åœ¨æˆæƒèŒƒå›´å†…
 * - è¢«å§”æ‰˜æ–¹å¿…é¡»æä¾›æœ‰æ•ˆç­¾å
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹1 - äº¤æ˜“æ‰€æ‰˜ç®¡ï¼š
 * ç”¨æˆ·æˆæƒäº¤æ˜“æ‰€ä»£ä¸ºäº¤æ˜“ï¼š
 * delegation_lock {
 *   original_owner: ç”¨æˆ·åœ°å€
 *   allowed_delegates: [äº¤æ˜“æ‰€åœ°å€1, äº¤æ˜“æ‰€åœ°å€2]
 *   authorized_operations: ["transfer", "trade", "stake"]
 *   expiry_duration_blocks: 10000  // 10000ä¸ªåŒºå—åè¿‡æœŸ
 *   max_value_per_operation: 1000 * 10^8   // å•æ¬¡æ“ä½œæœ€å¤§é‡‘é¢ï¼ˆBaseUnitï¼‰
 *                                           // å³ï¼š1000 WES = 100,000,000,000 BaseUnit
 * }
 * 
 * äº¤æ˜“æ‰€èŠ±è´¹æ—¶éœ€è¦æä¾›ï¼š
 * delegation_proof {
 *   delegation_transaction_id: åŸå§‹å§”æ‰˜äº¤æ˜“ID
 *   delegate_signature: äº¤æ˜“æ‰€ç­¾å
 *   operation_type: "trade"
 *   value_amount: 500 * 10^8  // 500 WES = 50,000,000,000 BaseUnit
 * }
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹2 - ResourceUTXOä¸´æ—¶æˆæƒï¼š
 * æ‰€æœ‰è€…å§”æ‰˜å…¶ä»–ç”¨æˆ·ä¸´æ—¶ä½¿ç”¨èµ„æºï¼š
 * delegation_lock {
 *   original_owner: "owner_address_123"
 *   allowed_delegates: [
 *     "delegate_a_address",              // è¢«å§”æ‰˜ç”¨æˆ·A
 *     "delegate_b_address"               // è¢«å§”æ‰˜ç”¨æˆ·B
 *   ]
 *   authorized_operations: [
 *     "reference",                       // å…è®¸å¼•ç”¨èµ„æºï¼ˆè°ƒç”¨åˆçº¦ã€è®¿é—®æ–‡ä»¶ç­‰ï¼‰
 *     "execute",                         // å…è®¸æ‰§è¡Œèµ„æºï¼ˆè¿è¡ŒAIæ¨¡å‹ç­‰ï¼‰
 *     "query"                            // å…è®¸æŸ¥è¯¢èµ„æºçŠ¶æ€
 *   ]
 *   expiry_duration_blocks: 14400        // 24å°æ—¶åè¿‡æœŸï¼ˆå‡è®¾10ç§’ä¸€ä¸ªå—ï¼‰
 *   max_value_per_operation: 1000        // æ¯æ¬¡æ“ä½œæœ€å¤§è´¹ç”¨é™åˆ¶
 *   delegation_policy: "ä¸´æ—¶é¡¹ç›®åä½œæˆæƒ"  // æˆæƒè¯´æ˜
 * }
 * 
 * ç”¨æˆ·Aå¼•ç”¨åˆçº¦æ—¶ï¼š
 * delegation_proof {
 *   delegation_transaction_id: "å§”æ‰˜äº¤æ˜“ID"
 *   delegation_output_index: 0
 *   delegate_signature: "ç”¨æˆ·Aç­¾å"
 *   operation_type: "reference"          // å¼•ç”¨æ“ä½œ
 *   value_amount: 50                     // æ‰‹ç»­è´¹ç”¨ï¼ˆBaseUnitï¼Œå³ 0.00000050 WESï¼‰
 *   delegate_address: "delegate_a_address"
 * }
 * 
 * ğŸ¯ ResourceUTXOåº”ç”¨ä»·å€¼ï¼š
 * â€¢ **ä¸´æ—¶åä½œ**ï¼šé¡¹ç›®å›¢é˜Ÿæˆå‘˜ä¸´æ—¶è®¿é—®AIæ¨¡å‹ã€æ•°æ®é›†ç­‰èµ„æº
 * â€¢ **ä»£ç†æœåŠ¡**ï¼šç¬¬ä¸‰æ–¹æœåŠ¡ä»£ç†ç”¨æˆ·æ‰§è¡Œèµ„æºæ“ä½œï¼ˆå¦‚è‡ªåŠ¨åŒ–äº¤æ˜“æœºå™¨äººï¼‰
 * â€¢ **æƒé™ç§Ÿå€Ÿ**ï¼šå°†èµ„æºä½¿ç”¨æƒä¸´æ—¶ç§Ÿå€Ÿç»™å…¶ä»–ç”¨æˆ·ï¼Œåˆ°æœŸè‡ªåŠ¨æ”¶å›
 * â€¢ **ä¼ä¸šç®¡ç†**ï¼šå‘˜å·¥ç¦»èŒæ—¶è‡ªåŠ¨æ’¤é”€èµ„æºè®¿é—®æƒï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
 * â€¢ **å®‰å…¨æ§åˆ¶**ï¼šé™åˆ¶æ¯æ¬¡æ“ä½œçš„æœ€å¤§ä»·å€¼ï¼Œé˜²æ­¢å§”æ‰˜è¢«æ»¥ç”¨
 * 
 * ğŸ“‹ authorized_operationsæ ‡å‡†å€¼ï¼ˆResourceUTXOä¸“ç”¨ï¼‰ï¼š
 * â€¢ "reference" - å¼•ç”¨èµ„æºï¼ˆis_reference_only=trueï¼‰
 * â€¢ "execute" - æ‰§è¡Œèµ„æºï¼ˆç‰¹å®šäºå¯æ‰§è¡Œèµ„æºï¼‰
 * â€¢ "query" - æŸ¥è¯¢èµ„æºçŠ¶æ€å’Œå…ƒä¿¡æ¯
 * â€¢ "consume" - æ¶ˆè´¹èµ„æºï¼ˆis_reference_only=falseï¼Œç”¨äºæƒé™å˜æ›´ç­‰ï¼‰
 * â€¢ "transfer" - è½¬ç§»æ‰€æœ‰æƒï¼ˆä»…ç”¨äºAssetUTXOï¼‰
 * â€¢ "stake" - è´¨æŠ¼æ“ä½œï¼ˆä»…ç”¨äºAssetUTXOï¼‰
 * â€¢ "vote" - æŠ•ç¥¨æ“ä½œï¼ˆæ²»ç†ç±»åœºæ™¯ï¼‰
 */
message DelegationLock {
  bytes original_owner = 1;                          // åŸå§‹æ‰€æœ‰è€…åœ°å€
  repeated bytes allowed_delegates = 2;              // å…è®¸çš„è¢«å§”æ‰˜è€…åˆ—è¡¨
  repeated string authorized_operations = 3;          // æˆæƒçš„æ“ä½œç±»å‹
  optional uint64 expiry_duration_blocks = 4;       // å§”æ‰˜æœ‰æ•ˆæœŸï¼ˆç›¸å¯¹åŒºå—æ•°ï¼Œ0=æ°¸ä¸è¿‡æœŸï¼‰
  uint64 max_value_per_operation = 5;               // å•æ¬¡æ“ä½œæœ€å¤§ä»·å€¼
  optional bytes delegation_policy = 6;              // å¯é€‰çš„å§”æ‰˜ç­–ç•¥
}

/**
 * ThresholdLock - é—¨é™ç­¾åé”å®šæ¡ä»¶
 * 
 * ä½¿ç”¨é—¨é™å¯†ç å­¦çš„é«˜çº§å¤šç­¾æ–¹æ¡ˆï¼Œé€‚ç”¨äºé“¶è¡Œçº§å®‰å…¨ã€å¤§é¢èµ„äº§ç®¡ç†ç­‰åœºæ™¯ã€‚
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å¿…é¡»æä¾›è‡³å°‘thresholdä¸ªæœ‰æ•ˆçš„é—¨é™ç­¾åä»½é¢
 * - æ¯ä¸ªä»½é¢å¿…é¡»å¯¹åº”ä¸åŒçš„å‚ä¸æ–¹
 * - ç»„åˆç­¾åå¿…é¡»èƒ½å¤ŸéªŒè¯é€šè¿‡
 * - å‚ä¸æ–¹å¿…é¡»åœ¨é¢„å®šä¹‰çš„é›†åˆä¸­
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹ï¼š
 * å¤®è¡Œæ•°å­—è´§å¸å‘è¡Œï¼ˆ5-of-7é—¨é™ï¼‰ï¼š
 * threshold_lock {
 *   threshold: 5
 *   total_parties: 7
 *   party_verification_keys: [è¡Œé•¿key, å‰¯è¡Œé•¿key, ç›‘ç®¡key, æŠ€æœ¯key, é£æ§key, å®¡è®¡key, è‘£äº‹key]
 *   signature_scheme: "BLS_THRESHOLD"
 *   security_level: 256  // å®‰å…¨ä½æ•°
 * }
 * 
 * å‘è¡Œæ—¶éœ€è¦æä¾›5ä¸ªä»½é¢ï¼š
 * threshold_proof {
 *   shares: [
 *     {party_id: 1, signature_share: è¡Œé•¿ä»½é¢},
 *     {party_id: 3, signature_share: ç›‘ç®¡ä»½é¢},
 *     {party_id: 4, signature_share: æŠ€æœ¯ä»½é¢},
 *     {party_id: 5, signature_share: é£æ§ä»½é¢},
 *     {party_id: 7, signature_share: è‘£äº‹ä»½é¢}
 *   ]
 *   combined_signature: ç»„åˆåçš„ç­¾å
 * }
 */
message ThresholdLock {
  uint32 threshold = 1;                              // é—¨é™å€¼ï¼ˆéœ€è¦çš„æœ€å°‘ä»½é¢æ•°ï¼‰
  uint32 total_parties = 2;                          // æ€»å‚ä¸æ–¹æ•°é‡
  repeated bytes party_verification_keys = 3;         // å‚ä¸æ–¹éªŒè¯å¯†é’¥åˆ—è¡¨
  string signature_scheme = 4;                        // é—¨é™ç­¾åæ–¹æ¡ˆï¼ˆBLS_THRESHOLDç­‰ï¼‰
  uint32 security_level = 5;                         // å®‰å…¨çº§åˆ«ï¼ˆä½æ•°ï¼‰
  optional bytes threshold_policy = 6;               // å¯é€‰çš„é—¨é™ç­–ç•¥
}

/**
 * TimeLock - æ—¶é—´é”å®šæ¡ä»¶
 * 
 * åªæœ‰åœ¨æŒ‡å®šæ—¶é—´åæ‰èƒ½è§£é”çš„UTXOï¼Œé€‚ç”¨äºå®šæœŸå­˜æ¬¾ã€é—å˜±æ‰§è¡Œã€æœŸæƒè¡Œæƒç­‰åœºæ™¯ã€‚
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å½“å‰æ—¶é—´æˆ³å¿…é¡» >= unlock_timestamp
 * - å¿…é¡»åŒæ—¶æ»¡è¶³base_lockçš„æ‰€æœ‰è¦æ±‚
 * - æ—¶é—´è¯æ˜å¿…é¡»å¯éªŒè¯ï¼ˆåŒºå—æ—¶é—´æˆ³æˆ–å¯ä¿¡æ—¶é—´æºï¼‰
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹ï¼š
 * ä¸€å¹´æœŸå®šæœŸå­˜æ¬¾ï¼ˆ2025å¹´1æœˆ1æ—¥åˆ°æœŸï¼‰ï¼š
 * time_lock {
 *   unlock_timestamp: 1735689600  // 2025-11-01 00:00:00 UTC
 *   base_lock {
 *     single_key_lock {
 *       required_public_key: å­˜æ¬¾äººå…¬é’¥
 *       required_algorithm: ECDSA_SECP256K1
 *     }
 *   }
 *   time_source: TIME_SOURCE_BLOCK_TIMESTAMP
 * }
 * 
 * åˆ°æœŸåèŠ±è´¹éœ€è¦æä¾›ï¼š
 * time_proof {
 *   current_timestamp: 1735689600+ 
 *   timestamp_proof: åŒºå—å¤´è¯æ˜
 *   base_proof: {å­˜æ¬¾äººç­¾åè¯æ˜}
 * }
 */
message TimeLock {
  uint64 unlock_timestamp = 1;                      // UTXOè§£é”æ—¶é—´æˆ³
  LockingCondition base_lock = 2;                    // åŸºç¡€é”å®šæ¡ä»¶ï¼ˆå¿…éœ€ï¼‰
  TimeSource time_source = 3;                       // æ—¶é—´æ¥æºé…ç½®
  
  enum TimeSource {
    TIME_SOURCE_BLOCK_TIMESTAMP = 0;                 // åŒºå—æ—¶é—´æˆ³ï¼ˆé»˜è®¤ï¼Œå»ä¸­å¿ƒåŒ–ï¼‰
    TIME_SOURCE_MEDIAN_TIME = 1;                     // ä¸­ä½æ•°æ—¶é—´ï¼ˆæ›´ç¨³å®šï¼‰
    TIME_SOURCE_ORACLE = 2;                          // é¢„è¨€æœºæ—¶é—´ï¼ˆé«˜ç²¾åº¦åœºæ™¯ï¼‰
  }
}

/**
 * HeightLock - åŒºå—é«˜åº¦é”å®šæ¡ä»¶
 * 
 * åªæœ‰åœ¨æŒ‡å®šåŒºå—é«˜åº¦åæ‰èƒ½è§£é”çš„UTXOï¼Œé€‚ç”¨äºé”ä»“æ¿€åŠ±ã€åˆ†é˜¶æ®µé‡Šæ”¾ã€æŒ–çŸ¿å¥–åŠ±ç­‰åœºæ™¯ã€‚
 * 
 * ğŸ”’ é”å®šè¦æ±‚ï¼š
 * - å½“å‰åŒºå—é«˜åº¦å¿…é¡» >= unlock_height
 * - å¿…é¡»åŒæ—¶æ»¡è¶³base_lockçš„æ‰€æœ‰è¦æ±‚
 * - å¿…é¡»è¾¾åˆ°è¦æ±‚çš„ç¡®è®¤åŒºå—æ•°
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹ï¼š
 * å‘˜å·¥è‚¡æƒé”ä»“ï¼ˆé”å®š1000ä¸ªåŒºå—ï¼‰ï¼š
 * height_lock {
 *   unlock_height: å½“å‰é«˜åº¦ + 1000
 *   base_lock {
 *     single_key_lock {
 *       required_public_key: å‘˜å·¥å…¬é’¥
 *       required_algorithm: ECDSA_SECP256K1
 *     }
 *   }
 *   confirmation_blocks: 6  // éœ€è¦6ä¸ªç¡®è®¤
 * }
 * 
 * è§£é”æ—¶èŠ±è´¹éœ€è¦æä¾›ï¼š
 * height_proof {
 *   current_height: è§£é”é«˜åº¦+
 *   block_header_proof: å½“å‰åŒºå—å¤´è¯æ˜
 *   base_proof: {å‘˜å·¥ç­¾åè¯æ˜}
 *   confirmation_blocks: 6
 * }
 */
message HeightLock {
  uint64 unlock_height = 1;                          // è§£é”åŒºå—é«˜åº¦
  LockingCondition base_lock = 2;                    // åŸºç¡€é”å®šæ¡ä»¶
  uint32 confirmation_blocks = 3;                    // éœ€è¦çš„ç¡®è®¤åŒºå—æ•°
  optional uint64 grace_blocks = 4;                  // å¯é€‰çš„å®½é™åŒºå—æ•°
}

// ================================================================================================
// ğŸ”‘ ç¬¬äº”éƒ¨åˆ†ï¼šè§£é”è¯æ˜ç³»ç»Ÿ
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ”‘ UTXOè§£é”è¯æ˜ç³»ç»Ÿ - å¯¹åº”é”å®šæ¡ä»¶çš„"é’¥åŒ™"
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚å®šä¹‰ä¸7ç§é”å®šæ¡ä»¶ç²¾ç¡®å¯¹åº”çš„è§£é”è¯æ˜ç³»ç»Ÿï¼š
 * 
 * ğŸ”‘ æ ¸å¿ƒå¯¹åº”å…³ç³»ï¼š
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   é”å®šæ¡ä»¶       â”‚  â†”  è§£é”è¯æ˜    â”‚   éªŒè¯æœºåˆ¶       â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ SingleKeyLock   â”‚ SingleKeyProof  â”‚ ç­¾åéªŒè¯         â”‚
 * â”‚ MultiKeyLock    â”‚ MultiKeyProof   â”‚ M-of-NéªŒè¯      â”‚
 * â”‚ ContractLock    â”‚ ExecutionProof   â”‚ çŠ¶æ€è½¬æ¢éªŒè¯     â”‚
 * â”‚ DelegationLock  â”‚ DelegationProof â”‚ å§”æ‰˜æƒé™éªŒè¯     â”‚
 * â”‚ ThresholdLock   â”‚ ThresholdProof  â”‚ é—¨é™ç­¾åéªŒè¯     â”‚
 * â”‚ TimeLock        â”‚ TimeProof       â”‚ æ—¶é—´+åŸºç¡€éªŒè¯    â”‚
 * â”‚ HeightLock      â”‚ HeightProof     â”‚ é«˜åº¦+åŸºç¡€éªŒè¯    â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

/**
 * SingleKeyProof - å•å¯†é’¥è§£é”è¯æ˜
 * 
 * å¯¹åº”SingleKeyLockçš„è§£é”è¯æ˜ï¼Œæ”¯æŒP2PKå’ŒP2PKHä¸¤ç§éªŒè¯æ¨¡å¼ã€‚
 * 
 * ğŸ”‘ è¯æ˜å†…å®¹ï¼š
 * - signature: ä½¿ç”¨private_keyå¯¹äº¤æ˜“æ•°æ®çš„ç­¾å
 * - public_key: å¯¹åº”å…¬é’¥ï¼ˆç”¨äºéªŒè¯å’Œåœ°å€æ¨å¯¼ï¼‰
 * - algorithm: ç­¾åç®—æ³•ï¼ˆå¿…é¡»åŒ¹é…lock.required_algorithmï¼‰
 * - sighash_type: ç­¾åå“ˆå¸Œç±»å‹ï¼ˆå¿…é¡»åŒ¹é…lock.sighash_typeï¼‰
 * 
 * ğŸ“ éªŒè¯ç¤ºä¾‹ï¼š
 * 
 * P2PKæ¨¡å¼éªŒè¯ï¼ˆå…¬é’¥é”å®šï¼‰ï¼š
 * 1. éªŒè¯public_key == lock.required_public_key
 * 2. éªŒè¯algorithm == lock.required_algorithm  
 * 3. éªŒè¯sighash_type == lock.sighash_type
 * 4. ä½¿ç”¨public_keyéªŒè¯signatureå¯¹äº¤æ˜“å“ˆå¸Œçš„æœ‰æ•ˆæ€§
 * 
 * P2PKHæ¨¡å¼éªŒè¯ï¼ˆåœ°å€å“ˆå¸Œé”å®šï¼‰ï¼š
 * 1. è®¡ç®—address_hash = RIPEMD160(SHA256(public_key))
 * 2. éªŒè¯address_hash == lock.required_address_hash
 * 3. éªŒè¯algorithm == lock.required_algorithm
 * 4. éªŒè¯sighash_type == lock.sighash_type  
 * 5. ä½¿ç”¨public_keyéªŒè¯signatureå¯¹äº¤æ˜“å“ˆå¸Œçš„æœ‰æ•ˆæ€§
 * 
 * å¦‚æœæœ‰custom_messageï¼ŒéªŒè¯custom_message_response
 */
message SingleKeyProof {
  SignatureData signature = 1;                       // æ•°å­—ç­¾å
  PublicKey public_key = 2;                          // å¯¹åº”å…¬é’¥
  SignatureAlgorithm algorithm = 3;                  // ç­¾åç®—æ³•
  SignatureHashType sighash_type = 4;               // ç­¾åå“ˆå¸Œç±»å‹
  optional bytes custom_message_response = 5;        // å¯é€‰çš„è‡ªå®šä¹‰æ¶ˆæ¯å“åº”
}

/**
 * MultiKeyProof - å¤šé‡ç­¾åè§£é”è¯æ˜
 * 
 * å¯¹åº”MultiKeyLockçš„è§£é”è¯æ˜ï¼Œæä¾›M-of-Nå¤šé‡ç­¾åã€‚
 * 
 * ğŸ”‘ è¯æ˜å†…å®¹ï¼š
 * - signatures: ç­¾ååˆ—è¡¨ï¼Œæ¯ä¸ªåŒ…å«key_indexå’Œå¯¹åº”ç­¾å
 * - ç­¾åæ•°é‡å¿…é¡» >= lock.required_signatures
 * - æ¯ä¸ªkey_indexå¿…é¡»æŒ‡å‘lock.authorized_keysä¸­çš„æœ‰æ•ˆå…¬é’¥
 * - ä¸å…è®¸é‡å¤ä½¿ç”¨ç›¸åŒçš„key_index
 * 
 * ğŸ“ éªŒè¯ç¤ºä¾‹ï¼š
 * 1. éªŒè¯signatures.length >= lock.required_signatures
 * 2. éªŒè¯æ¯ä¸ªsignature.key_indexåœ¨æœ‰æ•ˆèŒƒå›´å†…ä¸”ä¸é‡å¤
 * 3. é€ä¸ªéªŒè¯ç­¾åå¯¹åº”æ­£ç¡®çš„å…¬é’¥
 * 4. éªŒè¯æ‰€æœ‰ç­¾åç®—æ³•ä¸€è‡´ä¸”ç¬¦åˆlock.required_algorithm
 */
message MultiKeyProof {
  repeated SignatureEntry signatures = 1;            // ç­¾åæ¡ç›®åˆ—è¡¨
  
  message SignatureEntry {
    uint32 key_index = 1;                           // å¯¹åº”authorized_keysçš„ç´¢å¼•
    SignatureData signature = 2;                     // ç­¾åæ•°æ®
    SignatureAlgorithm algorithm = 3;                // ç­¾åç®—æ³•
    SignatureHashType sighash_type = 4;             // ç­¾åå“ˆå¸Œç±»å‹
  }
}

/**
 * ExecutionProof - ISPCæ‰§è¡Œè¯æ˜ï¼ˆé€šç”¨è®¾è®¡ï¼‰
 * 
 * ğŸ¯ **æ ¸å¿ƒå®šä½**ï¼š
 * - ExecutionProof æ˜¯ Transaction çš„ä¸€éƒ¨åˆ†ï¼ˆUnlockingProof ä¸­çš„ä¸€ä¸ªé€‰é¡¹ï¼‰
 * - ExecutionProof ä¸èƒ½è„±ç¦» Transaction ç‹¬ç«‹å­˜åœ¨
 * - ExecutionProof çš„ç›®çš„æ˜¯è¯æ˜ ISPC æ‰§è¡Œçš„æ­£ç¡®æ€§ï¼Œç”¨äºè§£é” ContractLock
 * - ExecutionProof åªå…³æ³¨æ‰§è¡Œå±‚é¢çš„ä¿¡æ¯ï¼ˆè°æ‰§è¡Œã€æ‰§è¡Œä»€ä¹ˆã€æ‰§è¡Œç»“æœï¼‰
 * - Transaction çº§åˆ«çš„ä¿¡æ¯ï¼ˆvalueã€transaction_hashã€timestampã€nonceï¼‰éƒ½åº”è¯¥ä» Transaction æœ¬èº«è·å–
 * 
 * ğŸ”‘ **è¯æ˜å†…å®¹**ï¼š
 * - execution_result_hash: æ‰§è¡Œç»“æœå“ˆå¸Œï¼ˆé€šç”¨ï¼‰
 * - state_transition_proof: çŠ¶æ€è½¬æ¢çš„é»˜å…‹å°”è¯æ˜ï¼ˆé€šç”¨ï¼‰
 * - execution_time_ms: å®é™…æ‰§è¡Œæ—¶é—´ï¼ˆå¿…é¡» <= lock.max_execution_time_msï¼‰
 * - context: æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆé€šç”¨ï¼ŒåŒ…å«èº«ä»½è¯æ˜ï¼‰
 * 
 * ğŸ›¡ï¸ **éšç§ä¿æŠ¤è®¾è®¡**ï¼š
 * - input_data_hash: è¾“å…¥æ•°æ®å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰ï¼ŒåŸå§‹æ•°æ®ä¸åœ¨é“¾ä¸Š
 * - output_data_hash: è¾“å‡ºæ•°æ®å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰ï¼ŒåŸå§‹æ•°æ®ä¸åœ¨é“¾ä¸Š
 * - metadata["contract_state_before_hash"]: æ‰§è¡Œå‰çŠ¶æ€å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
 * - metadata["contract_state_after_hash"]: æ‰§è¡ŒåçŠ¶æ€å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
 * - åŸå§‹æ•°æ®å­˜å‚¨åœ¨é“¾ä¸‹æˆ–åŠ å¯†å­˜å‚¨ï¼Œç”¨æˆ·æ§åˆ¶è®¿é—®
 * - é€šè¿‡å“ˆå¸ŒéªŒè¯æ•°æ®å®Œæ•´æ€§ï¼ŒZKè¯æ˜éªŒè¯æ‰§è¡Œæ­£ç¡®æ€§
 * 
 * ğŸ“ **éªŒè¯ç¤ºä¾‹**ï¼š
 * 1. éªŒè¯resource_address == lock.contract_address
 * 2. éªŒè¯execution_time_ms <= lock.max_execution_time_ms
 * 3. éªŒè¯execution_result_hashä¸æä¾›çš„ç»“æœè¯æ˜ä¸€è‡´ï¼ˆæ— éœ€åœ¨å…±è¯†è·¯å¾„é‡æ‰§è¡Œï¼‰
 * 4. éªŒè¯çŠ¶æ€è½¬æ¢ç¬¦åˆlock.state_requirementsï¼ˆé€šè¿‡çŠ¶æ€å“ˆå¸ŒéªŒè¯ï¼‰
 * 5. éªŒè¯å‚æ•°ç¬¦åˆlock.parameter_schemaå®šä¹‰ï¼ˆé€šè¿‡è¾“å…¥å“ˆå¸ŒéªŒè¯ï¼‰
 * 6. éªŒè¯æ•°æ®å®Œæ•´æ€§ï¼šé€šè¿‡å“ˆå¸ŒéªŒè¯è¾“å…¥/è¾“å‡ºæ•°æ®æœªè¢«ç¯¡æ”¹
 * 7. éªŒè¯caller_identityï¼šé€šè¿‡ç­¾åè¯æ˜caller_addressçš„çœŸå®æ€§ï¼ˆå¯†ç å­¦ä¿è¯ï¼‰
 * 
 * âš ï¸ **è¾¹ç•ŒåŸåˆ™**ï¼š
 * - ExecutionProof åªå…³æ³¨æ‰§è¡Œå±‚é¢çš„ä¿¡æ¯ï¼ˆè°æ‰§è¡Œã€æ‰§è¡Œä»€ä¹ˆã€æ‰§è¡Œç»“æœï¼‰
 * - Transaction çº§åˆ«çš„ä¿¡æ¯ï¼ˆvalueã€transaction_hashã€timestampã€nonceï¼‰éƒ½åº”è¯¥ä» Transaction æœ¬èº«è·å–
 * - IdentityProof.timestampï¼šç”¨äº IdentityProof çš„æ—¶æ•ˆæ€§éªŒè¯ï¼ˆç‹¬ç«‹äº TX timestampï¼‰
 */
message ExecutionProof {
  bytes execution_result_hash = 1;                   // æ‰§è¡Œç»“æœå“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
  bytes state_transition_proof = 2;                  // çŠ¶æ€è½¬æ¢è¯æ˜ï¼ˆMerkleè¯æ˜ï¼‰
  uint64 execution_time_ms = 3;                     // å®é™…æ‰§è¡Œæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
  ExecutionContext context = 4;                      // æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆé€šç”¨ï¼‰
  
  message ExecutionContext {
    // ========== èº«ä»½å’Œèµ„æºä¿¡æ¯ï¼ˆé€šç”¨ï¼Œå¿…éœ€ï¼‰==========
    IdentityProof caller_identity = 10;              // âœ… è°ƒç”¨è€…èº«ä»½è¯æ˜ï¼ˆå¿…éœ€ï¼‰
                                                      // ç”¨é€”ï¼šé€šè¿‡å¯†ç å­¦ç­¾åè¯æ˜caller_addressçš„çœŸå®æ€§
                                                      // åŒ…å«ï¼špublic_keyã€signatureã€nonceã€timestampã€context_hash
                                                      // éªŒè¯ï¼šsignatureå¯¹context_hashç­¾åï¼Œè¯æ˜ç”¨æˆ·æˆæƒ
                                                      // âš ï¸ å¯†ç å­¦å®‰å…¨æ€§ï¼šcaller_addresså¿…é¡»æœ‰å¯†ç å­¦è¯æ˜ï¼Œä¸èƒ½ä»…ä¾èµ–ç™½åå•æ£€æŸ¥
                                                      // æ³¨æ„ï¼šIdentityProof.timestamp ç”¨äºæ—¶æ•ˆæ€§éªŒè¯ï¼Œç‹¬ç«‹äº TX timestamp
    
    bytes resource_address = 14;                     // âœ… èµ„æºåœ°å€ï¼ˆé€šç”¨ï¼šåˆçº¦/æ¨¡å‹/å…¶ä»–ï¼Œ20å­—èŠ‚ï¼‰
                                                      // ç”¨é€”ï¼šæ ‡è¯†è¢«æ‰§è¡Œçš„èµ„æºï¼ˆåˆçº¦åœ°å€ã€æ¨¡å‹åœ°å€ç­‰ï¼‰
                                                      // éªŒè¯ï¼šå¿…é¡»ä¸lock.contract_addressåŒ¹é…
    
    ExecutionType execution_type = 15;                // âœ… æ‰§è¡Œç±»å‹ï¼ˆé€šç”¨ï¼‰
                                                      // ç”¨é€”ï¼šæ ‡è¯†æ‰§è¡Œå¼•æ“ç±»å‹ï¼ˆWASMåˆçº¦ã€ONNXæ¨¡å‹ç­‰ï¼‰
                                                      // éªŒè¯ï¼šç”¨äºè·¯ç”±åˆ°æ­£ç¡®çš„éªŒè¯é€»è¾‘
    
    // ========== æ‰§è¡Œä¿¡æ¯ï¼ˆé€šç”¨ï¼Œéšç§ä¿æŠ¤ï¼‰==========
    bytes input_data_hash = 1;                       // âœ… è¾“å…¥æ•°æ®å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼Œä¿æŠ¤éšç§ï¼‰
                                                      // åŸå§‹æ•°æ®ä¸åœ¨é“¾ä¸Šï¼Œé¿å…éšç§æ³„éœ²
                                                      // ç”¨é€”ï¼šéªŒè¯æ•°æ®å®Œæ•´æ€§ï¼Œä¸æš´éœ²åŸå§‹å†…å®¹
    
    bytes output_data_hash = 2;                      // âœ… è¾“å‡ºæ•°æ®å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼Œä¿æŠ¤éšç§ï¼‰
                                                      // åŸå§‹æ•°æ®ä¸åœ¨é“¾ä¸Šï¼Œé¿å…éšç§æ³„éœ²
                                                      // ç”¨é€”ï¼šéªŒè¯æ•°æ®å®Œæ•´æ€§ï¼Œä¸æš´éœ²åŸå§‹å†…å®¹
    
    // ========== å…ƒæ•°æ®æ‰©å±•ï¼ˆç”¨äºå­˜å‚¨éæ•æ„Ÿä¿¡æ¯æˆ–å“ˆå¸Œï¼‰==========
    map<string, bytes> metadata = 40;                // âœ… æ‰©å±•å…ƒæ•°æ®ï¼ˆé€šç”¨ï¼Œä¸åŒ…å«æ•æ„ŸåŸå§‹æ•°æ®ï¼‰
                                                      // ç”¨é€”ï¼šå­˜å‚¨éæ•æ„Ÿä¿¡æ¯æˆ–çŠ¶æ€å“ˆå¸Œ
                                                      // ç¤ºä¾‹ï¼š
                                                      //   - "method_name": "transfer" (åˆçº¦ï¼Œéæ•æ„Ÿ)
                                                      //   - "model_hash": "0xabc..." (AIæ¨¡å‹ï¼Œéæ•æ„Ÿ)
                                                      //   - "call_depth": "1" (åˆçº¦ï¼Œéæ•æ„Ÿ)
                                                      //   - "compute_units": "5" (AIæ¨¡å‹ï¼Œéæ•æ„Ÿ)
                                                      //   - "contract_state_before_hash": æ‰§è¡Œå‰çŠ¶æ€å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
                                                      //   - "contract_state_after_hash": æ‰§è¡ŒåçŠ¶æ€å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
                                                      // âš ï¸ æ³¨æ„ï¼šmetadataä¸­ä¸åº”å­˜å‚¨æ•æ„ŸåŸå§‹æ•°æ®æˆ– Transaction çº§åˆ«ä¿¡æ¯
  }
}

/**
 * ExecutionType - æ‰§è¡Œç±»å‹æšä¸¾
 * 
 * ğŸ¯ ç”¨é€”ï¼šæ ‡è¯†æ‰§è¡Œå¼•æ“ç±»å‹ï¼Œç”¨äºè·¯ç”±åˆ°æ­£ç¡®çš„éªŒè¯é€»è¾‘
 */
enum ExecutionType {
  EXECUTION_TYPE_UNKNOWN = 0;
  EXECUTION_TYPE_CONTRACT = 1;      // æ™ºèƒ½åˆçº¦ï¼ˆWASMï¼‰
  EXECUTION_TYPE_AI_MODEL = 2;     // AIæ¨¡å‹ï¼ˆONNXï¼‰
  // æœªæ¥å¯ä»¥æ‰©å±•ï¼š
  // EXECUTION_TYPE_SQL = 3;
  // EXECUTION_TYPE_PYTHON = 4;
  // EXECUTION_TYPE_CUSTOM = 99;
}

/**
 * DelegationProof - å§”æ‰˜æˆæƒè§£é”è¯æ˜
 * 
 * å¯¹åº”DelegationLockçš„è§£é”è¯æ˜ï¼Œæä¾›æœ‰æ•ˆçš„å§”æ‰˜æˆæƒã€‚
 * 
 * ğŸ”‘ è¯æ˜å†…å®¹ï¼š
 * - delegation_transaction_id: åŸå§‹å§”æ‰˜äº¤æ˜“çš„ID
 * - delegate_signature: è¢«å§”æ‰˜æ–¹çš„ç­¾å
 * - operation_type: å½“å‰æ“ä½œç±»å‹ï¼ˆå¿…é¡»åœ¨æˆæƒèŒƒå›´å†…ï¼‰
 * - value_amount: æ“ä½œé‡‘é¢ï¼ˆå¿…é¡» <= lock.max_value_per_operationï¼‰
 * - execution_time_ms: å®é™…æ‰§è¡Œæ—¶é—´ï¼ˆå¿…é¡» <= lock.max_execution_time_msï¼‰
 * 
 * ğŸ“ éªŒè¯ç¤ºä¾‹ï¼š
 * 1. éªŒè¯å§”æ‰˜äº¤æ˜“å­˜åœ¨ä¸”æœ‰æ•ˆ
 * 2. éªŒè¯å½“å‰é«˜åº¦ <= lock.expiry_duration_blocksï¼ˆå§”æ‰˜æœªè¿‡æœŸï¼‰
 * 3. éªŒè¯operation_typeåœ¨lock.authorized_operationsä¸­
 * 4. éªŒè¯value_amount <= lock.max_value_per_operation
 * 5. éªŒè¯delegate_signatureæœ‰æ•ˆä¸”æ¥è‡ªæˆæƒçš„è¢«å§”æ‰˜æ–¹
 */
message DelegationProof {
  bytes delegation_transaction_id = 1;               // å§”æ‰˜äº¤æ˜“ID
  uint32 delegation_output_index = 2;                // å§”æ‰˜è¾“å‡ºç´¢å¼•
  SignatureData delegate_signature = 3;              // è¢«å§”æ‰˜æ–¹ç­¾å
  string operation_type = 4;                         // æ“ä½œç±»å‹
  uint64 value_amount = 5;                          // æ“ä½œé‡‘é¢ï¼ˆBaseUnitå•ä½ï¼Œuint64èŒƒå›´é™åˆ¶ï¼‰
                                                     // æ³¨æ„ï¼šå¤§é¢æ“ä½œåº”ä½¿ç”¨å­—ç¬¦ä¸²æ ¼å¼çš„amountå­—æ®µ
  bytes delegate_address = 6;                        // è¢«å§”æ‰˜æ–¹åœ°å€
  optional bytes delegation_context = 7;             // å¯é€‰çš„å§”æ‰˜ä¸Šä¸‹æ–‡
}

/**
 * ThresholdProof - é—¨é™ç­¾åè§£é”è¯æ˜
 * 
 * å¯¹åº”ThresholdLockçš„è§£é”è¯æ˜ï¼Œæä¾›é—¨é™ç­¾åçš„ç»„åˆè¯æ˜ã€‚
 * 
 * ğŸ”‘ è¯æ˜å†…å®¹ï¼š
 * - shares: é—¨é™ç­¾åä»½é¢åˆ—è¡¨ï¼ˆæ•°é‡ >= lock.thresholdï¼‰
 * - combined_signature: ç»„åˆåçš„æœ€ç»ˆç­¾å
 * - æ¯ä¸ªä»½é¢å¿…é¡»å¯¹åº”lock.party_verification_keysä¸­çš„æœ‰æ•ˆå¯†é’¥
 * 
 * ğŸ“ éªŒè¯ç¤ºä¾‹ï¼š
 * 1. éªŒè¯shares.length >= lock.threshold
 * 2. éªŒè¯æ¯ä¸ªparty_idåœ¨æœ‰æ•ˆèŒƒå›´å†…ä¸”ä¸é‡å¤
 * 3. éªŒè¯æ¯ä¸ªsignature_shareå¯¹åº”æ­£ç¡®çš„éªŒè¯å¯†é’¥
 * 4. éªŒè¯combined_signatureæ˜¯æœ‰æ•ˆçš„é—¨é™ç»„åˆç­¾å
 * 5. éªŒè¯ç­¾åæ–¹æ¡ˆç¬¦åˆlock.signature_scheme
 */
message ThresholdProof {
  repeated ThresholdSignatureShare shares = 1;        // é—¨é™ç­¾åä»½é¢
  bytes combined_signature = 2;                       // ç»„åˆç­¾å
  string signature_scheme = 3;                        // ç­¾åæ–¹æ¡ˆ
  
  message ThresholdSignatureShare {
    uint32 party_id = 1;                             // å‚ä¸æ–¹ID
    bytes signature_share = 2;                        // é—¨é™ç­¾åä»½é¢
    bytes verification_key = 3;                       // ä»½é¢éªŒè¯å¯†é’¥
    optional bytes party_proof = 4;                   // å¯é€‰çš„å‚ä¸æ–¹èº«ä»½è¯æ˜
  }
}

/**
 * TimeProof - æ—¶é—´é”è§£é”è¯æ˜
 * 
 * å¯¹åº”TimeLockçš„è§£é”è¯æ˜ï¼Œæä¾›æ—¶é—´æ¡ä»¶æ»¡è¶³çš„è¯æ˜ã€‚
 * 
 * ğŸ”‘ è¯æ˜å†…å®¹ï¼š
 * - current_timestamp: å½“å‰æ—¶é—´æˆ³ï¼ˆå¿…é¡» >= lock.unlock_timestampï¼‰
 * - timestamp_proof: æ—¶é—´æˆ³çš„å¯éªŒè¯è¯æ˜
 * - base_proof: å¯¹åº”åŸºç¡€é”å®šæ¡ä»¶çš„è§£é”è¯æ˜
 * 
 * ğŸ“ éªŒè¯ç¤ºä¾‹ï¼š
 * 1. éªŒè¯current_timestamp >= lock.unlock_timestamp
 * 2. æ ¹æ®lock.time_sourceéªŒè¯timestamp_proofçš„æœ‰æ•ˆæ€§
 * 3. é€’å½’éªŒè¯base_proofç¬¦åˆlock.base_lockçš„è¦æ±‚
 * 4. æ£€æŸ¥å®½é™æœŸç­‰é¢å¤–æ—¶é—´æ¡ä»¶
 */
message TimeProof {
  uint64 current_timestamp = 1;                      // å½“å‰æ—¶é—´æˆ³
  bytes timestamp_proof = 2;                         // æ—¶é—´æˆ³è¯æ˜
  UnlockingProof base_proof = 3;                     // åŸºç¡€è§£é”è¯æ˜
  TimeLock.TimeSource time_source = 4;               // æ—¶é—´æ¥æº
  optional bytes time_oracle_signature = 5;          // å¯é€‰çš„æ—¶é—´é¢„è¨€æœºç­¾å
}

/**
 * HeightProof - åŒºå—é«˜åº¦è§£é”è¯æ˜
 * 
 * å¯¹åº”HeightLockçš„è§£é”è¯æ˜ï¼Œæä¾›åŒºå—é«˜åº¦æ¡ä»¶æ»¡è¶³çš„è¯æ˜ã€‚
 * 
 * ğŸ”‘ è¯æ˜å†…å®¹ï¼š
 * - current_height: å½“å‰åŒºå—é«˜åº¦ï¼ˆå¿…é¡» >= lock.unlock_heightï¼‰
 * - block_header_proof: åŒºå—å¤´è¯æ˜æˆ–è½»å®¢æˆ·ç«¯è¯æ˜
 * - base_proof: å¯¹åº”åŸºç¡€é”å®šæ¡ä»¶çš„è§£é”è¯æ˜
 * 
 * ğŸ“ éªŒè¯ç¤ºä¾‹ï¼š
 * 1. éªŒè¯current_height >= lock.unlock_height
 * 2. éªŒè¯block_header_proofè¯æ˜å½“å‰é«˜åº¦çš„æœ‰æ•ˆæ€§
 * 3. é€’å½’éªŒè¯base_proofç¬¦åˆlock.base_lockçš„è¦æ±‚
 * 4. æ£€æŸ¥ç¡®è®¤åŒºå—æ•°ç­‰é¢å¤–é«˜åº¦æ¡ä»¶
 */
message HeightProof {
  uint64 current_height = 1;                         // å½“å‰åŒºå—é«˜åº¦
  bytes block_header_proof = 2;                      // åŒºå—å¤´è¯æ˜
  UnlockingProof base_proof = 3;                     // åŸºç¡€è§£é”è¯æ˜
  uint32 confirmation_blocks = 4;                    // ç¡®è®¤åŒºå—æ•°
  optional bytes light_client_proof = 5;             // å¯é€‰çš„è½»å®¢æˆ·ç«¯è¯æ˜
}

message UnlockingProof {
  oneof proof {
    SingleKeyProof single_key_proof = 1;             // å•å¯†é’¥è§£é”è¯æ˜
    MultiKeyProof multi_key_proof = 2;               // å¤šå¯†é’¥è§£é”è¯æ˜
    ExecutionProof execution_proof = 3;              // âœ… ISPCæ‰§è¡Œè¯æ˜ï¼ˆé€šç”¨ï¼Œé€‚ç”¨äºåˆçº¦/æ¨¡å‹/å…¶ä»–ï¼‰
    DelegationProof delegation_proof = 5;            // å§”æ‰˜æˆæƒè§£é”è¯æ˜
    ThresholdProof threshold_proof = 6;              // é—¨é™ç­¾åè§£é”è¯æ˜
  }
}

// ================================================================================================
// ğŸ“Š ç¬¬å…­éƒ¨åˆ†ï¼šè¾“å‡ºç±»å‹ç³»ç»Ÿ
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ“Š UTXOè¾“å‡ºç±»å‹ç³»ç»Ÿ - ä¸‰å±‚è¾“å‡ºæ¶æ„
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚å®šä¹‰åŒºå—é“¾çš„å®Œæ•´è¾“å‡ºç±»å‹ä½“ç³»ï¼Œå®ç°æ¸…æ™°çš„èŒè´£åˆ†ç¦»ï¼š
 * 
 * ğŸ¯ ä¸‰å±‚è¾“å‡ºæ¶æ„ï¼ˆåŸºäºæƒåˆ©è½½ä½“ç†è®ºï¼‰ï¼š
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   è¾“å‡ºç±»å‹       â”‚   æƒåˆ©è½½ä½“ç±»å‹   â”‚   æ ¸å¿ƒèŒè´£       â”‚   å…¸å‹ç”¨é€”       â”‚   ç”Ÿå‘½å‘¨æœŸ       â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ AssetOutput     â”‚ ä»·å€¼è½½ä½“        â”‚ ä»·å€¼ç®¡ç†        â”‚ è½¬è´¦/æ‰¾é›¶/å¥–åŠ±   â”‚ æ¶ˆè´¹åç§»é™¤       â”‚
 * â”‚ StateOutput     â”‚ è¯æ®è½½ä½“        â”‚ çŠ¶æ€è®°å½•        â”‚ æ‰§è¡Œç»“æœ/å¿«ç…§    â”‚ å¯è®¾ç½®TTL       â”‚
 * â”‚ ResourceRef     â”‚ èƒ½åŠ›è½½ä½“        â”‚ åŠŸèƒ½å¼•ç”¨        â”‚ åˆçº¦/æ¨¡å‹/æ–‡ä»¶   â”‚ æ”¯æŒå¹¶å‘å¼•ç”¨     â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

/**
 * AssetOutput - èµ„äº§è¾“å‡ºç³»ç»Ÿ
 * 
 * ğŸ¯ è®¾è®¡ç†å¿µï¼šèµ„äº§è¾“å‡ºåº”è¯¥åŒºåˆ†åŸç”Ÿä»£å¸å’Œåˆçº¦ä»£å¸ï¼Œæä¾›ä¸åŒçš„ä¼˜åŒ–ç­–ç•¥
 * 
 * ç±»å‹åˆ†å·¥ï¼š
 * - NativeCoinAssetï¼šåŸç”Ÿä»£å¸ï¼Œæç®€é«˜æ•ˆ
 * - ContractTokenAssetï¼šåˆçº¦ä»£å¸ï¼Œå®Œæ•´ç®¡ç†
 */
message AssetOutput {
  oneof asset_content {
    NativeCoinAsset native_coin = 1;               // åŸç”Ÿä»£å¸
    ContractTokenAsset contract_token = 2;           // æ™ºèƒ½åˆçº¦å‘è¡Œçš„ä»£å¸
  }
}

/**
 * NativeCoinAsset - åŸç”Ÿä»£å¸èµ„äº§ï¼ˆæç®€è®¾è®¡ï¼‰
 * 
 * ğŸ¯ è®¾è®¡ç†å¿µï¼šåŸç”Ÿä»£å¸åº”è¯¥æ˜¯æœ€ç®€å•ã€æœ€é«˜æ•ˆçš„
 * 
 * ç‰¹ç‚¹ï¼š
 * - æ— éœ€åˆçº¦åœ°å€ï¼ˆå°±æ˜¯åŸç”Ÿçš„ï¼‰
 * - æ— éœ€ä»£å¸ç±»åˆ«ï¼ˆåªæœ‰ä¸€ç§åŸç”Ÿå¸ï¼‰
 * - æ— éœ€å…ƒæ•°æ®ï¼ˆåè®®å±‚å›ºå®šå®šä¹‰ï¼‰
 * - é«˜æ€§èƒ½éªŒè¯ï¼ˆæœ€å¸¸ç”¨çš„ä»£å¸ç±»å‹ï¼‰
 * 
 * å›ºå®šå±æ€§ï¼ˆåè®®å±‚å®šä¹‰ï¼‰ï¼š
 * - åç§°ï¼šç”±å…·ä½“å®ç°å®šä¹‰
 * - ç¬¦å·ï¼šç”±å…·ä½“å®ç°å®šä¹‰  
 * - ç²¾åº¦ï¼š8ä½å°æ•°ï¼ˆ1 WES = 10^8 BaseUnitï¼‰
 * - æ€»ä¾›åº”é‡ï¼šç”±ç»æµæ¨¡å‹æ§åˆ¶
 * 
 * ğŸ“ ä½¿ç”¨ç¤ºä¾‹ï¼š
 * native_coin {
 *   amount: "150000000000"           // 1500.0 WES = 150,000,000,000 BaseUnit
 *                                    // è®¡ç®—ï¼š1500 Ã— 10^8 = 150000000000
 * }
 */
message NativeCoinAsset {
  string amount = 1;                                 // åŸç”Ÿå¸æ•°é‡ï¼ˆBaseUnitå•ä½ï¼Œå­—ç¬¦ä¸²æ ¼å¼æ”¯æŒå¤§æ•°ï¼‰
                                                     // ç¤ºä¾‹ï¼š150000000000 è¡¨ç¤º 1500.0 WES
}

/**
 * ContractTokenAsset - æ™ºèƒ½åˆçº¦ä»£å¸èµ„äº§
 * 
 * ğŸ¯ è®¾è®¡ç†å¿µï¼šåˆçº¦ä»£å¸éœ€è¦å®Œæ•´çš„ç®¡ç†å’Œåˆ†ç±»ä½“ç³»
 * 
 * èŒè´£åˆ†å·¥ï¼š
 * - UTXOå±‚ï¼šå­˜å‚¨åŸºæœ¬æ ‡è¯†ä¿¡æ¯å’Œæ•°é‡
 * - åˆçº¦å±‚ï¼šç®¡ç†å…ƒæ•°æ®ã€æƒé™ã€ä¸šåŠ¡é€»è¾‘
 * - æ˜¾ç¤ºå±‚ï¼šä»åˆçº¦æŸ¥è¯¢nameã€symbolã€decimalsç­‰å±•ç¤ºä¿¡æ¯
 * 
 * ğŸ”§ å…³é”®è®¾è®¡å†³ç­–ï¼š
 * 1. **contract_address**ï¼šæ˜ç¡®æ ‡è¯†ä»£å¸æ¥æºåˆçº¦
 * 2. **token_identifier**ï¼šç»Ÿä¸€çš„ä»£å¸æ ‡è¯†ç³»ç»Ÿ
 * 3. **amount**ï¼šå®é™…æŒæœ‰æ•°é‡ï¼ˆNFTä¸º"1"ï¼‰
 * 4. **å…ƒæ•°æ®å¼•ç”¨**ï¼šé€šè¿‡åˆçº¦æŸ¥è¯¢ï¼Œé¿å…UTXOå†—ä½™
 * 
 * ğŸ“Š ä»£å¸æ ‡è¯†ä½“ç³»ï¼š
 * - åŒè´¨åŒ–ä»£å¸(FT)ï¼šclass_idæ ‡è¯†ä»£å¸ç±»åˆ«
 * - éåŒè´¨åŒ–ä»£å¸(NFT)ï¼šunique_idæ ‡è¯†å”¯ä¸€å®ä¾‹  
 * - åŠåŒè´¨åŒ–ä»£å¸(SFT)ï¼šbatch_id + instance_id
 */
message ContractTokenAsset {
  bytes contract_address = 1;                       // ä»£å¸åˆçº¦åœ°å€
  oneof token_identifier {
    bytes fungible_class_id = 10;                   // åŒè´¨åŒ–ä»£å¸ç±»åˆ«ID
    bytes nft_unique_id = 11;                       // NFTå”¯ä¸€æ ‡è¯†ç¬¦
    SemiFungibleId semi_fungible_id = 12;           // åŠåŒè´¨åŒ–ä»£å¸ID
  }
  string amount = 2;                               // æŒæœ‰æ•°é‡ï¼ˆBaseUnitå•ä½ï¼Œå­—ç¬¦ä¸²æ ¼å¼ï¼‰
                                                    // å¯¹äºNFTï¼Œamountå›ºå®šä¸º"1"ï¼ˆBaseUnitï¼‰
  optional TokenDisplayCache display_cache = 20;   // å¯é€‰çš„æ˜¾ç¤ºç¼“å­˜
}

/**
 * SemiFungibleId - åŠåŒè´¨åŒ–ä»£å¸æ ‡è¯†
 * 
 * ç”¨äºæ ‡è¯†æ‰¹æ¬¡+å®ä¾‹çš„åŒå±‚ç»“æ„ä»£å¸ï¼Œé€‚ç”¨äºæ¼”å”±ä¼šé—¨ç¥¨ã€æ¸¸æˆé“å…·ç­‰åœºæ™¯
 */
message SemiFungibleId {
  bytes batch_id = 1;                              // æ‰¹æ¬¡ID
  uint64 instance_id = 2;                          // å®ä¾‹ID
}

/**
 * TokenDisplayCache - ä»£å¸æ˜¾ç¤ºç¼“å­˜ï¼ˆå¯é€‰ï¼‰
 * 
 * ğŸ¯ ç”¨é€”ï¼šç¼“å­˜å¸¸ç”¨çš„æ˜¾ç¤ºä¿¡æ¯ï¼Œå‡å°‘åˆçº¦æŸ¥è¯¢
 * âš ï¸ æ³¨æ„ï¼šè¿™æ˜¯ä¼˜åŒ–å­—æ®µï¼ŒéªŒè¯æ—¶å¿…é¡»ä»¥åˆçº¦æ•°æ®ä¸ºå‡†
 * 
 * ä½¿ç”¨åœºæ™¯ï¼š
 * - é’±åŒ…å¿«é€Ÿæ˜¾ç¤ºä»£å¸ä¿¡æ¯
 * - äº¤æ˜“æ‰€ç•Œé¢ä¼˜åŒ–
 * - ç§»åŠ¨ç«¯ç¦»çº¿æ˜¾ç¤º
 * 
 * éªŒè¯åŸåˆ™ï¼š
 * - æ˜¾ç¤ºæ—¶å¯ä»¥ä½¿ç”¨ç¼“å­˜
 * - éªŒè¯æ—¶å¿…é¡»æŸ¥è¯¢åˆçº¦
 * - ç¼“å­˜ä¸ä¸€è‡´æ—¶ä»¥åˆçº¦ä¸ºå‡†
 */
message TokenDisplayCache {
  string name = 1;                                 // ä»£å¸åç§°
  string symbol = 2;                               // ä»£å¸ç¬¦å·
  uint32 decimals = 3;                            // å°æ•°ä½æ•°
  optional string icon_uri = 4;                    // å›¾æ ‡URI
  uint64 cache_timestamp = 5;                     // ç¼“å­˜æ—¶é—´æˆ³
}

/**
 * StateOutput - é›¶çŸ¥è¯†çŠ¶æ€è¯æ˜è¾“å‡ºï¼ˆè¯æ®è½½ä½“UTXOåˆ›å»ºï¼‰
 * 
 * ğŸ¯ æ ¸å¿ƒä»·å€¼ï¼šå•ç‚¹æ‰§è¡Œï¼Œå¤šç‚¹éªŒè¯
 * 
 * ğŸ’¡ è§£å†³çš„æ ¹æœ¬é—®é¢˜ï¼š
 * ä¼ ç»ŸåŒºå—é“¾æ— æ³•å¤„ç†å¤§å‹èµ„æºï¼š
 * - 2GB AIæ¨¡å‹ï¼šæ— æ³•åœ¨æ‰€æœ‰èŠ‚ç‚¹éƒ¨ç½²å’Œæ‰§è¡Œ
 * - 10GBåŒ»ç–—å½±åƒï¼šæ— æ³•åœ¨ç½‘ç»œä¸­å¤åˆ¶å’Œå¤„ç†
 * - ä¼ä¸šçº§ç®—æ³•ï¼šæ— æ³•æš´éœ²æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
 * 
 * ğŸš€ åŒºå—é“¾è§£å†³æ–¹æ¡ˆï¼š
 * - ä¸šåŠ¡æ–¹å•ç‚¹æ‰§è¡Œï¼šæ‹¥æœ‰èµ„æºçš„èŠ‚ç‚¹æ‰§è¡Œè®¡ç®—å¹¶ç”ŸæˆZKè¯æ˜
 * - ç½‘ç»œå¤šç‚¹éªŒè¯ï¼šå…¶ä»–èŠ‚ç‚¹é€šè¿‡éªŒè¯ZKè¯æ˜ç¡®è®¤æ‰§è¡Œæ­£ç¡®æ€§
 * - éªŒè¯æˆæœ¬å›ºå®šï¼šéªŒè¯æ—¶é—´å’Œèµ„æºå¤§å°æ— å…³ï¼ˆ~5msï¼Œ~256å­—èŠ‚ï¼‰
 * 
 * ğŸ—ï¸ æƒåˆ©è½½ä½“å®šä½ï¼š
 * - ä½œä¸º"è¯æ®è½½ä½“"å®ç°ï¼Œæ‰¿è½½å†å²è¯æ®æƒåˆ©çš„åˆ›å»ºèŒè´£
 * - æƒåˆ©å†…å®¹ï¼šè¯æ˜æƒã€æŸ¥è¯¢æƒã€è¿½æº¯æƒ
 * - æƒåˆ©æ§åˆ¶ï¼šé€šè¿‡TxOutput.locking_conditionså®šä¹‰è®¿é—®æƒé™
 * 
 * ğŸ”§ æŠ€æœ¯å®ç°ï¼š
 * - åŸºäºGnarké›¶çŸ¥è¯†è¯æ˜åº“
 * - æ”¯æŒGroth16ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰å’ŒPlonKï¼ˆç ”å‘ç¯å¢ƒï¼‰
 * - å®Œæ•´çš„ç”µè·¯ç‰ˆæœ¬ç®¡ç†å’Œå®‰å…¨ä¿éšœæœºåˆ¶
 * 
 * ğŸ“‹ å…¸å‹åº”ç”¨åœºæ™¯ï¼š
 * - AIæ¨¡å‹æ¨ç†ï¼šè¯æ˜æ¨ç†æ­£ç¡®æ€§ï¼Œæ— éœ€æš´éœ²æ¨¡å‹å‚æ•°
 * - å¤§æ–‡ä»¶å¤„ç†ï¼šè¯æ˜å¤„ç†æ­£ç¡®æ€§ï¼Œæ— éœ€ä¼ è¾“å¤§æ–‡ä»¶
 * - ä¼ä¸šç®—æ³•ï¼šè¯æ˜è®¡ç®—æ­£ç¡®æ€§ï¼Œä¿æŠ¤å•†ä¸šæœºå¯†
 * - åˆè§„éªŒè¯ï¼šè¯æ˜åˆè§„æ€§ï¼Œä¿æŠ¤æ•æ„Ÿæ•°æ®
 */
message StateOutput {
  // ========== åŸºæœ¬çŠ¶æ€ä¿¡æ¯ ==========
  bytes state_id = 1;                                    // çŠ¶æ€æ ‡è¯†ç¬¦ï¼ˆå…¨å±€å”¯ä¸€ï¼‰
  uint64 state_version = 2;                              // çŠ¶æ€ç‰ˆæœ¬å·ï¼ˆé€’å¢åºåˆ—ï¼‰
  
  // ========== é›¶çŸ¥è¯†è¯æ˜ï¼ˆæ ¸å¿ƒå†…å®¹ï¼‰==========
  ZKStateProof zk_proof = 3;                             // é›¶çŸ¥è¯†çŠ¶æ€è¯æ˜
                                                          // åŒ…å«æ‰€æœ‰éªŒè¯æ‰€éœ€ä¿¡æ¯ï¼š
                                                          // - è¯æ˜æ•°æ®
                                                          // - å…¬å¼€è¾“å…¥  
                                                          // - ç”µè·¯ä¿¡æ¯
                                                          // - éªŒè¯å¯†é’¥å“ˆå¸Œ
  
  // ========== æ‰§è¡Œç»“æœä¿¡æ¯ ==========
  bytes execution_result_hash = 10;                      // æ‰§è¡Œç»“æœå“ˆå¸Œï¼ˆå…¬å¼€è¾“å‡ºï¼‰
                                                          // ç”¨é€”ï¼šå¿«é€ŸéªŒè¯æ‰§è¡Œç»“æœçš„ä¸€è‡´æ€§
  
  // ========== çŠ¶æ€é“¾è¿æ¥ ==========
  optional bytes parent_state_hash = 20;                 // çˆ¶çŠ¶æ€å“ˆå¸Œï¼ˆçŠ¶æ€é“¾è¿æ¥ï¼‰
                                                          // ç”¨é€”ï¼šæ„å»ºçŠ¶æ€å˜æ›´çš„å†å²é“¾æ¡
  
  // ========== ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ ==========
  optional uint64 ttl_duration_seconds = 30;             // ç”Ÿå­˜æ—¶é—´ï¼ˆç§’ï¼Œå¯é€‰ï¼‰
                                                          // ç”¨é€”ï¼šä¸´æ—¶çŠ¶æ€çš„è‡ªåŠ¨æ¸…ç†
  
  // ========== å…ƒæ•°æ®æ‰©å±• ==========
  map<string, string> metadata = 40;                     // ä¸šåŠ¡å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰
                                                          // ç”¨é€”ï¼šä¸šåŠ¡å±‚çš„é¢å¤–ä¿¡æ¯å­˜å‚¨
  
  // ========== è°ƒè¯•å’Œç›‘æ§ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰==========
  optional ZKProofMetadata zk_metadata = 50;             // ZKè¯æ˜å…ƒæ•°æ®
                                                          // å†…å®¹ï¼šæ€§èƒ½æŒ‡æ ‡ã€ç‰ˆæœ¬ä¿¡æ¯ã€è°ƒè¯•æ•°æ®
                                                          // æ³¨æ„ï¼šç”Ÿäº§ç¯å¢ƒå¯é€‰æ‹©æ€§åŒ…å«
}

/**
 * ResourceOutput - åˆ›å»ºèƒ½åŠ›è½½ä½“UTXOï¼ˆèµ„æºåˆ›å»ºè¾“å‡ºï¼‰
 * 
 * ğŸ¯ åœ¨TXæ¶æ„ä¸­çš„å¹³ç­‰åœ°ä½ï¼š
 * ```
 * TxOutput (åˆ›å»ºæ–°UTXO)
 *    â”œâ”€ AssetOutput    (ğŸ’° ä»·å€¼è½½ä½“) â† Token/NFT/SFT
 *    â”œâ”€ ResourceOutput (âš™ï¸ èƒ½åŠ›è½½ä½“) â† Contract/Model/File â† æœ¬æ¶ˆæ¯
 *    â””â”€ StateOutput    (ğŸ“Š è¯æ®è½½ä½“) â† Execution/Snapshot
 * 
 * âš ï¸ ä¸‰è€…å®Œå…¨å¹³ç­‰ï¼Œæ— ä¸»æ¬¡ä¹‹åˆ†ï¼
 * ```
 * 
 * ğŸ¯ è®¾è®¡ç›®çš„ï¼šåœ¨åŒºå—é“¾ä¸Šåˆ›å»ºæ–°çš„èƒ½åŠ›è½½ä½“UTXO
 * 
 * âš ï¸ æ ¸å¿ƒæ¦‚å¿µï¼šTxOutput = åˆ›å»ºï¼Œä¸æ˜¯å¼•ç”¨
 * - ResourceOutputï¼šåˆ›å»ºæ–°çš„èƒ½åŠ›è½½ä½“UTXOï¼ŒåŒ…å«å®Œæ•´èµ„æºå®šä¹‰
 * - OutPointï¼šå¼•ç”¨å·²å­˜åœ¨çš„UTXOï¼Œæä¾›ç²¾ç¡®å®šä½èƒ½åŠ›
 * - ä¸è¦æ··æ·†"åˆ›å»º"ä¸"å¼•ç”¨"çš„æ¦‚å¿µï¼
 * 
 * ğŸ”’ æƒé™éªŒè¯è¦ç‚¹ï¼ˆTXæœ¬è´¨çš„ä½“ç°ï¼‰ï¼š
 * 1. **åˆ›å»ºResourceOutputéœ€è¦TXæƒé™éªŒè¯**ï¼š
 *    - å¿…é¡»é€šè¿‡Transactionè¿›è¡Œï¼Œä¸èƒ½ç›´æ¥åˆ›å»º
 *    - éœ€è¦æ¶ˆè´¹è¾“å…¥UTXOæ”¯ä»˜è´¹ç”¨
 *    - UnlockingProof å¿…é¡»åŒ¹é…è¾“å…¥UTXOçš„LockingCondition
 * 
 * 2. **å¼•ç”¨ResourceOutputéœ€è¦TXæƒé™éªŒè¯**ï¼š
 *    - TxInput.is_reference_only = true
 *    - UnlockingProof å¿…é¡»åŒ¹é… ResourceOutputçš„locking_conditions
 *    - å¼•ç”¨æˆåŠŸåUTXOä¿æŒåœ¨é›†åˆä¸­
 * 
 * 3. **æ¶ˆè´¹ResourceOutputéœ€è¦TXæƒé™éªŒè¯**ï¼š
 *    - TxInput.is_reference_only = false
 *    - UnlockingProof å¿…é¡»åŒ¹é… ResourceOutputçš„locking_conditions
 *    - æ¶ˆè´¹æˆåŠŸåUTXOä»é›†åˆä¸­ç§»é™¤ï¼ˆè½¬ç§»/å‡çº§ï¼‰
 * 
 * ğŸ—ï¸ æƒåˆ©è½½ä½“æ˜ å°„ï¼š
 * - è¿™æ˜¯èƒ½åŠ›è½½ä½“çš„åˆ›å»ºå®ç°ï¼Œç¬¦åˆç»Ÿä¸€æƒåˆ©è½½ä½“ç†è®º
 * - é€šè¿‡TxOutput.locking_conditionså®šä¹‰èµ„æºçš„åˆå§‹æƒåˆ©æ§åˆ¶
 * - åç»­é€šè¿‡TxInput + OutPointè¿›è¡Œèƒ½åŠ›è½½ä½“çš„å¼•ç”¨å’Œè½¬ç§»
 * - Resource (resource.proto) = å†…å®¹å®šä¹‰ï¼ŒTransaction = æƒé™æ§åˆ¶
 * 
 * ğŸ“‹ æ”¯æŒçš„èµ„æºç±»å‹ï¼š
 * - å¯æ‰§è¡Œèµ„æºï¼šæ™ºèƒ½åˆçº¦WASMã€AIæ¨¡å‹ONNXç­‰
 * - é™æ€èµ„æºï¼šå›¾ç‰‡ã€æ–‡æ¡£ã€æ•°æ®æ–‡ä»¶ç­‰
 * - å®Œæ•´çš„èµ„æºå…ƒä¿¡æ¯å’Œæ‰§è¡Œé…ç½®
 * 
 * ğŸ’¡ è®¾è®¡å“²å­¦ï¼š
 * - èµ„æºå†…å®¹é€šè¿‡content_hashè¿›è¡Œå†…å®¹å¯»å€å­˜å‚¨
 * - åŒºå—é“¾UTXOåªè®°å½•èµ„æºçš„å®Œæ•´å®šä¹‰å’Œæƒåˆ©æ§åˆ¶
 * - å®ç°"å†…å®¹å¯»å€+åŒºå—é“¾é”šå®š"çš„æ··åˆå­˜å‚¨æ¨¡å‹
 * - ç¬¦åˆ"å†…å®¹è½½ä½“"ï¼ˆresource.protoï¼‰ä¸"æƒåˆ©è½½ä½“"ï¼ˆtransaction.protoï¼‰åˆ†ç¦»åŸåˆ™
 * 
 * ğŸ¯ å…¸å‹ä¸šåŠ¡åœºæ™¯ï¼ˆåŸºäºè¾“å…¥è¾“å‡ºç»„åˆï¼‰ï¼š
 * - éƒ¨ç½²åˆçº¦ï¼šN inputs(è´¹ç”¨) + ResourceOutput(contract) + æ‰¾é›¶
 * - éƒ¨ç½²æ¨¡å‹ï¼šN inputs(è´¹ç”¨) + ResourceOutput(aimodel) + æ‰¾é›¶
 * - ä¸Šä¼ æ–‡ä»¶ï¼šN inputs(è´¹ç”¨) + ResourceOutput(static) + æ‰¾é›¶
 * - åˆçº¦å‡çº§ï¼šæ¶ˆè´¹æ—§ResourceOutput + åˆ›å»ºæ–°ResourceOutput
 * - åˆçº¦è°ƒç”¨ï¼šå¼•ç”¨ResourceOutput + StateOutput(ç»“æœ)
 */
message ResourceOutput {
  // ========== èµ„æºå®Œæ•´å®šä¹‰ï¼ˆç›´æ¥åµŒå…¥Resourceï¼‰==========
  pb.blockchain.resource.Resource resource = 1;         // å®Œæ•´çš„èµ„æºå®šä¹‰
  
  // ========== åˆ›å»ºç›¸å…³ä¿¡æ¯ ==========
  uint64 creation_timestamp = 10;                       // åˆ›å»ºæ—¶é—´æˆ³
  string creation_context = 11;                         // åˆ›å»ºä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰
  
  // ========== å­˜å‚¨ç­–ç•¥ ==========
  StorageStrategy storage_strategy = 20;                // å­˜å‚¨ç­–ç•¥é€‰æ‹©
  repeated bytes storage_locations = 21;                // å­˜å‚¨ä½ç½®æç¤ºï¼ˆå†…å®¹å¯»å€ç½‘ç»œï¼‰
  
  // ========== ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ ==========
  optional uint64 expiry_timestamp = 30;                // è¿‡æœŸæ—¶é—´ï¼ˆå¯é€‰ï¼‰
  bool is_immutable = 31;                               // æ˜¯å¦ä¸å¯å˜ï¼ˆä¸€æ—¦åˆ›å»ºä¸èƒ½æ›´æ–°ï¼‰
  
  enum StorageStrategy {
    STORAGE_STRATEGY_CONTENT_ADDRESSED = 0;             // å†…å®¹å¯»å€å­˜å‚¨ï¼ˆé»˜è®¤ï¼‰
    STORAGE_STRATEGY_HYBRID = 1;                        // æ··åˆå­˜å‚¨ï¼ˆçƒ­æ•°æ®+å†…å®¹å¯»å€ï¼‰
    STORAGE_STRATEGY_ON_CHAIN = 2;                      // é“¾ä¸Šå­˜å‚¨ï¼ˆå°å‹èµ„æºï¼‰
  }
}

// ================================================================================================
// â° ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ—¶é—´å’Œè´¹ç”¨æœºåˆ¶
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * â° ç»Ÿä¸€æ—¶é—´å’Œè´¹ç”¨ç®¡ç†ç³»ç»Ÿ
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚ç»Ÿä¸€ç®¡ç†åŒºå—é“¾çš„æ—¶é—´æ§åˆ¶å’Œè´¹ç”¨æœºåˆ¶ï¼Œé¿å…é‡å¤å®šä¹‰
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

message TimeBasedWindow {
  optional uint64 not_before_timestamp = 1;          // æœ€æ—©æ‰§è¡Œæ—¶é—´
  optional uint64 not_after_timestamp = 2;           // è¿‡æœŸæ—¶é—´æˆ³
}

message HeightBasedWindow {
  optional uint64 not_before_height = 1;             // æœ€æ—©æ‰§è¡ŒåŒºå—é«˜åº¦
  optional uint64 not_after_height = 2;              // è¿‡æœŸåŒºå—é«˜åº¦
}

// ================================================================================================
// ğŸ’° ç»Ÿä¸€è´¹ç”¨æœºåˆ¶ç»“æ„å®šä¹‰
// ================================================================================================

/**
 * TokenReference - è´¹ç”¨æ”¯ä»˜ä»£å¸ç±»å‹
 */
message TokenReference {
  oneof token_type {
    bool native_token = 1;                          // åŸç”Ÿä»£å¸
    bytes contract_address = 2;                     // åˆçº¦ä»£å¸åœ°å€
  }
}

/**
 * MinimumFee - æœ€ä½è´¹ç”¨ä¿è¯
 * é˜²åƒåœ¾äº¤æ˜“ï¼šå®é™…è´¹ç”¨ >= minimum_amount
 */
message MinimumFee {
  string minimum_amount = 1;                        // æœ€ä½è´¹ç”¨é‡‘é¢ï¼ˆBaseUnitå•ä½ï¼Œå­—ç¬¦ä¸²æ ¼å¼ï¼‰
  TokenReference fee_token = 2;                     // æ”¯ä»˜ä»£å¸ç±»å‹
}

/**
 * ProportionalFee - æŒ‰æ¯”ä¾‹æ”¶è´¹
 * å¤§é¢è½¬è´¦æŒ‰æ¯”ä¾‹ï¼šè´¹ç”¨ = è½¬è´¦é‡‘é¢ Ã— è´¹ç‡
 */
message ProportionalFee {
  uint32 rate_basis_points = 1;                     // è´¹ç‡ï¼ˆä¸‡åˆ†ä¹‹Xï¼‰
  optional string max_fee_amount = 2;               // æœ€å¤§è´¹ç”¨é™åˆ¶ï¼ˆBaseUnitå•ä½ï¼Œå­—ç¬¦ä¸²æ ¼å¼ï¼‰
  TokenReference fee_token = 3;                     // æ”¯ä»˜ä»£å¸ç±»å‹
}

/**
 * ContractExecutionFee - åˆçº¦æ‰§è¡Œè´¹ç”¨
 * æ™ºèƒ½åˆçº¦è°ƒç”¨ï¼šå›ºå®šè´¹ç”¨æ¨¡å¼
 */
message ContractExecutionFee {
  string base_fee = 1;                              // åŸºç¡€è´¹ç”¨ï¼ˆBaseUnitå•ä½ï¼Œæ¿€åŠ±çŸ¿å·¥æ‰“åŒ…ï¼‰
  string execution_fee = 2;                         // æ‰§è¡Œè´¹ç”¨ï¼ˆBaseUnitå•ä½ï¼Œå›ºå®šé‡‘é¢ï¼‰
  TokenReference fee_token = 4;                     // æ”¯ä»˜ä»£å¸ç±»å‹
}

/**
 * PriorityFee - ä¼˜å…ˆçº§è´¹ç”¨
 * å¿«é€Ÿç¡®è®¤ï¼šè´¹ç”¨ = åŸºç¡€è´¹ç”¨ Ã— ä¼˜å…ˆçº§å€ç‡
 */
message PriorityFee {
  string base_fee = 1;                              // åŸºç¡€è´¹ç”¨ï¼ˆBaseUnitå•ä½ï¼‰
  string priority_rate = 2;                         // ä¼˜å…ˆçº§å€ç‡
  TokenReference fee_token = 3;                     // æ”¯ä»˜ä»£å¸ç±»å‹
}

message TransactionMetadata {
  optional string memo = 1;                          // æ–‡æœ¬å¤‡æ³¨
  repeated string tags = 2;                          // åˆ†ç±»æ ‡ç­¾
  oneof payload {
    bytes binary_data = 10;                          // åŸå§‹äºŒè¿›åˆ¶æ•°æ®
    string json_data = 11;                           // JSONæ ¼å¼æ•°æ®
    StructuredData structured_data = 12;             // ç»“æ„åŒ–é”®å€¼å¯¹æ•°æ®
  }
  map<string, bytes> custom_fields = 20;            // è‡ªå®šä¹‰äºŒè¿›åˆ¶å­—æ®µ
}

message StructuredData {
  map<string, bytes> fields = 1;                    // ç»“æ„åŒ–å­—æ®µæ˜ å°„
  optional string schema_version = 2;               // æ•°æ®æ ¼å¼ç‰ˆæœ¬æ ‡è¯†
  optional string content_type = 3;                 // å†…å®¹ç±»å‹è¯´æ˜
}

/**
 * IdentityProof - èº«ä»½è¯æ˜ï¼ˆå¯†ç å­¦å®‰å…¨ä¿è¯ï¼‰
 * 
 * ğŸ¯ æ ¸å¿ƒç›®çš„ï¼š
 * - è¯æ˜"è°æ‰§è¡Œäº†ISPCæ“ä½œ"
 * - é˜²æ­¢caller_addressè¢«ä¼ªé€ 
 * - ä¿è¯å¯†ç å­¦å®‰å…¨æ€§
 * 
 * ğŸ”‘ è®¾è®¡åŸåˆ™ï¼š
 * - ç­¾åå¯¹execution contextçš„å“ˆå¸Œç­¾å
 * - åŒ…å«å…¬é’¥ç”¨äºéªŒè¯
 * - åŒ…å«nonceé˜²æ­¢é‡æ”¾æ”»å‡»
 * - åŒ…å«æ—¶é—´æˆ³ç”¨äºæ—¶æ•ˆæ€§éªŒè¯
 * 
 * ğŸ“ éªŒè¯æµç¨‹ï¼š
 * 1. éªŒè¯signatureæ˜¯å¦åŒ¹é…context_hashï¼ˆä½¿ç”¨public_keyï¼‰
 * 2. éªŒè¯caller_addressæ˜¯å¦ä»public_keyæ¨å¯¼ï¼ˆç¡®ä¿ä¸€è‡´æ€§ï¼‰
 * 3. éªŒè¯nonceæ˜¯å¦æœªè¢«ä½¿ç”¨ï¼ˆé˜²é‡æ”¾æ”»å‡»ï¼‰
 * 4. éªŒè¯timestampæ˜¯å¦åœ¨æœ‰æ•ˆæœŸå†…ï¼ˆæ—¶æ•ˆæ€§éªŒè¯ï¼‰
 * 5. éªŒè¯context_hashæ˜¯å¦åŒ¹é…å®é™…çš„ExecutionContextï¼ˆå®Œæ•´æ€§éªŒè¯ï¼‰
 */
message IdentityProof {
  // ========== èº«ä»½ä¿¡æ¯ ==========
  bytes public_key = 1;                             // è°ƒç”¨è€…å…¬é’¥ï¼ˆ33-65å­—èŠ‚ï¼Œä¾ç®—æ³•è€Œå®šï¼‰
                                                    // ç”¨é€”ï¼šç”¨äºéªŒè¯signatureï¼Œæ¨å¯¼caller_address
  
  bytes caller_address = 2;                        // è°ƒç”¨è€…åœ°å€ï¼ˆä»public_keyæ¨å¯¼ï¼Œ20å­—èŠ‚ï¼‰
                                                    // ç”¨é€”ï¼šæ ‡è¯†è°ƒç”¨è€…èº«ä»½
                                                    // éªŒè¯ï¼šå¿…é¡»ä¸ä»public_keyæ¨å¯¼çš„åœ°å€ä¸€è‡´
  
  // ========== å¯†ç å­¦è¯æ˜ ==========
  bytes signature = 3;                             // å¯¹execution contextçš„ç­¾åï¼ˆ64-256å­—èŠ‚ï¼Œä¾ç®—æ³•è€Œå®šï¼‰
                                                    // ç”¨é€”ï¼šè¯æ˜ç”¨æˆ·æˆæƒæ‰§è¡Œæ“ä½œ
                                                    // éªŒè¯ï¼šä½¿ç”¨public_keyéªŒè¯signatureå¯¹context_hashçš„æœ‰æ•ˆæ€§
  
  SignatureAlgorithm algorithm = 4;                // ç­¾åç®—æ³•
                                                    // ç”¨é€”ï¼šæŒ‡å®šç­¾åä½¿ç”¨çš„ç®—æ³•
                                                    // å¿…é¡»ä¸public_keyçš„ç®—æ³•ä¸€è‡´
  
  SignatureHashType sighash_type = 5;              // ç­¾åå“ˆå¸Œç±»å‹
                                                    // ç”¨é€”ï¼šæŒ‡å®šç­¾åå“ˆå¸Œçš„è®¡ç®—æ–¹å¼
                                                    // é€šå¸¸ä½¿ç”¨SIGHASH_ALL
  
  // ========== é˜²é‡æ”¾æ”»å‡» ==========
  bytes nonce = 6;                                 // é˜²é‡æ”¾nonceï¼ˆ32å­—èŠ‚ï¼‰
                                                    // ç”¨é€”ï¼šé˜²æ­¢é‡æ”¾æ”»å‡»
                                                    // éªŒè¯ï¼šå¿…é¡»æœªè¢«ä½¿ç”¨è¿‡ï¼ˆæŸ¥è¯¢nonceæ•°æ®åº“ï¼‰
  
  uint64 timestamp = 7;                            // æ—¶é—´æˆ³ï¼ˆUnixç§’ï¼‰
                                                    // ç”¨é€”ï¼šæ—¶æ•ˆæ€§éªŒè¯
                                                    // éªŒè¯ï¼šå¿…é¡»åœ¨æœ‰æ•ˆæœŸå†…ï¼ˆå¦‚ï¼š5åˆ†é’Ÿå†…ï¼‰
  
  // ========== ä¸Šä¸‹æ–‡å“ˆå¸Œ ==========
  bytes context_hash = 8;                          // æ‰§è¡Œä¸Šä¸‹æ–‡çš„å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
                                                    // ç”¨é€”ï¼šç”¨äºéªŒè¯signatureæ˜¯å¦åŒ¹é…
                                                    // è®¡ç®—ï¼šåŸºäºExecutionContextçš„å“ˆå¸Œè®¡ç®—ï¼ŒåŒ…å«æ‰€æœ‰éæ•æ„Ÿå­—æ®µ
                                                    // éªŒè¯ï¼šå¿…é¡»ä¸å®é™…çš„ExecutionContextå“ˆå¸Œä¸€è‡´
}

enum SignatureHashType {
  SIGHASH_UNKNOWN = 0;
  SIGHASH_ALL = 1;                  // 0x01
  SIGHASH_NONE = 2;                 // 0x02
  SIGHASH_SINGLE = 3;               // 0x03
  SIGHASH_ANYONECANPAY = 128;       // 0x80
  SIGHASH_ALL_ANYONECANPAY = 129;   // 0x81
  SIGHASH_NONE_ANYONECANPAY = 130;  // 0x82
  SIGHASH_SINGLE_ANYONECANPAY = 131;// 0x83
}

enum SignatureAlgorithm {
  SIGNATURE_ALGORITHM_UNKNOWN = 0;
  SIGNATURE_ALGORITHM_ECDSA_SECP256K1 = 1;
  SIGNATURE_ALGORITHM_ECDSA_SECP256R1 = 2;
  SIGNATURE_ALGORITHM_ED25519 = 3;
  SIGNATURE_ALGORITHM_SCHNORR = 4;
  SIGNATURE_ALGORITHM_RSA_PSS = 5;
}

// ================================================================================================
// ğŸ¯ ç¬¬å…«éƒ¨åˆ†ï¼šä¼ä¸šçº§åœºæ™¯ç¤ºä¾‹
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ¯ ä¼ä¸šçº§å®é™…ä½¿ç”¨åœºæ™¯å®Œæ•´ç¤ºä¾‹
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * æœ¬èŠ‚å±•ç¤ºåŒºå—é“¾åœ¨å®é™…ä¼ä¸šç¯å¢ƒä¸­çš„åº”ç”¨åœºæ™¯ï¼Œæ¶µç›–ä»ä¸ªäººè½¬è´¦åˆ°å¤®è¡Œæ•°å­—è´§å¸å‘è¡Œï¼š
 * 
 * ğŸ“Š åœºæ™¯åˆ†ç±»ï¼š
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚   åœºæ™¯ç±»å‹       â”‚   å¤æ‚åº¦ç­‰çº§     â”‚   åº”ç”¨é¢†åŸŸ       â”‚   å…¸å‹ç”¨æˆ·       â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ ğŸ’° åŸºç¡€è½¬è´¦      â”‚ â­              â”‚ ä¸ªäººæ”¯ä»˜        â”‚ æ™®é€šç”¨æˆ·        â”‚
 * â”‚ ğŸ¢ ä¼ä¸šæ²»ç†      â”‚ â­â­â­           â”‚ å…¬å¸è´¢åŠ¡        â”‚ ä¼ä¸šCFO         â”‚
 * â”‚ ğŸš€ æ™ºèƒ½åˆçº¦      â”‚ â­â­â­â­         â”‚ DeFi/è‡ªåŠ¨åŒ–     â”‚ å¼€å‘è€…/åè®®     â”‚
 * â”‚ ğŸ”’ å§”æ‰˜æˆæƒ      â”‚ â­â­            â”‚ æ‰˜ç®¡æœåŠ¡        â”‚ äº¤æ˜“æ‰€/åŸºé‡‘     â”‚
 * â”‚ â° æ—¶é—´æ§åˆ¶      â”‚ â­â­            â”‚ é”ä»“/å®šæœŸå­˜æ¬¾   â”‚ æŠ•èµ„è€…/å‚¨æˆ·     â”‚
 * â”‚ ğŸ¦ é“¶è¡Œçº§æ“ä½œ    â”‚ â­â­â­â­â­       â”‚ å¤®è¡Œ/é‡‘èæœºæ„   â”‚ é‡‘èç›‘ç®¡æœºæ„     â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 */

/**
 * ä¼ä¸šçº§å®é™…ä½¿ç”¨åœºæ™¯ç¤ºä¾‹ï¼š
 * 
 * ğŸ’° åœºæ™¯1: çº¯èµ„äº§è½¬è´¦ï¼ˆæœ€å¸¸è§ï¼Œ95%çš„äº¤æ˜“ï¼‰
 *    è¾“å…¥ï¼š[Aliceçš„100åŸç”Ÿå¸ UTXO + SingleKeyUnlock] 
 *    è¾“å‡ºï¼š[AssetOutputç»™Bob 70åŸç”Ÿå¸, AssetOutputæ‰¾é›¶25åŸç”Ÿå¸]
 *    éªŒè¯ï¼šå•ç­¾åéªŒè¯ + ä»·å€¼å®ˆæ’(100 = 70 + 25 + 5æ‰‹ç»­è´¹)
 *    è§£é”ï¼šsingle_key {public_key: Aliceå…¬é’¥, signature: Aliceç­¾å}
 * 
 * ğŸ¢ åœºæ™¯2: ä¼ä¸šå¤šç­¾è½¬è´¦ï¼ˆä¼ä¸šçº§æ²»ç†ï¼‰
 *    è¾“å…¥ï¼š[å…¬å¸èµ„é‡‘UTXO + MultiKeyUnlock(3-of-5)]
 *    è¾“å‡ºï¼š[AssetOutputè½¬ç»™ä¾›åº”å•†, AssetOutputæ‰¾é›¶]
 *    éªŒè¯ï¼šå¤šé‡ç­¾åéªŒè¯ + ä»·å€¼å®ˆæ’ + æƒé™æ§åˆ¶
 *    è§£é”ï¼šmulti_key {required: 3, keys: [CEO,CFO,CTO,COO,è‘£äº‹é•¿], sigs: [CEO,CFO,CTO]}
 * 
 * ğŸš€ åœºæ™¯3: æ™ºèƒ½åˆçº¦éƒ¨ç½²  
 *    è¾“å…¥ï¼š[å¼€å‘è€…åŸç”Ÿå¸ + SingleKeyUnlock]
 *    è¾“å‡ºï¼š[ResourceOutputèµ„æºUTXO, å¼€å‘è€…æ‰¾é›¶]
 *    éªŒè¯ï¼šç­¾åéªŒè¯ + ä»·å€¼å®ˆæ’ + èµ„æºå®Œæ•´æ€§
 *    è§£é”ï¼šsingle_key {public_key: å¼€å‘è€…å…¬é’¥, signature: å¼€å‘è€…ç­¾å}
 * 
 * âš¡åœºæ™¯4: DeFiåˆçº¦æ‰§è¡Œï¼ˆç¨‹åºåŒ–è§£é”ï¼‰
 *    å¼•ç”¨ï¼š[AMMåˆçº¦UTXO] - åªè¯»å¼•ç”¨
 *    è¾“å…¥ï¼š[ç”¨æˆ·æ‰‹ç»­è´¹UTXO + ä»£å¸A UTXO + ContractUnlock]
 *    è¾“å‡ºï¼š[StateOutputæ‰§è¡Œè®°å½•, AssetOutputä»£å¸B, AssetOutputæ‰¾é›¶]
 *    éªŒè¯ï¼šåˆçº¦æ‰§è¡ŒéªŒè¯ + ä»·å€¼å®ˆæ’ + çŠ¶æ€è½¬æ¢è¯æ˜
 *    è§£é”ï¼šcontract {address: AMMåœ°å€, result_hash: æ‰§è¡Œç»“æœ, context: äº¤æ¢å‚æ•°}
 * 
 * ğŸ”’ åœºæ™¯5: å§”æ‰˜æˆæƒäº¤æ˜“ï¼ˆæ‰˜ç®¡æœåŠ¡ï¼‰
 *    è¾“å…¥ï¼š[ç”¨æˆ·èµ„äº§UTXO + DelegationUnlock]
 *    è¾“å‡ºï¼š[AssetOutputäº¤æ˜“ç»“æœ, AssetOutputæ‰‹ç»­è´¹]
 *    éªŒè¯ï¼šå§”æ‰˜æœ‰æ•ˆæ€§ + æ“ä½œæƒé™ + ä»·å€¼å®ˆæ’
 *    è§£é”ï¼šdelegation {delegator: ç”¨æˆ·, delegate: äº¤æ˜“æ‰€, proof: æˆæƒè¯æ˜}
 * 
 * â° åœºæ™¯6: å®šæœŸå­˜æ¬¾åˆ°æœŸï¼ˆæ—¶é—´é”è§£é”ï¼‰
 *    è¾“å…¥ï¼š[å®šæœŸå­˜æ¬¾UTXO + TimeLockUnlock]
 *    è¾“å‡ºï¼š[AssetOutputæœ¬é‡‘+åˆ©æ¯ç»™ç”¨æˆ·]
 *    éªŒè¯ï¼šæ—¶é—´æ¡ä»¶ + ç­¾åéªŒè¯ + ä»·å€¼å®ˆæ’
 *    è§£é”ï¼štime_lock {unlock_time: åˆ°æœŸæ—¶é—´, base: SingleKeyUnlock}
 * 
 * ğŸ¦ åœºæ™¯7: å¤®è¡Œæ•°å­—è´§å¸å‘è¡Œï¼ˆé—¨é™ç­¾åï¼‰
 *    è¾“å…¥ï¼š[å¤®è¡Œå‚¨å¤‡UTXO + ThresholdUnlock(5-of-7)]
 *    è¾“å‡ºï¼š[AssetOutputæ‰¹é‡å‘è¡Œä»£å¸]
 *    éªŒè¯ï¼šé—¨é™ç­¾åéªŒè¯ + å‘è¡Œæƒé™ + ä»·å€¼æ§åˆ¶
 *    è§£é”ï¼šthreshold {threshold: 5, parties: 7, shares: [è¡Œé•¿,å‰¯è¡Œé•¿,ç›‘ç®¡,æŠ€æœ¯,é£æ§]}
 * 
 * ğŸ¯ ä¼ä¸šçº§éªŒè¯åŸç†ï¼ˆæ ‡å‡†åŒ–è§£é”ç³»ç»Ÿï¼‰ï¼š
 * 
 * ğŸ“‹ 7ç§è§£é”æ–¹å¼çš„éªŒè¯æµç¨‹ï¼š
 * 1. **SingleKeyUnlock**ï¼šECDSA/ED25519ç­¾åéªŒè¯ + å…¬é’¥åœ°å€åŒ¹é…
 * 2. **MultiKeyUnlock**ï¼šM-of-Nç­¾åéªŒè¯ + ç´¢å¼•æœ‰æ•ˆæ€§æ£€æŸ¥
 * 3. **ContractUnlock**ï¼šåˆçº¦çŠ¶æ€è½¬æ¢éªŒè¯ + æ‰§è¡Œç»“æœå“ˆå¸ŒåŒ¹é…
 * 4. **DelegationUnlock**ï¼šå§”æ‰˜æœ‰æ•ˆæ€§éªŒè¯ + æˆæƒæ“ä½œèŒƒå›´æ£€æŸ¥
 * 5. **ThresholdUnlock**ï¼šé—¨é™ç­¾åéªŒè¯ + ä»½é¢ç»„åˆæ•°å­¦è¯æ˜
 * 6. **TimeLockUnlock**ï¼šæ—¶é—´æ¡ä»¶æ£€æŸ¥ + åŸºç¡€è§£é”æ–¹å¼éªŒè¯
 * 7. **HeightLockUnlock**ï¼šåŒºå—é«˜åº¦æ£€æŸ¥ + åŸºç¡€è§£é”æ–¹å¼éªŒè¯
 * 
 * âš–ï¸ é€šç”¨éªŒè¯è§„åˆ™ï¼š
 * 1. **æˆæƒéªŒè¯**ï¼šæ¯ä¸ªè¾“å…¥å¿…é¡»æä¾›å®Œæ•´çš„è§£é”è¯æ˜
 * 2. **ä»·å€¼å®ˆæ’**ï¼šÎ£(è¾“å…¥ä»·å€¼) â‰¥ Î£(è¾“å‡ºä»·å€¼) + äº¤æ˜“è´¹
 * 3. **å¼•ç”¨æœ‰æ•ˆæ€§**ï¼šæ‰€æœ‰OutPointæŒ‡å‘å­˜åœ¨ä¸”æœªæ¶ˆè´¹çš„UTXO
 * 4. **æ¡ä»¶æ»¡è¶³**ï¼šæ—¶é—´é”ã€é«˜åº¦é”ã€å¤šç­¾é—¨é™ç­‰æ¡ä»¶å®Œå…¨æ»¡è¶³
 * 5. **æƒé™æ§åˆ¶**ï¼šå§”æ‰˜ã€åˆçº¦æ‰§è¡Œç­‰ç‰¹æ®Šæƒé™éªŒè¯
 * 
 * ğŸš€ æ€§èƒ½ä¼˜åŠ¿ï¼š
 * âœ… **ç»“æ„åŒ–éªŒè¯**ï¼šæ¯”è„šæœ¬è§£é‡Šå¿«10-100å€
 * âœ… **å¹¶è¡Œå¤„ç†**ï¼š7ç§è§£é”æ–¹å¼å¯ç‹¬ç«‹å¹¶è¡ŒéªŒè¯
 * âœ… **ç¡®å®šæ€§éªŒè¯**ï¼šæ— æ­§ä¹‰ï¼ŒéªŒè¯ç»“æœ100%å¯é¢„æµ‹
 * âœ… **ç¡¬ä»¶å‹å¥½**ï¼šECDSAã€å“ˆå¸ŒéªŒè¯å¯ç¡¬ä»¶åŠ é€Ÿ
 * 
 * ğŸ›¡ï¸ å®‰å…¨ä¿è¯ï¼š
 * âœ… **ç±»å‹å®‰å…¨**ï¼šå¼ºç±»å‹å®šä¹‰ï¼Œæ¶ˆé™¤è„šæœ¬æ”»å‡»å‘é‡
 * âœ… **æƒé™æ˜ç¡®**ï¼šæ¯ç§è§£é”æ–¹å¼çš„æƒé™è¾¹ç•Œæ¸…æ™°å®šä¹‰
 * âœ… **é˜²é‡æ”¾**ï¼šnonceã€æ—¶é—´æˆ³ã€é«˜åº¦æ¡ä»¶é˜²æ­¢é‡æ”¾æ”»å‡»
 * âœ… **å¤šå±‚é˜²æŠ¤**ï¼šç­¾å+æ—¶é—´é”+å¤šç­¾çš„ç»„åˆé˜²æŠ¤
 * 
 * ğŸŒ ä¼ä¸šçº§ç‰¹æ€§ï¼š
 * âœ… **æ²»ç†æ”¯æŒ**ï¼šå¤šç­¾ã€é—¨é™ç­¾åæ»¡è¶³ä¼ä¸šæ²»ç†éœ€æ±‚
 * âœ… **åˆè§„å‹å¥½**ï¼šå§”æ‰˜æˆæƒæ”¯æŒç›‘ç®¡è¦æ±‚å’Œå®¡è®¡éœ€æ±‚
 * âœ… **å¯ç¼–ç¨‹æ€§**ï¼šæ™ºèƒ½åˆçº¦è§£é”å®ç°å¤æ‚ä¸šåŠ¡é€»è¾‘
 * âœ… **æ—¶é—´æ§åˆ¶**ï¼šæ—¶é—´é”ã€é«˜åº¦é”æ”¯æŒå¤æ‚çš„æ—¶é—´ç­–ç•¥
 */

// ================================================================================================
// ğŸ§® ç¬¬ä¸ƒéƒ¨åˆ†ï¼šäº¤æ˜“å“ˆå¸Œè®¡ç®—æœåŠ¡
// ================================================================================================

/**
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * ğŸ§® äº¤æ˜“å“ˆå¸Œè®¡ç®—ä¸éªŒè¯æœåŠ¡ - ç¡®å®šæ€§è®¾è®¡
 * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 * 
 * ğŸ¯ ç¡®å®šæ€§åŸåˆ™ï¼š
 * â€¢ å›ºå®šç®—æ³•ï¼šæ‰€æœ‰äº¤æ˜“ä½¿ç”¨ç»Ÿä¸€çš„SHA-256ç®—æ³•
 * â€¢ æ ‡å‡†åºåˆ—åŒ–ï¼šä½¿ç”¨Protobufç¡®å®šæ€§åºåˆ—åŒ–
 * â€¢ è·¨å¹³å°ä¸€è‡´ï¼šä»»ä½•è®¾å¤‡è®¡ç®—åŒä¸€äº¤æ˜“å¾—åˆ°ç›¸åŒå“ˆå¸Œ
 * â€¢ å‚æ•°éš”ç¦»ï¼šè°ƒè¯•ä¿¡æ¯ä¸å½±å“å“ˆå¸Œè®¡ç®—
 * 
 * ğŸ” å“ˆå¸Œè®¡ç®—è§„åˆ™ï¼š
 * 1. åŒ…å«å­—æ®µï¼šversion, inputs, outputs, nonce, creation_timestamp, validity_window, fee_mechanism, metadata
 * 2. æ’é™¤å­—æ®µï¼šç­¾åç›¸å…³æ•°æ®ï¼ˆunlocking_proofä¸­çš„signatureæ•°æ®ï¼‰
 * 3. æ ‡å‡†åŒ–ï¼šå­—æ®µæŒ‰Protobufæ ‡å‡†é¡ºåºåºåˆ—åŒ–
 * 4. ç®—æ³•ï¼šå›ºå®šä½¿ç”¨SHA-256
 * 
 * ğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š
 * â€¢ äº¤æ˜“æäº¤å‰çš„å“ˆå¸Œé¢„è®¡ç®—
 * â€¢ åŒºå—éªŒè¯æ—¶çš„äº¤æ˜“å“ˆå¸ŒéªŒè¯
 * â€¢ å¼€å‘è°ƒè¯•å’Œæµ‹è¯•
 * â€¢ é’±åŒ…å’Œå®¢æˆ·ç«¯é›†æˆ
 ********************************************************************************
 */

/**
 * TransactionHashService - ç¡®å®šæ€§äº¤æ˜“å“ˆå¸ŒæœåŠ¡
 */
service TransactionHashService {
  // è®¡ç®—äº¤æ˜“å“ˆå¸Œï¼ˆç¡®å®šæ€§ï¼‰
  // å›ºå®šç®—æ³•ï¼šSHA-256ï¼Œæ ‡å‡†åºåˆ—åŒ–
  // ç”¨äºäº¤æ˜“IDå’Œæ ‡å‡†å“ˆå¸Œè®¡ç®—ï¼Œæ’é™¤ç­¾åå­—æ®µ
  rpc ComputeHash(ComputeHashRequest) returns (ComputeHashResponse);
  
  // éªŒè¯äº¤æ˜“å“ˆå¸Œï¼ˆç¡®å®šæ€§ï¼‰
  // é‡æ–°è®¡ç®—å“ˆå¸Œå¹¶ä¸æœŸæœ›å€¼æ¯”è¾ƒ
  rpc ValidateHash(ValidateHashRequest) returns (ValidateHashResponse);
  
  // è®¡ç®—ç­¾åå“ˆå¸Œï¼ˆç”¨äºç­¾åå’ŒéªŒè¯ï¼‰
  // å›ºå®šç®—æ³•ï¼šSHA-256ï¼Œæ ¹æ® SIGHASH ç±»å‹ä¿®æ”¹äº¤æ˜“ç»“æ„
  // æ”¯æŒ SIGHASH_ALL/NONE/SINGLE å’Œ ANYONECANPAY ç»„åˆ
  // ç”¨äºç­¾åæ—¶çš„å“ˆå¸Œè®¡ç®—ï¼Œæ’é™¤ç­¾åå­—æ®µå¹¶æ ¹æ® SIGHASH ç±»å‹é€‰æ‹©æ€§åŒ…å«è¾“å…¥è¾“å‡º
  rpc ComputeSignatureHash(ComputeSignatureHashRequest) returns (ComputeSignatureHashResponse);
  
  // éªŒè¯ç­¾åå“ˆå¸Œï¼ˆç”¨äºç­¾åéªŒè¯ï¼‰
  // é‡æ–°è®¡ç®—ç­¾åå“ˆå¸Œå¹¶ä¸æœŸæœ›å€¼æ¯”è¾ƒ
  rpc ValidateSignatureHash(ValidateSignatureHashRequest) returns (ValidateSignatureHashResponse);
}

/**
 * ComputeHashRequest - è®¡ç®—å“ˆå¸Œè¯·æ±‚ï¼ˆç¡®å®šæ€§è®¾è®¡ï¼‰
 */
message ComputeHashRequest {
  Transaction transaction = 1;                      // éœ€è¦è®¡ç®—å“ˆå¸Œçš„äº¤æ˜“
  bool include_debug_info = 2;                      // æ˜¯å¦è¿”å›è°ƒè¯•ä¿¡æ¯ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
}

/**
 * ComputeHashResponse - è®¡ç®—å“ˆå¸Œå“åº”
 */
message ComputeHashResponse {
  bytes hash = 1;                                   // è®¡ç®—å‡ºçš„äº¤æ˜“å“ˆå¸Œï¼ˆSHA-256ï¼‰
  bool is_valid = 2;                                // äº¤æ˜“ç»“æ„æ˜¯å¦æœ‰æ•ˆ
  
  // è°ƒè¯•ä¿¡æ¯ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
  optional HashDebugInfo debug_info = 3;
}

/**
 * ValidateHashRequest - éªŒè¯å“ˆå¸Œè¯·æ±‚
 */
message ValidateHashRequest {
  Transaction transaction = 1;                      // éœ€è¦éªŒè¯çš„äº¤æ˜“
  bytes expected_hash = 2;                          // æœŸæœ›çš„å“ˆå¸Œå€¼
}

/**
 * ValidateHashResponse - éªŒè¯å“ˆå¸Œå“åº”
 */
message ValidateHashResponse {
  bool is_valid = 1;                               // éªŒè¯ç»“æœ
  bytes computed_hash = 2;                         // å®é™…è®¡ç®—çš„å“ˆå¸Œ
  bytes expected_hash = 3;                         // æœŸæœ›çš„å“ˆå¸Œå€¼
  
  // éªŒè¯è¯¦æƒ…ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
  optional string error_message = 4;              // é”™è¯¯ä¿¡æ¯ï¼ˆéªŒè¯å¤±è´¥æ—¶ï¼‰
}

/**
 * ComputeSignatureHashRequest - è®¡ç®—ç­¾åå“ˆå¸Œè¯·æ±‚
 * 
 * ğŸ¯ **ç­¾åå“ˆå¸Œè®¡ç®—è§„åˆ™**ï¼š
 * 1. æ’é™¤ç­¾åå­—æ®µï¼šæ¸…ç©ºæ‰€æœ‰ inputs[].unlocking_proof å­—æ®µ
 * 2. æ ¹æ® SIGHASH ç±»å‹ä¿®æ”¹äº¤æ˜“ç»“æ„ï¼š
 *    - SIGHASH_ALL: ä¿ç•™æ‰€æœ‰è¾“å…¥å’Œæ‰€æœ‰è¾“å‡º
 *    - SIGHASH_NONE: ä¿ç•™æ‰€æœ‰è¾“å…¥ï¼Œæ¸…ç©ºæ‰€æœ‰è¾“å‡º
 *    - SIGHASH_SINGLE: ä¿ç•™æ‰€æœ‰è¾“å…¥å’Œå¯¹åº”ç´¢å¼•çš„è¾“å‡ºï¼Œå…¶ä»–è¾“å‡ºæ¸…ç©º
 *    - SIGHASH_ANYONECANPAY: åªä¿ç•™å½“å‰è¾“å…¥ï¼ˆinput_indexï¼‰ï¼Œæ¸…ç©ºå…¶ä»–è¾“å…¥
 *    - ç»„åˆç±»å‹ï¼šå…ˆå¤„ç† ANYONECANPAYï¼Œå†å¤„ç† ALL/NONE/SINGLE
 * 3. ä½¿ç”¨ç¡®å®šæ€§ Protobuf åºåˆ—åŒ–
 * 4. è®¡ç®— SHA-256 å“ˆå¸Œ
 */
message ComputeSignatureHashRequest {
  Transaction transaction = 1;                      // éœ€è¦è®¡ç®—ç­¾åå“ˆå¸Œçš„äº¤æ˜“
  uint32 input_index = 2;                          // å½“å‰è¾“å…¥ç´¢å¼•ï¼ˆç”¨äº SIGHASH_SINGLE å’Œ ANYONECANPAYï¼‰
  SignatureHashType sighash_type = 3;               // ç­¾åå“ˆå¸Œç±»å‹
  bool include_debug_info = 4;                     // æ˜¯å¦è¿”å›è°ƒè¯•ä¿¡æ¯ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
}

/**
 * ComputeSignatureHashResponse - è®¡ç®—ç­¾åå“ˆå¸Œå“åº”
 */
message ComputeSignatureHashResponse {
  bytes hash = 1;                                   // è®¡ç®—å‡ºçš„ç­¾åå“ˆå¸Œï¼ˆSHA-256ï¼Œ32å­—èŠ‚ï¼‰
  bool is_valid = 2;                                // äº¤æ˜“ç»“æ„æ˜¯å¦æœ‰æ•ˆ
  
  // è°ƒè¯•ä¿¡æ¯ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
  optional HashDebugInfo debug_info = 3;
}

/**
 * ValidateSignatureHashRequest - éªŒè¯ç­¾åå“ˆå¸Œè¯·æ±‚
 */
message ValidateSignatureHashRequest {
  Transaction transaction = 1;                      // éœ€è¦éªŒè¯çš„äº¤æ˜“
  uint32 input_index = 2;                          // å½“å‰è¾“å…¥ç´¢å¼•
  SignatureHashType sighash_type = 3;               // ç­¾åå“ˆå¸Œç±»å‹
  bytes expected_hash = 4;                          // æœŸæœ›çš„ç­¾åå“ˆå¸Œå€¼
}

/**
 * ValidateSignatureHashResponse - éªŒè¯ç­¾åå“ˆå¸Œå“åº”
 */
message ValidateSignatureHashResponse {
  bool is_valid = 1;                               // éªŒè¯ç»“æœ
  bytes computed_hash = 2;                         // å®é™…è®¡ç®—çš„ç­¾åå“ˆå¸Œ
  bytes expected_hash = 3;                         // æœŸæœ›çš„ç­¾åå“ˆå¸Œå€¼
  
  // éªŒè¯è¯¦æƒ…ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
  optional string error_message = 4;              // é”™è¯¯ä¿¡æ¯ï¼ˆéªŒè¯å¤±è´¥æ—¶ï¼‰
}

// ================================================================================================
// ğŸ” ç¬¬å…«éƒ¨åˆ†ï¼šé›¶çŸ¥è¯†è¯æ˜æ‰©å±•å®šä¹‰
// ================================================================================================

/**
 * ZKStateProof - é›¶çŸ¥è¯†çŠ¶æ€è¯æ˜æ•°æ®ç»“æ„
 * 
 * ğŸ¯ æ ¸å¿ƒç›®çš„ï¼šä¸ºStateOutputæä¾›éšç§ä¿æŠ¤çš„çŠ¶æ€è½¬æ¢è¯æ˜èƒ½åŠ›
 * 
 * ğŸ›¡ï¸ éšç§ä¿æŠ¤åŸç†ï¼š
 * - é€šè¿‡é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯ï¼Œè¯æ˜çŠ¶æ€è½¬æ¢çš„æ­£ç¡®æ€§ï¼ŒåŒæ—¶ä¿æŠ¤çŠ¶æ€è½¬æ¢çš„å…·ä½“ç»†èŠ‚
 * - å…¬å¼€è¾“å…¥ï¼šåœ¨åŒºå—é“¾ä¸Šå¯è§ï¼Œç”¨äºéªŒè¯ï¼ˆå¦‚çŠ¶æ€å“ˆå¸Œã€ç‰ˆæœ¬å·ï¼‰
 * - ç§æœ‰è¾“å…¥ï¼šéšç§ä¿æŠ¤ï¼Œä¸åœ¨åŒºå—é“¾ä¸Šæš´éœ²ï¼ˆå¦‚å…·ä½“çŠ¶æ€å†…å®¹ã€è½¬æ¢è§„åˆ™ï¼‰
 * 
 * ğŸ”§ æŠ€æœ¯é›†æˆï¼š
 * - åŸºäºGnarké›¶çŸ¥è¯†è¯æ˜åº“å®ç°
 * - æ”¯æŒGroth16ï¼ˆå¿«é€ŸéªŒè¯ï¼‰å’ŒPlonKï¼ˆé€šç”¨è®¾ç½®ï¼‰ä¸¤ç§è¯æ˜æ–¹æ¡ˆ
 * - æ”¯æŒå¤šç§æ¤­åœ†æ›²çº¿ï¼ˆBN254ã€BLS12-381ç­‰ï¼‰
 * 
 * ğŸ’¡ è®¾è®¡å“²å­¦ï¼š
 * - æ ‡å‡†åŒ–ï¼šéµå¾ªé›¶çŸ¥è¯†è¯æ˜è¡Œä¸šæ ‡å‡†
 * - æ€§èƒ½å¯æ§ï¼šæä¾›å®Œæ•´çš„æ€§èƒ½å…ƒæ•°æ®ç”¨äºä¼˜åŒ–
 * - å®‰å…¨ä¼˜å…ˆï¼šåŒ…å«ç”µè·¯ç‰ˆæœ¬å’Œæ‰¿è¯ºï¼Œç¡®ä¿è¯æ˜çš„å®Œæ•´æ€§
 * - å¯æ‰©å±•æ€§ï¼šæ”¯æŒæœªæ¥æ–°çš„è¯æ˜æ–¹æ¡ˆå’Œæ¤­åœ†æ›²çº¿
 */
message ZKStateProof {
  // ========== æ ¸å¿ƒè¯æ˜æ•°æ® ==========
  bytes proof = 1;                                 // é›¶çŸ¥è¯†è¯æ˜æ•°æ®ï¼ˆåºåˆ—åŒ–çš„è¯æ˜å¯¹è±¡ï¼‰
                                                    // å†…å®¹ï¼šæ ¹æ®proving_schemeåºåˆ—åŒ–çš„è¯æ˜
                                                    // å¤§å°ï¼šGroth16çº¦256å­—èŠ‚ï¼ŒPlonKçº¦512å­—èŠ‚
  
  repeated bytes public_inputs = 2;                 // å…¬å¼€è¾“å…¥æ•°ç»„ï¼ˆéªŒè¯æ—¶éœ€è¦çš„å…¬å¼€å‚æ•°ï¼‰
                                                    // å†…å®¹ï¼šçŠ¶æ€å“ˆå¸Œã€ç‰ˆæœ¬å·ã€è½¬æ¢ç±»å‹ç­‰
                                                    // ç‰¹å¾ï¼šåœ¨åŒºå—é“¾ä¸Šå…¬å¼€ï¼Œç”¨äºè¯æ˜éªŒè¯
  
  string proving_scheme = 3;                       // è¯æ˜æ–¹æ¡ˆæ ‡è¯†ç¬¦
                                                    // å–å€¼ï¼š"groth16" | "plonk" | "stark" | "bulletproofs"
                                                    // æ¨èï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨"groth16"ï¼Œç ”å‘ç¯å¢ƒä½¿ç”¨"plonk"
  
  string curve = 4;                                // æ¤­åœ†æ›²çº¿æ ‡è¯†ç¬¦
                                                    // å–å€¼ï¼š"bn254" | "bls12-381" | "bls12-377" | "bw6-761"
                                                    // æ¨èï¼šä¼˜å…ˆä½¿ç”¨"bn254"
  
  bytes verification_key_hash = 5;                 // éªŒè¯å¯†é’¥å“ˆå¸Œï¼ˆ32å­—èŠ‚SHA-256ï¼‰
                                                    // ç”¨é€”ï¼šéªŒè¯å¯†é’¥å®Œæ•´æ€§æ£€æŸ¥ï¼Œé˜²æ­¢å¯†é’¥ç¯¡æ”¹
                                                    // å®‰å…¨æ€§ï¼šç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„éªŒè¯å¯†é’¥è¿›è¡ŒéªŒè¯
  
  // ========== ç”µè·¯ä¿¡æ¯ ==========
  string circuit_id = 10;                          // ç”µè·¯æ ‡è¯†ç¬¦ï¼ˆå…¨å±€å”¯ä¸€ï¼‰
                                                    // æ ¼å¼ï¼š"{ä¸šåŠ¡åœºæ™¯}.{ç‰ˆæœ¬}" å¦‚ "contract_execution.v1"
                                                    // ç”¨é€”ï¼šç”µè·¯ç‰ˆæœ¬ç®¡ç†ã€ä¸€è‡´æ€§æ£€æŸ¥
  
  uint32 circuit_version = 11;                     // ç”µè·¯ç‰ˆæœ¬å·ï¼ˆé€’å¢æ•´æ•°ï¼‰
                                                    // ç”¨é€”ï¼šç‰ˆæœ¬æ§åˆ¶ã€å‡çº§ç®¡ç†
                                                    // ç­–ç•¥ï¼šä¸»ç‰ˆæœ¬å˜æ›´æ—¶éœ€è¦æ–°çš„å¯ä¿¡è®¾ç½®
  
  optional bytes circuit_commitment = 12;          // ç”µè·¯æ‰¿è¯ºï¼ˆå¯é€‰ï¼Œç”¨äºé¢å¤–å®‰å…¨ä¿è¯ï¼‰
                                                    // å†…å®¹ï¼šç”µè·¯çº¦æŸç³»ç»Ÿçš„å¯†ç å­¦æ‰¿è¯º
                                                    // ç”¨é€”ï¼šé˜²æ­¢ç”µè·¯æ›¿æ¢æ”»å‡»ã€å¢å¼ºå®‰å…¨æ€§
  
  // ========== æ€§èƒ½å’Œè°ƒè¯•ä¿¡æ¯ ==========
  uint64 constraint_count = 20;                    // ç”µè·¯çº¦æŸæ•°é‡
                                                    // ç”¨é€”ï¼šæ€§èƒ½è¯„ä¼°ã€è´¹ç”¨è®¡ç®—å‚è€ƒ
                                                    // èŒƒå›´ï¼šç®€å•ç”µè·¯<1Kï¼Œå¤æ‚ç”µè·¯å¯è¾¾1M+
  
  optional uint64 proof_generation_time_ms = 21;   // è¯æ˜ç”Ÿæˆæ—¶é—´ï¼ˆæ¯«ç§’ï¼Œå¯é€‰ï¼‰
                                                    // ç”¨é€”ï¼šæ€§èƒ½ç›‘æ§ã€ä¼˜åŒ–å‚è€ƒ
                                                    // æ³¨æ„ï¼šç”Ÿäº§ç¯å¢ƒå¯èƒ½ä¸åŒ…å«æ­¤å­—æ®µ
  
  // ========== ä¸šåŠ¡æ‰©å±•å­—æ®µ ==========
  map<string, string> custom_attributes = 30;      // è‡ªå®šä¹‰å±æ€§ï¼ˆä¸šåŠ¡å±‚æ‰©å±•ï¼‰
                                                    // ç”¨é€”ï¼šç‰¹å®šä¸šåŠ¡åœºæ™¯çš„é¢å¤–ä¿¡æ¯
                                                    // ç¤ºä¾‹ï¼š{"compliance_level": "high", "audit_trail": "enabled"}
}

/**
 * ZKProofMetadata - é›¶çŸ¥è¯†è¯æ˜å…ƒæ•°æ®
 * 
 * ğŸ¯ è®¾è®¡ç›®çš„ï¼šæä¾›ZKè¯æ˜çš„æ€§èƒ½ã€è°ƒè¯•å’Œè¿ç»´ä¿¡æ¯ï¼Œä¸å½±å“è¯æ˜éªŒè¯è¿‡ç¨‹
 * 
 * ğŸ“Š æ€§èƒ½ç›‘æ§ï¼š
 * - è¯æ˜ç”Ÿæˆå’ŒéªŒè¯çš„æ€§èƒ½æŒ‡æ ‡
 * - ç”¨äºç³»ç»Ÿä¼˜åŒ–å’Œå®¹é‡è§„åˆ’
 * - æ”¯æŒæ€§èƒ½åŸºå‡†æµ‹è¯•å’Œå›å½’æ£€æµ‹
 * 
 * ğŸ”§ è¿ç»´æ”¯æŒï¼š
 * - è¯æ˜å™¨ç‰ˆæœ¬ä¿¡æ¯ï¼Œç”¨äºé—®é¢˜æ’æŸ¥
 * - æ€§èƒ½æ•°æ®ï¼Œç”¨äºç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦
 * - ç‰ˆæœ¬ä¿¡æ¯ï¼Œç”¨äºå‡çº§å†³ç­–
 * 
 * ğŸ’¡ å¯é€‰æ€§è®¾è®¡ï¼š
 * - æ‰€æœ‰å­—æ®µéƒ½æ˜¯å¯é€‰çš„ï¼Œç”Ÿäº§ç¯å¢ƒå¯æ ¹æ®éœ€è¦é€‰æ‹©æ€§åŒ…å«
 * - å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒå»ºè®®åŒ…å«å®Œæ•´ä¿¡æ¯
 * - å…ƒæ•°æ®ä¸å½±å“è¯æ˜çš„å®‰å…¨æ€§å’Œæ­£ç¡®æ€§
 */
message ZKProofMetadata {
  // ========== ç‰ˆæœ¬ä¿¡æ¯ ==========
  optional string prover_version = 1;              // è¯æ˜å™¨ç‰ˆæœ¬ï¼ˆå¦‚ "gnark-v0.14.0"ï¼‰
                                                    // ç”¨é€”ï¼šé—®é¢˜æ’æŸ¥ã€ç‰ˆæœ¬è¯†åˆ«
                                                    // æ ¼å¼ï¼š"{library}-{version}" å¦‚ "gnark-v0.14.0"
  
  optional string compiler_version = 2;            // ç”µè·¯ç¼–è¯‘å™¨ç‰ˆæœ¬
                                                    // ç”¨é€”ï¼šç”µè·¯ç‰ˆæœ¬éªŒè¯ã€å‡çº§ç®¡ç†
  
  // ========== æ€§èƒ½æŒ‡æ ‡ ==========
  optional uint64 proof_size_bytes = 10;           // è¯æ˜å¤§å°ï¼ˆå­—èŠ‚ï¼‰
                                                    // ç”¨é€”ï¼šå­˜å‚¨æˆæœ¬ä¼°ç®—ã€ç½‘ç»œä¼ è¾“ä¼˜åŒ–
                                                    // å‚è€ƒï¼šGroth16çº¦256å­—èŠ‚ï¼ŒPlonKçº¦512å­—èŠ‚
  
  optional uint64 verification_time_ms = 11;       // éªŒè¯æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
                                                    // ç”¨é€”ï¼šæ€§èƒ½ç›‘æ§ã€SLAä¿è¯
                                                    // ç›®æ ‡ï¼šGroth16<5msï¼ŒPlonK<20ms
  
  optional uint64 setup_time_ms = 12;              // å¯ä¿¡è®¾ç½®æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé¦–æ¬¡ç”Ÿæˆæ—¶ï¼‰
                                                    // ç”¨é€”ï¼šéƒ¨ç½²æ—¶é—´ä¼°ç®—ã€èµ„æºè§„åˆ’
  
  optional uint64 memory_usage_bytes = 13;         // å†…å­˜ä½¿ç”¨é‡ï¼ˆå­—èŠ‚ï¼‰
                                                    // ç”¨é€”ï¼šèµ„æºè§„åˆ’ã€å®¹é‡ç®¡ç†
  
  // ========== å®‰å…¨å®¡è®¡ä¿¡æ¯ ==========
  optional string security_level = 20;             // å®‰å…¨çº§åˆ«æ ‡è¯†
                                                    // å–å€¼ï¼š"experimental" | "production" | "audited"
                                                    // ç”¨é€”ï¼šé£é™©è¯„ä¼°ã€éƒ¨ç½²å†³ç­–
  
  optional uint64 trusted_setup_ceremony_id = 21;  // å¯ä¿¡è®¾ç½®ä»ªå¼IDï¼ˆGroth16ä¸“ç”¨ï¼‰
                                                    // ç”¨é€”ï¼šå¯ä¿¡è®¾ç½®è¿½æº¯ã€å®‰å…¨å®¡è®¡
  
  // ========== è°ƒè¯•å’Œæ‰©å±•ä¿¡æ¯ ==========
  optional string proof_generation_node = 30;      // ç”Ÿæˆè¯æ˜çš„èŠ‚ç‚¹æ ‡è¯†ï¼ˆè°ƒè¯•ç”¨ï¼‰
                                                    // ç”¨é€”ï¼šé—®é¢˜å®šä½ã€è´Ÿè½½å‡è¡¡åˆ†æ
  
  optional uint64 proof_generation_timestamp = 31; // è¯æ˜ç”Ÿæˆæ—¶é—´æˆ³ï¼ˆUnixç§’ï¼‰
                                                    // ç”¨é€”ï¼šæ—¶é—´å®¡è®¡ã€æ€§èƒ½åˆ†æ
  
  map<string, string> custom_fields = 40;          // è‡ªå®šä¹‰å­—æ®µï¼ˆä¸šåŠ¡æ‰©å±•ï¼‰
                                                    // ç”¨é€”ï¼šç‰¹å®šä¸šåŠ¡åœºæ™¯çš„å…ƒæ•°æ®éœ€æ±‚
                                                    // ç¤ºä¾‹ï¼š{"business_category": "defi", "regulatory_zone": "us"}
}

/**
 * HashDebugInfo - å“ˆå¸Œè®¡ç®—è°ƒè¯•ä¿¡æ¯ï¼ˆä¸å½±å“å“ˆå¸Œï¼‰
 */
message HashDebugInfo {
  bytes canonical_bytes = 1;                       // æ ‡å‡†åŒ–åçš„å­—èŠ‚æ•°æ®
  uint64 canonical_length = 2;                     // æ ‡å‡†åŒ–æ•°æ®é•¿åº¦
  repeated string included_fields = 3;             // å‚ä¸å“ˆå¸Œè®¡ç®—çš„å­—æ®µåˆ—è¡¨
  repeated string excluded_fields = 4;             // æ’é™¤çš„å­—æ®µåˆ—è¡¨ï¼ˆå¦‚ç­¾åï¼‰
  string serialization_method = 5;                 // åºåˆ—åŒ–æ–¹æ³•ï¼ˆå›ºå®šä¸º"protobuf"ï¼‰
  uint64 computation_time_nanos = 6;               // è®¡ç®—è€—æ—¶ï¼ˆçº³ç§’ï¼Œä»…è°ƒè¯•ï¼‰
}

/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ğŸ“„ äº¤æ˜“åè®®æ€»ç»“ - çº¯ä¸šåŠ¡å®šä¹‰å®Œæˆ
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * æœ¬åè®®æ–‡ä»¶ä¸“æ³¨äºWESåŒºå—é“¾ç³»ç»Ÿçš„æ ¸å¿ƒäº¤æ˜“æ•°æ®ç»“æ„å®šä¹‰ï¼š
 *
 * âœ… æ¶µç›–å†…å®¹ï¼š
 * â€¢ äº¤æ˜“åŸºç¡€ç»“æ„ï¼šTransactionã€TxInputã€TxOutput
 * â€¢ EUTXOæ¨¡å‹ï¼šResourceUTXOã€ResourceMetadataã€æƒç›Šè½½ä½“
 * â€¢ èµ„æºç®¡ç†ï¼šæ–‡ä»¶ç³»ç»Ÿã€å­˜å‚¨ç®¡ç†ã€å¼•ç”¨è®¡æ•°
 * â€¢ æ•°å­—ç­¾åï¼šç­¾åéªŒè¯ã€å®Œæ•´æ€§ä¿æŠ¤ã€èº«ä»½è®¤è¯
 * â€¢ å“ˆå¸Œè®¡ç®—ï¼šäº¤æ˜“å“ˆå¸Œã€Merkleæ ‘ã€å®Œæ•´æ€§æ ¡éªŒ
 * â€¢ æ™ºèƒ½åˆçº¦ï¼šåˆçº¦è°ƒç”¨ã€çŠ¶æ€ç®¡ç†ã€æ‰§è¡Œç»“æœ
 * â€¢ è´¹ç”¨æœºåˆ¶ï¼šäº¤æ˜“è´¹ç”¨ã€èµ„æºå®šä»·ã€ç»æµæ¿€åŠ±
 * â€¢ æ—¶é—´æˆ³ï¼šåŒºå—æ—¶é—´ã€äº¤æ˜“é¡ºåºã€ç”Ÿå‘½å‘¨æœŸç®¡ç†
 *
 * ğŸš« ä¸åŒ…å«å†…å®¹ï¼ˆå·²ç§»è‡³pb/network/ç›®å½•ï¼‰ï¼š
 * â€¢ ç½‘ç»œä¼ æ’­åè®®ï¼šTransactionAnnouncementã€TransactionPropagationRequest
 * â€¢ ç½‘ç»œç»Ÿè®¡ç›‘æ§ï¼šTransactionPropagationStatsã€ç½‘ç»œå¥åº·åº¦æŒ‡æ ‡
 * â€¢ ä¼ æ’­æ§åˆ¶é€»è¾‘ï¼šè·³æ•°é™åˆ¶ã€TTLç®¡ç†ã€å»é‡æœºåˆ¶
 *
 * ğŸ’¡ æ¶æ„è®¾è®¡åŸåˆ™ï¼š
 * â€¢ å•ä¸€èŒè´£ï¼šæœ¬æ–‡ä»¶åªå®šä¹‰ä¸šåŠ¡æ•°æ®ç»“æ„ï¼Œä¸æ¶‰åŠç½‘ç»œä¼ è¾“
 * â€¢ æ¸…æ™°åˆ†ç¦»ï¼šä¸šåŠ¡é€»è¾‘ä¸ç½‘ç»œåè®®åˆ†ç¦»ï¼Œå„å¸å…¶èŒ
 * â€¢ é«˜åº¦é‡ç”¨ï¼šä¸šåŠ¡å®šä¹‰å¯è¢«ç½‘ç»œå±‚ã€å­˜å‚¨å±‚ã€åº”ç”¨å±‚å…±åŒå¼•ç”¨
 * â€¢ ç‰ˆæœ¬ç¨³å®šï¼šä¸šåŠ¡ç»“æ„ç›¸å¯¹ç¨³å®šï¼Œç½‘ç»œåè®®å¯ç‹¬ç«‹æ¼”è¿›
 *
 * ğŸ“š ç›¸å…³åè®®æ–‡ä»¶ï¼š
 * â€¢ ç½‘ç»œä¼ æ’­ï¼špb/network/transaction.protoï¼ˆäº¤æ˜“ç½‘ç»œä¼ æ’­åè®®ï¼‰
 * â€¢ åŒºå—å®šä¹‰ï¼špb/blockchain/block/block.protoï¼ˆåŒºå—ç»“æ„å®šä¹‰ï¼‰
 * â€¢ èµ„æºç®¡ç†ï¼špb/blockchain/block/transaction/resource/resource.proto
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */