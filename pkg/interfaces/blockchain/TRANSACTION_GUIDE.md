# WESäº¤æ˜“ç³»ç»Ÿå®Œæ•´æŒ‡å—

ã€æŒ‡å—å®šä½ã€‘
ã€€ã€€æœ¬æŒ‡å—æ˜¯WESåŒºå—é“¾äº¤æ˜“ç³»ç»Ÿçš„æƒå¨ä½¿ç”¨æ‰‹å†Œï¼Œé¢å‘é’±åŒ…å¼€å‘è€…ã€DAppå‰ç«¯å·¥ç¨‹å¸ˆã€ä¼ä¸šçº§ç³»ç»Ÿé›†æˆå•†æä¾›ä»å…¥é—¨åˆ°ç²¾é€šçš„å®Œæ•´æŒ‡å¯¼ã€‚é€šè¿‡æ¸è¿›å¼çš„å­¦ä¹ è·¯å¾„ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€ŸæŒæ¡ä»åŸºç¡€è½¬è´¦åˆ°å¤æ‚ä¼ä¸šçº§å¤šç­¾çš„å…¨éƒ¨äº¤æ˜“åœºæ™¯ï¼Œç¡®ä¿åœ¨ä¸åŒä¸šåŠ¡éœ€æ±‚ä¸‹éƒ½èƒ½é€‰æ‹©æœ€åˆé€‚çš„æŠ€æœ¯æ–¹æ¡ˆã€‚

ã€æ ¸å¿ƒä»·å€¼ã€‘
- é™ä½åŒºå—é“¾å¼€å‘é—¨æ§›ï¼šå°†å¤æ‚çš„UTXOã€å¯†ç å­¦ç­‰åº•å±‚æ¦‚å¿µæŠ½è±¡ä¸ºç›´è§‚çš„ä¸šåŠ¡æ“ä½œ
- ç»Ÿä¸€å¼€å‘ä½“éªŒï¼šä¸åŒç±»å‹çš„äº¤æ˜“ï¼ˆè½¬è´¦ã€åˆçº¦ã€AIï¼‰ä½¿ç”¨ç›¸åŒçš„æ¥å£æ¨¡å¼å’Œæµç¨‹  
- ä¼ä¸šçº§å®Œæ•´æ”¯æŒï¼šæ¶µç›–å¤šç­¾ã€æ—¶é—´é”ã€è®¿é—®æ§åˆ¶ç­‰å¤æ‚ä¸šåŠ¡åœºæ™¯çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ
- ç”Ÿäº§å°±ç»ªï¼šæä¾›ç›‘æ§ã€æ•…éšœæ’æŸ¥ã€æ€§èƒ½ä¼˜åŒ–ç­‰è¿ç»´çº§æŒ‡å¯¼

ã€é€‚ç”¨åœºæ™¯ã€‘
1. **ä¸ªäººé’±åŒ…å¼€å‘**ï¼šå®ç°ç”¨æˆ·è½¬è´¦ã€èµ„äº§æŸ¥è¯¢ç­‰åŸºç¡€åŠŸèƒ½
2. **DAppå‰ç«¯é›†æˆ**ï¼šæ¥å…¥æ™ºèƒ½åˆçº¦è°ƒç”¨ã€AIæ¨¡å‹æ¨ç†ç­‰é«˜çº§åŠŸèƒ½
3. **ä¼ä¸šç³»ç»Ÿé›†æˆ**ï¼šå®ç°å¤šç­¾å®¡æ‰¹ã€åˆè§„æ£€æŸ¥ã€é£æ§ç®¡ç†ç­‰ä¼ä¸šçº§éœ€æ±‚
4. **ç³»ç»Ÿè¿ç»´ç›‘æ§**ï¼šå»ºç«‹äº¤æ˜“ç³»ç»Ÿçš„å¯è§‚æµ‹æ€§å’Œæ•…éšœå¤„ç†èƒ½åŠ›

---

## ğŸ—ï¸ **ç»Ÿä¸€äº¤æ˜“æ¶æ„è®¾è®¡**

### **æ ¸å¿ƒè®¾è®¡ç†å¿µ**

ã€€ã€€WESäº¤æ˜“ç³»ç»ŸåŸºäº"**ç”¨æˆ·æ„å›¾ â†’ ä¸šåŠ¡æ“ä½œ â†’ äº¤æ˜“æ„å»º â†’ ç­¾åæˆæƒ â†’ ç½‘ç»œæäº¤**"çš„ç»Ÿä¸€æµç¨‹è®¾è®¡ï¼Œæ— è®ºæ˜¯è½¬è´¦ã€éƒ¨ç½²åˆçº¦ï¼Œè¿˜æ˜¯æ‰§è¡ŒAIæ¨ç†ï¼Œéƒ½éµå¾ªç›¸åŒçš„äº¤æ˜“ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

```mermaid
graph TD
    subgraph "ç”¨æˆ·å±‚"
        User["ğŸ‘¤ ç”¨æˆ·Alice"]
        Dev["ğŸ‘¨â€ğŸ’» å¼€å‘è€…"]
        Enterprise["ğŸ¢ ä¼ä¸šç”¨æˆ·"]
    end

    subgraph "ä¸šåŠ¡æ¥å£å±‚"
        TransactionService["ğŸ“Š TransactionService<br/>åŸºç¡€äº¤æ˜“æœåŠ¡"]
        ContractService["ğŸ”§ ContractService<br/>æ™ºèƒ½åˆçº¦æœåŠ¡"]  
        AIModelService["ğŸ¤– AIModelService<br/>AIæ¨¡å‹æœåŠ¡"]
        TransactionManager["âš™ï¸ TransactionManager<br/>äº¤æ˜“ç”Ÿå‘½å‘¨æœŸç®¡ç†"]
    end

    subgraph "æ ¸å¿ƒæ•°æ®å±‚"
        Types["ğŸ“ pkg/types<br/>ä¸šåŠ¡æ•°æ®ç»“æ„"]
        PB["ğŸ“‹ pb/*<br/>Protocol Buffers"]
    end

    subgraph "åŒºå—é“¾å±‚"
        UTXO["ğŸ’° UTXOç®¡ç†"]
        Mempool["ğŸ“® å†…å­˜æ± "]
        Consensus["ğŸ¤ å…±è¯†æœºåˆ¶"]
        Storage["ğŸ’¾ æŒä¹…åŒ–å­˜å‚¨"]
    end

    %% ç”¨æˆ·æ“ä½œæµç¨‹
    User -->|"1. è½¬è´¦æ“ä½œ"| TransactionService
    User -->|"2. éƒ¨ç½²é™æ€èµ„æº"| TransactionService
    Dev -->|"3. éƒ¨ç½²åˆçº¦"| ContractService
    Dev -->|"4. éƒ¨ç½²AIæ¨¡å‹"| AIModelService
    Enterprise -->|"5. å¤šç­¾æ“ä½œ"| TransactionManager

    %% æœåŠ¡é—´å…³ç³»
    TransactionService -->|"æ„å»ºäº¤æ˜“"| TransactionManager
    ContractService -->|"æ„å»ºåˆçº¦äº¤æ˜“"| TransactionManager
    AIModelService -->|"æ„å»ºAIäº¤æ˜“"| TransactionManager

    %% æ•°æ®ä¾èµ–
    TransactionService -.->|"ä½¿ç”¨"| Types
    ContractService -.->|"ä½¿ç”¨"| Types
    AIModelService -.->|"ä½¿ç”¨"| Types
    TransactionManager -.->|"ä½¿ç”¨"| Types
    Types -.->|"æ‰©å±•"| PB

    %% åº•å±‚äº¤äº’
    TransactionManager -->|"ç­¾åäº¤æ˜“"| UTXO
    TransactionManager -->|"æäº¤äº¤æ˜“"| Mempool
    Mempool -->|"æ‰“åŒ…äº¤æ˜“"| Consensus
    Consensus -->|"å­˜å‚¨åŒºå—"| Storage

    %% æ ·å¼å®šä¹‰
    classDef userClass fill:#e1f5fe
    classDef serviceClass fill:#f3e5f5
    classDef dataClass fill:#fff3e0
    classDef blockchainClass fill:#e8f5e8

    class User,Dev,Enterprise userClass
    class TransactionService,ContractService,AIModelService,TransactionManager serviceClass
    class Types,PB dataClass
    class UTXO,Mempool,Consensus,Storage blockchainClass
```

### **ç»Ÿä¸€äº¤æ˜“æµç¨‹**

```mermaid
flowchart TD
    Start([ç”¨æˆ·å‘èµ·æ“ä½œ]) --> Choice{æ“ä½œç±»å‹}
    
    Choice -->|è½¬è´¦| Transfer[TransferAsset]
    Choice -->|é™æ€èµ„æºéƒ¨ç½²| DeployStatic[DeployStaticResource]
    Choice -->|åˆçº¦éƒ¨ç½²| DeployContract[DeployContract] 
    Choice -->|åˆçº¦è°ƒç”¨| Call[CallContract]
    Choice -->|AIæ¨¡å‹éƒ¨ç½²| DeployAI[DeployAIModel]
    Choice -->|AIæ¨ç†| Infer[InferAIModel]
    Choice -->|å¤šç­¾è½¬è´¦| MultiSig[StartMultiSigSession]

    Transfer --> BuildTx[æ„å»ºäº¤æ˜“<br/>é€‰æ‹©UTXO/è®¡ç®—è´¹ç”¨]
    DeployStatic --> BuildTx
    DeployContract --> BuildTx
    Call --> BuildTx
    DeployAI --> BuildTx
    Infer --> BuildTx
    MultiSig --> CollectSig[æ”¶é›†ç­¾å<br/>AddSignature]

    BuildTx --> ReturnHash[è¿”å›äº¤æ˜“å“ˆå¸Œ<br/>txHash]
    CollectSig --> CheckSig{ç­¾åæ˜¯å¦è¶³å¤Ÿ?}
    CheckSig -->|å¦| WaitSig[ç­‰å¾…æ›´å¤šç­¾å]
    CheckSig -->|æ˜¯| ReturnHash
    WaitSig --> CollectSig

    ReturnHash --> Sign[ç”¨æˆ·ç­¾å<br/>SignTransaction]
    Sign --> Submit[æäº¤ç½‘ç»œ<br/>SubmitTransaction]
    Submit --> Broadcast[å¹¿æ’­åˆ°èŠ‚ç‚¹<br/>è¿›å…¥å†…å­˜æ± ]
    Broadcast --> Mine[çŸ¿å·¥æ‰“åŒ…<br/>å†™å…¥åŒºå—]
    Mine --> Confirm[äº¤æ˜“ç¡®è®¤<br/>Status: Confirmed]

    %% æŸ¥è¯¢åˆ†æ”¯
    ReturnHash -.->|å¹¶è¡Œ| Query[æŸ¥è¯¢çŠ¶æ€<br/>GetTransactionStatus]
    Sign -.->|å¹¶è¡Œ| Query
    Submit -.->|å¹¶è¡Œ| Query
    Broadcast -.->|å¹¶è¡Œ| Query
    Mine -.->|å¹¶è¡Œ| Query
    Query --> StatusCheck{å½“å‰çŠ¶æ€}
    StatusCheck -->|Pending| Pending[â³ ç­‰å¾…ç¡®è®¤]
    StatusCheck -->|Confirmed| Success[âœ… äº¤æ˜“æˆåŠŸ]
    StatusCheck -->|Failed| Failed[âŒ äº¤æ˜“å¤±è´¥]

    %% æ ·å¼
    classDef startEnd fill:#e1f5fe
    classDef process fill:#f3e5f5  
    classDef decision fill:#fff3e0
    classDef status fill:#e8f5e8

    class Start startEnd
    class Transfer,DeployStatic,DeployContract,Call,DeployAI,Infer,MultiSig,BuildTx,Sign,Submit,Broadcast,Mine process
    class Choice,CheckSig,StatusCheck decision
    class Pending,Success,Failed status
```

---

## ğŸ¯ **æ ¸å¿ƒæœåŠ¡æ¥å£è¯¦è§£**

### **æ¥å£åˆ†å±‚æ¶æ„è¯´æ˜**

ã€€ã€€WESäº¤æ˜“ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼Œå°†å¤æ‚çš„åŒºå—é“¾äº¤æ˜“åŠŸèƒ½æŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†ä¸ºå››ä¸ªæ ¸å¿ƒæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡ä¸“æ³¨ç‰¹å®šçš„ä¸šåŠ¡åœºæ™¯ï¼Œé€šè¿‡ç»Ÿä¸€çš„è®¾è®¡æ¨¡å¼å®ç°é«˜å†…èšã€ä½è€¦åˆçš„ç³»ç»Ÿæ¶æ„ã€‚

**åˆ†å±‚è®¾è®¡åŸåˆ™ï¼š**
- **èŒè´£å•ä¸€**ï¼šæ¯ä¸ªæœåŠ¡åªè´Ÿè´£ç‰¹å®šç±»å‹çš„äº¤æ˜“ä¸šåŠ¡
- **æ¥å£ç»Ÿä¸€**ï¼šæ‰€æœ‰æœåŠ¡é‡‡ç”¨ç›¸åŒçš„å‚æ•°è®¾è®¡æ¨¡å¼ï¼ˆåŸºç¡€å‚æ•°+å¯é€‰é«˜çº§é€‰é¡¹ï¼‰  
- **æ¸è¿›å¼å¤æ‚åº¦**ï¼šä»ç®€å•çš„æ—¥å¸¸ä½¿ç”¨åˆ°å¤æ‚çš„ä¼ä¸šçº§éœ€æ±‚ï¼Œç”¨æˆ·å¯æŒ‰éœ€é€‰æ‹©åŠŸèƒ½å±‚çº§
- **å‘åå…¼å®¹**ï¼šæ–°åŠŸèƒ½é€šè¿‡å¯é€‰å‚æ•°æ‰©å±•ï¼Œä¸å½±å“ç°æœ‰ä»£ç 

### **1. ğŸ“Š TransactionService - ç»Ÿä¸€äº¤æ˜“æœåŠ¡**

ã€æœåŠ¡å®šä½ã€‘
ã€€ã€€TransactionServiceæ˜¯WESäº¤æ˜“ç³»ç»Ÿçš„æ ¸å¿ƒæœåŠ¡ï¼Œä¸“æ³¨äºå¤„ç†èµ„äº§è½¬ç§»å’Œé™æ€èµ„æºä¸Šé“¾ä¸šåŠ¡ã€‚å®ƒä¸º90%çš„æ—¥å¸¸äº¤æ˜“åœºæ™¯æä¾›ç®€æ´æ˜“ç”¨çš„æ¥å£ï¼ŒåŒæ—¶é€šè¿‡é«˜çº§é€‰é¡¹æ”¯æŒ10%çš„ä¼ä¸šçº§å¤æ‚éœ€æ±‚ã€‚

ã€è®¾è®¡ç†å¿µã€‘
- **ç”¨æˆ·å‹å¥½ä¼˜å…ˆ**ï¼šéšè—å¤æ‚çš„UTXOé€‰æ‹©ã€æ‰¾é›¶è®¡ç®—ç­‰åº•å±‚é€»è¾‘ï¼Œç”¨æˆ·åªéœ€å…³æ³¨ä¸šåŠ¡å‚æ•°
- **æ¸è¿›å¼å¤æ‚åº¦**ï¼šåŸºç¡€åŠŸèƒ½é›¶é—¨æ§›ä½¿ç”¨ï¼Œé«˜çº§åŠŸèƒ½æŒ‰éœ€å¼•å…¥ï¼Œé¿å…è®¤çŸ¥è´Ÿæ‹…
- **æ™ºèƒ½é»˜è®¤å€¼**ï¼šç³»ç»Ÿè‡ªåŠ¨å¤„ç†æ‰‹ç»­è´¹ä¼°ç®—ã€UTXOä¼˜åŒ–é€‰æ‹©ç­‰æŠ€æœ¯ç»†èŠ‚
- **å®‰å…¨ä¸ºæœ¬**ï¼šæ‰€æœ‰æ“ä½œéƒ½ç»è¿‡å®Œæ•´çš„éªŒè¯é“¾ï¼Œç¡®ä¿èµ„é‡‘å®‰å…¨å’Œåˆè§„æ€§

ã€é€‚ç”¨åœºæ™¯åˆ†æã€‘

| **ä½¿ç”¨åœºæ™¯** | **ç›®æ ‡ç”¨æˆ·** | **ä½¿ç”¨æ–¹æ³•** | **æ ¸å¿ƒä»·å€¼** |
|------------|------------|-------------|-------------|
| ä¸ªäººæ—¥å¸¸è½¬è´¦ | é’±åŒ…ç”¨æˆ· | åŸºç¡€æ¥å£è°ƒç”¨ | ç®€å•ç›´è§‚ï¼Œä¸€é”®å®Œæˆ |
| ä¼ä¸šå¤šç­¾æ”¯ä»˜ | è´¢åŠ¡ç³»ç»Ÿ | é«˜çº§é€‰é¡¹é…ç½® | é£é™©æ§åˆ¶ï¼Œåˆè§„å®¡è®¡ |
| æ‰¹é‡å·¥èµ„å‘æ”¾ | HRç³»ç»Ÿ | æ‰¹é‡è½¬è´¦æ¥å£ | é™æœ¬å¢æ•ˆï¼ŒåŸå­æ“ä½œ |
| è¯ä¹¦æ–‡ä»¶ä¸Šé“¾ | æ•™è‚²æœºæ„ | èµ„æºéƒ¨ç½²æ¥å£ | é˜²ç¯¡æ”¹å­˜è¯ï¼Œæ°¸ä¹…ä¿å­˜ |

ã€æ ¸å¿ƒæ¥å£è®¾è®¡ã€‘

```go
// TransactionService äº¤æ˜“æœåŠ¡æ¥å£å®šä¹‰
// 
// è®¾è®¡åŸåˆ™ï¼š
// 1. æ–¹æ³•å‘½åéµå¾ªä¸šåŠ¡è¯­ä¹‰ï¼Œå¦‚TransferAssetè€ŒéBuildTransaction
// 2. å‚æ•°é¡ºåºï¼šå¿…éœ€å‚æ•°åœ¨å‰ï¼Œå¯é€‰å‚æ•°åœ¨å
// 3. è¿”å›å€¼ç»Ÿä¸€ï¼šäº¤æ˜“å“ˆå¸Œ([]byte) + é”™è¯¯ä¿¡æ¯(error)
// 4. ä¸Šä¸‹æ–‡ç®¡ç†ï¼šæ‰€æœ‰æ–¹æ³•éƒ½æ”¯æŒcontext.Contextç”¨äºè¶…æ—¶æ§åˆ¶å’Œå–æ¶ˆæ“ä½œ
type TransactionService interface {
    // TransferAsset èµ„äº§è½¬è´¦æ“ä½œï¼ˆåŸºç¡€+é«˜çº§æ¨¡å¼ç»Ÿä¸€æ¥å£ï¼‰
    //
    // ã€åŠŸèƒ½è¯´æ˜ã€‘
    // è¿™æ˜¯æœ€å¸¸ç”¨çš„äº¤æ˜“æ¥å£ï¼Œæ”¯æŒåŸç”Ÿä»£å¸å’Œåˆçº¦ä»£å¸çš„è½¬ç§»æ“ä½œã€‚
    // ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†UTXOé€‰æ‹©ã€æ‰¾é›¶è®¡ç®—ã€æ‰‹ç»­è´¹ä¼°ç®—ç­‰å¤æ‚é€»è¾‘ã€‚
    //
    // ã€è°ƒç”¨æ¨¡å¼ã€‘
    // - åŸºç¡€æ¨¡å¼ï¼šçœç•¥optionså‚æ•°ï¼Œç³»ç»Ÿä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆ90%çš„ä½¿ç”¨åœºæ™¯ï¼‰
    // - é«˜çº§æ¨¡å¼ï¼šä¼ å…¥TransferOptionsï¼Œæ”¯æŒå¤šç­¾ã€æ—¶é—´é”ç­‰ä¼ä¸šçº§åŠŸèƒ½
    //
    // ã€å‚æ•°è¯¦è§£ã€‘
    // - ctx: ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç”¨äºè¶…æ—¶æ§åˆ¶å’Œè¯·æ±‚å–æ¶ˆ
    // - toAddress: æ¥æ”¶æ–¹åœ°å€ï¼Œæ”¯æŒä¸ªäººåœ°å€å’Œæ™ºèƒ½åˆçº¦åœ°å€
    // - amount: è½¬è´¦é‡‘é¢ï¼Œå­—ç¬¦ä¸²æ ¼å¼æ”¯æŒé«˜ç²¾åº¦å°æ•°ï¼ˆå¦‚"1.23456789"ï¼‰
    // - tokenID: ä»£å¸æ ‡è¯†ç¬¦ï¼Œç©ºå­—ç¬¦ä¸²è¡¨ç¤ºåŸç”Ÿä»£å¸ï¼Œå…¶ä»–å€¼ä¸ºåˆçº¦åœ°å€
    // - memo: è½¬è´¦å¤‡æ³¨ï¼Œå°†è®°å½•åœ¨åŒºå—é“¾ä¸Šï¼Œæ”¯æŒUTF-8ç¼–ç 
    // - options: é«˜çº§é€‰é¡¹ï¼Œå¯é€‰å‚æ•°ï¼Œæ”¯æŒå¤šç­¾ã€æ—¶é—´é”ã€è®¿é—®æ§åˆ¶ç­‰
    //
    // ã€è¿”å›å€¼ã€‘
    // - []byte: æœªç­¾åäº¤æ˜“çš„å“ˆå¸Œå€¼ï¼Œç”¨äºåç»­ç­¾åå’Œæäº¤æ“ä½œ
    // - error: æ“ä½œé”™è¯¯ï¼ŒåŒ…å«è¯¦ç»†çš„é”™è¯¯åŸå› å’Œå»ºè®®å¤„ç†æ–¹æ¡ˆ
    //
    // ã€ä½¿ç”¨ç¤ºä¾‹ã€‘
    // åŸºç¡€è½¬è´¦ï¼šTransferAsset(ctx, "0x123...", "100.0", "", "è½¬è´¦ç»™æœ‹å‹")
    // é«˜çº§è½¬è´¦ï¼šTransferAsset(ctx, "0x123...", "100.0", "", "è½¬è´¦", &multiSigOptions)
    TransferAsset(ctx context.Context,
        toAddress string,        // æ¥æ”¶æ–¹åœ°å€ï¼ˆå¿…éœ€ï¼‰
        amount string,           // è½¬è´¦é‡‘é¢ï¼ˆå¿…éœ€ï¼‰
        tokenID string,          // ä»£å¸IDï¼Œ""=åŸç”Ÿå¸ï¼ˆå¿…éœ€ï¼‰
        memo string,             // è½¬è´¦å¤‡æ³¨ï¼ˆå¿…éœ€ï¼Œå¯ä¸ºç©ºï¼‰
        options ...*types.TransferOptions, // é«˜çº§é€‰é¡¹ï¼ˆå¯é€‰ï¼‰
    ) ([]byte, error)
    
    // BatchTransfer æ‰¹é‡è½¬è´¦æ“ä½œ
    //
    // ã€åŠŸèƒ½è¯´æ˜ã€‘
    // åœ¨å•ä¸ªäº¤æ˜“ä¸­å¤„ç†å¤šç¬”è½¬è´¦ï¼Œå…·æœ‰åŸå­æ€§ä¿è¯ï¼ˆå…¨éƒ¨æˆåŠŸæˆ–å…¨éƒ¨å¤±è´¥ï¼‰ã€‚
    // ç›¸æ¯”å¤šæ¬¡å•ç‹¬è½¬è´¦ï¼Œæ‰¹é‡æ“ä½œå¯æ˜¾è‘—é™ä½æ‰‹ç»­è´¹æˆæœ¬ã€‚
    //
    // ã€ä¸šåŠ¡ä»·å€¼ã€‘
    // - æˆæœ¬ä¼˜åŒ–ï¼šNç¬”è½¬è´¦åªéœ€æ”¯ä»˜1ç¬”äº¤æ˜“çš„æ‰‹ç»­è´¹
    // - åŸå­æ€§ï¼šé¿å…éƒ¨åˆ†æˆåŠŸéƒ¨åˆ†å¤±è´¥çš„å¤æ‚çŠ¶æ€å¤„ç†
    // - æ€§èƒ½æå‡ï¼šå‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°ï¼Œæé«˜å¤„ç†æ•ˆç‡
    //
    // ã€é€‚ç”¨åœºæ™¯ã€‘
    // - ä¼ä¸šå·¥èµ„å‘æ”¾ï¼šä¸€æ¬¡æ€§å‘å¤šä¸ªå‘˜å·¥å‘æ”¾è–ªèµ„
    // - åˆ†çº¢æ´¾æ¯ï¼šå‘è‚¡ä¸œæ‰¹é‡åˆ†é…æ”¶ç›Š
    // - ç©ºæŠ•æ´»åŠ¨ï¼šå‘å¤šä¸ªç”¨æˆ·åŒæ—¶å‘é€ä»£å¸
    //
    // ã€å‚æ•°è¯¦è§£ã€‘
    // - transfers: è½¬è´¦å‚æ•°åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ åŒ…å«æ¥æ”¶åœ°å€ã€é‡‘é¢ç­‰ä¿¡æ¯
    //
    // ã€æŠ€æœ¯é™åˆ¶ã€‘
    // - å•æ¬¡æ‰¹é‡æ“ä½œå»ºè®®ä¸è¶…è¿‡100ç¬”è½¬è´¦
    // - æ€»é‡‘é¢ä¸èƒ½è¶…è¿‡å‘é€æ–¹å¯ç”¨ä½™é¢
    // - æ‰€æœ‰è½¬è´¦å¿…é¡»ä½¿ç”¨ç›¸åŒçš„ä»£å¸ç±»å‹
    BatchTransfer(ctx context.Context,
        senderPrivateKey []byte, // å‘é€æ–¹ç§é’¥ï¼ˆå¿…éœ€ï¼Œæ¯æ¬¡è°ƒç”¨æºå¸¦ï¼‰
        transfers []types.TransferParams, // æ‰¹é‡è½¬è´¦å‚æ•°åˆ—è¡¨
    ) ([]byte, error)
    
    // DeployStaticResource é™æ€èµ„æºä¸Šé“¾éƒ¨ç½²
    //
    // ã€åŠŸèƒ½è¯´æ˜ã€‘
    // å°†æ–‡ä»¶ã€æ–‡æ¡£ã€å›¾ç‰‡ç­‰é™æ€èµ„æºä¸Šä¼ åˆ°åŒºå—é“¾ç½‘ç»œï¼Œå®ç°æ°¸ä¹…å­˜å‚¨å’Œé˜²ç¯¡æ”¹ã€‚
    // é€‚ç”¨äºè¯ä¹¦å­˜è¯ã€ç‰ˆæƒä¿æŠ¤ã€é‡è¦æ–‡æ¡£å¤‡ä»½ç­‰åœºæ™¯ã€‚
    //
    // ã€æŠ€æœ¯ç‰¹æ€§ã€‘
    // - å†…å®¹å¯»å€ï¼šåŸºäºæ–‡ä»¶å†…å®¹ç”Ÿæˆå”¯ä¸€å“ˆå¸Œæ ‡è¯†
    // - å»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼šæ–‡ä»¶åˆ†å¸ƒå¼å­˜å‚¨åœ¨ç½‘ç»œèŠ‚ç‚¹ä¸­
    // - ç‰ˆæœ¬æ§åˆ¶ï¼šæ”¯æŒåŒä¸€èµ„æºçš„å¤šç‰ˆæœ¬ç®¡ç†
    // - è®¿é—®æ§åˆ¶ï¼šæ”¯æŒå…¬å¼€è®¿é—®æˆ–æƒé™æ§åˆ¶
    //
    // ã€å‚æ•°è¯¦è§£ã€‘
    // - deployerPrivateKey: éƒ¨ç½²è€…ç§é’¥ï¼ˆæ¯æ¬¡è°ƒç”¨æºå¸¦ï¼Œå®ç°æ— çŠ¶æ€è®¾è®¡ï¼‰
    // - filePath: æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œç³»ç»Ÿä¼šè¯»å–æ–‡ä»¶å†…å®¹ä¸Šä¼ 
    // - name: èµ„æºæ˜¾ç¤ºåç§°ï¼Œä¾¿äºç”¨æˆ·è¯†åˆ«å’Œç®¡ç†
    // - description: èµ„æºæè¿°ä¿¡æ¯ï¼Œæ”¯æŒè¯¦ç»†çš„å…ƒæ•°æ®
    // - isPublic: è®¿é—®æƒé™ï¼Œtrue=å…¬å¼€è®¿é—®ï¼Œfalse=ä»…ä¸Šä¼ è€…å¯è®¿é—®
    // - tags: åˆ†ç±»æ ‡ç­¾ï¼Œä¾¿äºèµ„æºæ£€ç´¢å’Œç®¡ç†
    // - options: é«˜çº§éƒ¨ç½²é€‰é¡¹ï¼Œæ”¯æŒå•†ä¸šåŒ–é…ç½®ã€è®¿é—®ç­–ç•¥ç­‰
    //
    // ã€æ–‡ä»¶ç±»å‹æ”¯æŒã€‘
    // - æ–‡æ¡£ï¼šPDF, DOC, TXT, MDç­‰
    // - å›¾ç‰‡ï¼šJPG, PNG, GIF, SVGç­‰  
    // - è§†é¢‘ï¼šMP4, AVI, MOVç­‰ï¼ˆå»ºè®®æ–‡ä»¶å¤§å°<100MBï¼‰
    // - æ•°æ®ï¼šJSON, CSV, XMLç­‰ç»“æ„åŒ–æ•°æ®
    //
    // ã€æ–‡ä»¶éªŒè¯æœºåˆ¶ã€‘
    // - æ–‡ä»¶æ ¼å¼éªŒè¯ï¼šè‡ªåŠ¨æ£€æµ‹MIMEç±»å‹å’Œæ–‡ä»¶å¤´
    // - å®Œæ•´æ€§æ ¡éªŒï¼šè®¡ç®—æ–‡ä»¶å“ˆå¸Œç¡®ä¿ä¼ è¾“å®Œæ•´æ€§
    // - å®‰å…¨æ‰«æï¼šæ£€æŸ¥æ¶æ„ä»£ç å’Œç—…æ¯’
    // - å¤§å°é™åˆ¶ï¼šå•ä¸ªæ–‡ä»¶æœ€å¤§100MB
    DeployStaticResource(ctx context.Context,
        deployerPrivateKey []byte, // éƒ¨ç½²è€…ç§é’¥ï¼ˆå¿…éœ€ï¼‰
        filePath string,         // æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼ˆå¿…éœ€ï¼‰
        name string,             // èµ„æºæ˜¾ç¤ºåç§°ï¼ˆå¿…éœ€ï¼‰
        description string,      // èµ„æºæè¿°ä¿¡æ¯ï¼ˆå¿…éœ€ï¼‰
        isPublic bool,           // æ˜¯å¦å…¬å¼€è®¿é—®ï¼ˆå¿…éœ€ï¼‰
        tags []string,           // åˆ†ç±»æ ‡ç­¾ï¼ˆå¿…éœ€ï¼Œå¯ä¸ºç©ºæ•°ç»„ï¼‰
        options ...*types.ResourceDeployOptions, // é«˜çº§éƒ¨ç½²é€‰é¡¹ï¼ˆå¯é€‰ï¼‰
    ) ([]byte, error)
}
```

#### **åŸºç¡€ä½¿ç”¨åœºæ™¯è¯¦è§£**

ã€€ã€€åŸºç¡€ä½¿ç”¨æ¨¡å¼é¢å‘90%çš„æ—¥å¸¸ç”¨æˆ·ï¼Œæ— éœ€äº†è§£å¤æ‚çš„åŒºå—é“¾æŠ€æœ¯ç»†èŠ‚ï¼Œåªéœ€æä¾›å¿…è¦çš„ä¸šåŠ¡å‚æ•°å³å¯å®Œæˆäº¤æ˜“ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰æŠ€æœ¯ç»†èŠ‚ï¼ŒåŒ…æ‹¬UTXOé€‰æ‹©ã€æ‰‹ç»­è´¹è®¡ç®—ã€ç½‘ç»œæäº¤ç­‰ã€‚

##### **åœºæ™¯1ï¼šä¸ªäººæ—¥å¸¸è½¬è´¦**

**ä¸šåŠ¡èƒŒæ™¯**ï¼šç”¨æˆ·Aliceæƒ³è¦å‘æœ‹å‹Bobè½¬è´¦100.5ä¸ªåŸç”Ÿä»£å¸ï¼Œå¹¶é™„ä¸Šè½¬è´¦è¯´æ˜ã€‚

**æŠ€æœ¯è¦æ±‚**ï¼š
- æ— éœ€äº†è§£UTXOæ¨¡å‹æˆ–å¯†ç å­¦çŸ¥è¯†
- ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çš„UTXOç»„åˆ
- è‡ªåŠ¨è®¡ç®—åˆç†çš„æ‰‹ç»­è´¹
- è‡ªåŠ¨å¤„ç†æ‰¾é›¶é€»è¾‘

```go
// ä¸ªäººæ—¥å¸¸è½¬è´¦ - æœ€ç®€ä½¿ç”¨æ–¹å¼
func PersonalTransfer(ctx context.Context, transactionService TransactionService) error {
    // ã€æ­¥éª¤1ã€‘æ„å»ºè½¬è´¦äº¤æ˜“
    // ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹å¤æ‚é€»è¾‘ï¼š
    // - æŸ¥è¯¢å‘é€æ–¹å¯ç”¨ä½™é¢
    // - é€‰æ‹©åˆé€‚çš„UTXOç»„åˆ
    // - è®¡ç®—æœ€ä¼˜æ‰‹ç»­è´¹
    // - ç”Ÿæˆæ‰¾é›¶è¾“å‡º
    txHash, err := transactionService.TransferAsset(
        ctx,
        "0x742d35Cc6eba6c8b4fc926e3A2e",  // æœ‹å‹Bobçš„é’±åŒ…åœ°å€
        "100.5",                          // è½¬è´¦é‡‘é¢ï¼š100.5ä¸ªåŸç”Ÿå¸
        "",                               // ä»£å¸IDï¼šç©ºå­—ç¬¦ä¸²è¡¨ç¤ºåŸç”Ÿä»£å¸
        "ç»™æœ‹å‹çš„è½¬è´¦",                     // è½¬è´¦å¤‡æ³¨ï¼šä¼šè®°å½•åœ¨åŒºå—é“¾ä¸Š
        // çœç•¥optionså‚æ•° â†’ ç³»ç»Ÿä½¿ç”¨é»˜è®¤å®‰å…¨é…ç½®
    )
    
    if err != nil {
        // ã€é”™è¯¯å¤„ç†ã€‘å¸¸è§é”™è¯¯å’Œå¤„ç†å»ºè®®
        switch {
        case strings.Contains(err.Error(), "insufficient balance"):
            return fmt.Errorf("ä½™é¢ä¸è¶³ï¼Œå½“å‰ä½™é¢ä¸è¶³ä»¥æ”¯ä»˜è½¬è´¦é‡‘é¢å’Œæ‰‹ç»­è´¹")
        case strings.Contains(err.Error(), "invalid address"):
            return fmt.Errorf("æ¥æ”¶åœ°å€æ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥åœ°å€æ˜¯å¦æ­£ç¡®")
        case strings.Contains(err.Error(), "amount too small"):
            return fmt.Errorf("è½¬è´¦é‡‘é¢è¿‡å°ï¼Œæœ€å°è½¬è´¦é‡‘é¢ä¸º0.000001åŸç”Ÿå¸")
        default:
            return fmt.Errorf("è½¬è´¦å¤±è´¥: %w", err)
        }
    }
    
    // ã€æˆåŠŸå“åº”ã€‘txHashä¸º32å­—èŠ‚çš„äº¤æ˜“å“ˆå¸Œï¼Œç”¨äºåç»­ç­¾åå’ŒæŸ¥è¯¢
    fmt.Printf("è½¬è´¦äº¤æ˜“åˆ›å»ºæˆåŠŸï¼Œäº¤æ˜“å“ˆå¸Œ: %x\n", txHash)
    fmt.Printf("è¯·ä½¿ç”¨æ­¤å“ˆå¸Œè¿›è¡Œç­¾åå’Œæäº¤æ“ä½œ\n")
    
    return nil
}
```

##### **åœºæ™¯2ï¼šé‡è¦æ–‡æ¡£ä¸Šé“¾å­˜è¯**

**ä¸šåŠ¡èƒŒæ™¯**ï¼šæ•™è‚²æœºæ„éœ€è¦å°†å­¦ä½è¯ä¹¦ä¸Šé“¾ï¼Œå®ç°é˜²ç¯¡æ”¹çš„æ°¸ä¹…å­˜è¯ã€‚

**æŠ€æœ¯è¦æ±‚**ï¼š
- æ–‡ä»¶å†…å®¹å®Œæ•´æ€§ä¿æŠ¤
- æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼
- æƒé™æ§åˆ¶ï¼ˆç§äººæ–‡æ¡£ä¸å…¬å¼€ï¼‰
- ä¾¿äºæ£€ç´¢çš„æ ‡ç­¾ç³»ç»Ÿ

```go
// é‡è¦æ–‡æ¡£ä¸Šé“¾å­˜è¯ - æ•™è‚²æœºæ„ä½¿ç”¨åœºæ™¯
func DocumentCertification(ctx context.Context, transactionService TransactionService) error {
    // ã€æ­¥éª¤1ã€‘å‡†å¤‡æ–‡ä»¶è·¯å¾„å’Œå…ƒæ•°æ®
    certificatePath := "/opt/certificates/degree_2024_001.pdf"  // å­¦ä½è¯ä¹¦æ–‡ä»¶
    
    // ã€æ­¥éª¤2ã€‘éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å¯è¯»
    if _, err := os.Stat(certificatePath); os.IsNotExist(err) {
        return fmt.Errorf("è¯ä¹¦æ–‡ä»¶ä¸å­˜åœ¨: %s", certificatePath)
    }
    
    // ã€æ­¥éª¤3ã€‘éƒ¨ç½²æ–‡æ¡£åˆ°åŒºå—é“¾ç½‘ç»œ
    // ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹æŠ€æœ¯ç»†èŠ‚ï¼š
    // - è¯»å–æ–‡ä»¶å†…å®¹å¹¶è®¡ç®—å“ˆå¸Œ
    // - å°†æ–‡ä»¶åˆ†ç‰‡å­˜å‚¨åˆ°ç½‘ç»œèŠ‚ç‚¹
    // - ç”Ÿæˆå†…å®¹å¯»å€çš„å”¯ä¸€æ ‡è¯†
    // - åˆ›å»ºèµ„æºç´¢å¼•ä¾¿äºåç»­æŸ¥æ‰¾
    txHash, err := transactionService.DeployStaticResource(
        ctx,
        certificatePath,                    // æœ¬åœ°è¯ä¹¦æ–‡ä»¶è·¯å¾„
        "å¼ ä¸‰-è®¡ç®—æœºç§‘å­¦å­¦å£«å­¦ä½è¯ä¹¦",        // èµ„æºæ˜¾ç¤ºåç§°ï¼šä¾¿äºç®¡ç†è¯†åˆ«
        "æ¸…åå¤§å­¦2024å¹´è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ä¸“ä¸šå­¦å£«å­¦ä½è¯ä¹¦ï¼Œå­¦å·ï¼š2020123456", // è¯¦ç»†æè¿°ä¿¡æ¯
        false,                              // è®¿é—®æƒé™ï¼šfalse=ä»…ä¸Šä¼ è€…å¯è®¿é—®ï¼Œä¿æŠ¤éšç§
        []string{                           // åˆ†ç±»æ ‡ç­¾ï¼šä¾¿äºåç»­æ£€ç´¢å’Œç®¡ç†
            "å­¦ä½è¯ä¹¦",                      // æ–‡æ¡£ç±»å‹
            "è®¡ç®—æœºç§‘å­¦",                     // ä¸“ä¸šé¢†åŸŸ
            "æ¸…åå¤§å­¦",                      // é¢å‘æœºæ„
            "2024å¹´",                       // é¢å‘å¹´ä»½
            "æœ¬ç§‘",                         // å­¦å†å±‚æ¬¡
        },
        // çœç•¥optionså‚æ•° â†’ ä½¿ç”¨é»˜è®¤å­˜è¯é…ç½®
    )
    
    if err != nil {
        // ã€é”™è¯¯å¤„ç†ã€‘æ–‡æ¡£ä¸Šé“¾å¸¸è§é”™è¯¯
        switch {
        case strings.Contains(err.Error(), "file too large"):
            return fmt.Errorf("æ–‡ä»¶è¿‡å¤§ï¼Œå•ä¸ªæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡100MBï¼Œå»ºè®®å‹ç¼©åä¸Šä¼ ")
        case strings.Contains(err.Error(), "unsupported file type"):
            return fmt.Errorf("ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œæ”¯æŒçš„æ ¼å¼ï¼šPDFã€JPGã€PNGã€TXTç­‰")
        case strings.Contains(err.Error(), "insufficient storage"):
            return fmt.Errorf("å­˜å‚¨é…é¢ä¸è¶³ï¼Œè¯·è”ç³»ç®¡ç†å‘˜æ‰©å®¹æˆ–åˆ é™¤æ—§æ–‡ä»¶")
        default:
            return fmt.Errorf("æ–‡æ¡£ä¸Šé“¾å¤±è´¥: %w", err)
        }
    }
    
    // ã€æˆåŠŸå“åº”ã€‘è®°å½•å­˜è¯ä¿¡æ¯
    fmt.Printf("å­¦ä½è¯ä¹¦ä¸Šé“¾æˆåŠŸï¼\n")
    fmt.Printf("å­˜è¯äº¤æ˜“å“ˆå¸Œ: %x\n", txHash)
    fmt.Printf("è¯ä¹¦å°†è·å¾—åŒºå—é“¾çº§åˆ«çš„é˜²ç¯¡æ”¹ä¿æŠ¤\n")
    fmt.Printf("å¯é€šè¿‡äº¤æ˜“å“ˆå¸Œéšæ—¶éªŒè¯è¯ä¹¦çœŸå®æ€§\n")
    
    return nil
}
```

##### **åœºæ™¯3ï¼šä¼ä¸šæ‰¹é‡å·¥èµ„å‘æ”¾**

**ä¸šåŠ¡èƒŒæ™¯**ï¼šå…¬å¸HRç³»ç»Ÿéœ€è¦å‘200åå‘˜å·¥æ‰¹é‡å‘æ”¾æœˆè–ªï¼Œè¦æ±‚æ“ä½œé«˜æ•ˆä¸”å…·æœ‰åŸå­æ€§ã€‚

**æŠ€æœ¯ä¼˜åŠ¿**ï¼š
- æˆæœ¬ä¼˜åŒ–ï¼š200ç¬”è½¬è´¦åªéœ€1ç¬”äº¤æ˜“è´¹ç”¨
- åŸå­æ€§ä¿è¯ï¼šå…¨éƒ¨æˆåŠŸæˆ–å…¨éƒ¨å¤±è´¥ï¼Œæ— ä¸­é—´çŠ¶æ€
- æ“ä½œç®€åŒ–ï¼šä¸€æ¬¡è°ƒç”¨å®Œæˆæ‰€æœ‰è½¬è´¦

```go
// ä¼ä¸šæ‰¹é‡å·¥èµ„å‘æ”¾ - HRç³»ç»Ÿé›†æˆåœºæ™¯
func PayrollBatchTransfer(ctx context.Context, transactionService TransactionService) error {
    // ã€æ­¥éª¤1ã€‘ä»HRç³»ç»Ÿè·å–å‘˜å·¥è–ªèµ„æ•°æ®
    // å®é™…åœºæ™¯ä¸­è¿™äº›æ•°æ®é€šå¸¸æ¥è‡ªæ•°æ®åº“æŸ¥è¯¢
    employeePayroll := []struct {
        Name     string  // å‘˜å·¥å§“å
        Address  string  // é’±åŒ…åœ°å€
        Salary   string  // æœˆè–ªé‡‘é¢
        Department string // éƒ¨é—¨
    }{
        {"å¼ ä¸‰", "0x1234567890abcdef...", "15000.0", "æŠ€æœ¯éƒ¨"},
        {"æå››", "0x2345678901bcdef0...", "12000.0", "å¸‚åœºéƒ¨"},
        {"ç‹äº”", "0x3456789012cdef01...", "18000.0", "äº§å“éƒ¨"},
        // ... æ›´å¤šå‘˜å·¥æ•°æ®
    }
    
    // ã€æ­¥éª¤2ã€‘æ„å»ºæ‰¹é‡è½¬è´¦å‚æ•°
    var transfers []types.TransferParams
    var totalAmount float64 = 0
    
    for _, employee := range employeePayroll {
        // è½¬æ¢å‘˜å·¥æ•°æ®ä¸ºè½¬è´¦å‚æ•°
        salary, _ := strconv.ParseFloat(employee.Salary, 64)
        totalAmount += salary
        
        transfers = append(transfers, types.TransferParams{
            ToAddress: employee.Address,                      // å‘˜å·¥é’±åŒ…åœ°å€
            Amount:    employee.Salary,                       // è–ªèµ„é‡‘é¢
            TokenID:   "",                                    // ä½¿ç”¨åŸç”Ÿä»£å¸
            Memo:      fmt.Sprintf("%s-2024å¹´3æœˆå·¥èµ„", employee.Name), // è½¬è´¦å¤‡æ³¨
        })
    }
    
    // ã€æ­¥éª¤3ã€‘æ‰§è¡Œæ‰¹é‡è½¬è´¦å‰çš„å®‰å…¨æ£€æŸ¥
    fmt.Printf("å‡†å¤‡å‘æ”¾å·¥èµ„ï¼Œæ€»è®¡%dåå‘˜å·¥ï¼Œæ€»é‡‘é¢: %.2f åŸç”Ÿå¸\n", 
               len(transfers), totalAmount)
    
    // éªŒè¯å…¬å¸è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼ˆå®é™…ç³»ç»Ÿä¸­åº”è¯¥è°ƒç”¨è´¦æˆ·æœåŠ¡ï¼‰
    if totalAmount > getCompanyBalance() {
        return fmt.Errorf("å…¬å¸è´¦æˆ·ä½™é¢ä¸è¶³ï¼Œéœ€è¦ %.2f åŸç”Ÿå¸ï¼Œå½“å‰ä½™é¢ %.2f åŸç”Ÿå¸", 
                          totalAmount, getCompanyBalance())
    }
    
    // ã€æ­¥éª¤4ã€‘æ‰§è¡Œæ‰¹é‡è½¬è´¦æ“ä½œ
    // æ‰€æœ‰è½¬è´¦åœ¨å•ä¸ªåŒºå—é“¾äº¤æ˜“ä¸­å®Œæˆï¼Œå…·æœ‰åŸå­æ€§ä¿è¯
    txHash, err := transactionService.BatchTransfer(ctx, transfers)
    if err != nil {
        // ã€é”™è¯¯å¤„ç†ã€‘æ‰¹é‡è½¬è´¦ç‰¹æœ‰é”™è¯¯
        switch {
        case strings.Contains(err.Error(), "batch too large"):
            return fmt.Errorf("å•æ¬¡æ‰¹é‡è½¬è´¦æ•°é‡è¿‡å¤šï¼Œå»ºè®®åˆ†æ‰¹å¤„ç†ï¼Œæ¯æ‰¹ä¸è¶…è¿‡100ç¬”")
        case strings.Contains(err.Error(), "duplicate recipient"):
            return fmt.Errorf("å‘ç°é‡å¤çš„æ¥æ”¶åœ°å€ï¼Œè¯·æ£€æŸ¥å‘˜å·¥é’±åŒ…åœ°å€æ•°æ®")
        case strings.Contains(err.Error(), "insufficient balance"):
            return fmt.Errorf("è´¦æˆ·ä½™é¢ä¸è¶³ä»¥æ”¯ä»˜æ‰€æœ‰å·¥èµ„å’Œæ‰‹ç»­è´¹")
        default:
            return fmt.Errorf("æ‰¹é‡å·¥èµ„å‘æ”¾å¤±è´¥: %w", err)
        }
    }
    
    // ã€æˆåŠŸå“åº”ã€‘è®°å½•å‘è–ªæ—¥å¿—
    fmt.Printf("âœ… å·¥èµ„å‘æ”¾äº¤æ˜“åˆ›å»ºæˆåŠŸï¼\n")
    fmt.Printf("ğŸ“Š å‘æ”¾ç»Ÿè®¡: %dåå‘˜å·¥ï¼Œæ€»è®¡%.2f åŸç”Ÿå¸\n", len(transfers), totalAmount)
    fmt.Printf("ğŸ”— äº¤æ˜“å“ˆå¸Œ: %x\n", txHash)
    fmt.Printf("ğŸ’¡ æç¤º: è¯·ä½¿ç”¨äº¤æ˜“å“ˆå¸Œè¿›è¡Œç­¾åç¡®è®¤ï¼Œç¡®è®¤åæ‰€æœ‰å‘˜å·¥å°†åŒæ—¶æ”¶åˆ°å·¥èµ„\n")
    
    // å®é™…ç³»ç»Ÿä¸­è¿˜åº”è¯¥ï¼š
    // 1. è®°å½•å‘è–ªæ—¥å¿—åˆ°æ•°æ®åº“
    // 2. å‘é€é€šçŸ¥ç»™è´¢åŠ¡éƒ¨é—¨
    // 3. æ›´æ–°å‘˜å·¥è–ªèµ„å‘æ”¾çŠ¶æ€
    
    return nil
}

// getCompanyBalance è·å–å…¬å¸è´¦æˆ·ä½™é¢ï¼ˆç¤ºä¾‹å‡½æ•°ï¼‰
func getCompanyBalance() float64 {
    // å®é™…å®ç°ä¸­åº”è¯¥è°ƒç”¨AccountServiceæŸ¥è¯¢ä½™é¢
    return 500000.0 // ç¤ºä¾‹ï¼š50ä¸‡åŸç”Ÿå¸ä½™é¢
}
```

#### **ä¼ä¸šçº§ä½¿ç”¨åœºæ™¯è¯¦è§£**

ã€€ã€€ä¼ä¸šçº§ä½¿ç”¨æ¨¡å¼é¢å‘10%çš„å¤æ‚ä¸šåŠ¡éœ€æ±‚ï¼Œé€šè¿‡é«˜çº§é€‰é¡¹é…ç½®å®ç°å¤šç­¾å®¡æ‰¹ã€åˆè§„æ£€æŸ¥ã€é£é™©æ§åˆ¶ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½åœ¨ä¿æŒæ¥å£ç®€æ´çš„åŒæ—¶ï¼Œæä¾›äº†é“¶è¡Œçº§çš„å®‰å…¨ä¿éšœå’Œåˆè§„è¦æ±‚æ”¯æŒã€‚

##### **åœºæ™¯4ï¼šä¼ä¸šå¤šç­¾å¤§é¢æ”¯ä»˜**

**ä¸šåŠ¡èƒŒæ™¯**ï¼šä¸Šå¸‚å…¬å¸éœ€è¦å‘ä¸»è¦ä¾›åº”å•†æ”¯ä»˜100ä¸‡åŸç”Ÿå¸çš„Q4è´§æ¬¾ï¼ŒæŒ‰ç…§å…¬å¸æ²»ç†è¦æ±‚éœ€è¦CEOã€CFOã€CTOä¸­è‡³å°‘3äººç­¾åç¡®è®¤ã€‚

**ä¼ä¸šçº§è¦æ±‚**ï¼š
- é£é™©æ§åˆ¶ï¼šå¤§é¢æ”¯ä»˜å¿…é¡»å¤šäººç­¾åç¡®è®¤
- åˆè§„å®¡è®¡ï¼šæ”¯ä»˜éœ€è¦å®Œæ•´çš„å®¡æ‰¹æµç¨‹è®°å½•
- æ—¶é™ç®¡ç†ï¼š72å°æ—¶å†…å®Œæˆç­¾åï¼Œè¿‡æœŸè‡ªåŠ¨å–æ¶ˆ
- éšç§ä¿æŠ¤ï¼šäº¤æ˜“ä¿¡æ¯æ ‡è®°ä¸ºæœºå¯†çº§åˆ«

```go
// ä¼ä¸šå¤šç­¾å¤§é¢æ”¯ä»˜ - ä¸Šå¸‚å…¬å¸æ²»ç†åœºæ™¯
func EnterpriseMultiSigPayment(ctx context.Context, transactionService TransactionService) error {
    // ã€æ­¥éª¤1ã€‘é…ç½®ä¼ä¸šçº§å¤šç­¾æˆæƒæ¨¡å¼
    // è¿™ä¸ªé…ç½®ä½“ç°äº†ç°ä»£ä¼ä¸šæ²»ç†çš„æœ€ä½³å®è·µ
    enterpriseOptions := &types.TransferOptions{
        // æˆæƒæ¨¡å¼é…ç½® - å®ç°ä¼ä¸šçº§æƒé™æ§åˆ¶
        AuthMode: &types.AuthorizationMode{
            ModeType: "multi",                    // å¤šé‡ç­¾åæ¨¡å¼
            MultiSigConfig: &types.MultiSigConfig{
                RequiredSignatures: 3,            // è‡³å°‘éœ€è¦3ä¸ªç­¾åï¼ˆé£é™©æ§åˆ¶è¦æ±‚ï¼‰
                AuthorizedSigners: []string{      // æˆæƒç­¾åè€…åˆ—è¡¨ï¼ˆå…¬å¸é«˜ç®¡ï¼‰
                    "0xCEO1234...",               // é¦–å¸­æ‰§è¡Œå®˜ï¼ˆCEOï¼‰
                    "0xCFO5678...",               // é¦–å¸­è´¢åŠ¡å®˜ï¼ˆCFOï¼‰ 
                    "0xCTO9012...",               // é¦–å¸­æŠ€æœ¯å®˜ï¼ˆCTOï¼‰
                    "0xLegal3456...",             // æ³•åŠ¡æ€»ç›‘ï¼ˆå¯é€‰ç­¾åè€…ï¼‰
                    "0xFinance7890...",           // è´¢åŠ¡æ€»ç›‘ï¼ˆå¯é€‰ç­¾åè€…ï¼‰
                },
                Description: "Q4ä¾›åº”å•†è´§æ¬¾æ”¯ä»˜å®¡æ‰¹", // ä¸šåŠ¡æè¿°ï¼ˆå®¡è®¡éœ€è¦ï¼‰
                SigningTimeout: 72 * time.Hour,   // 72å°æ—¶ç­¾åæœŸé™ï¼ˆé˜²æ­¢æ— é™æœŸæŒ‚èµ·ï¼‰
            },
        },
        
        // åˆè§„è¦æ±‚é…ç½® - æ»¡è¶³ç›‘ç®¡å’Œå®¡è®¡è¦æ±‚
        Compliance: &types.ComplianceOptions{
            KYCRequired: true,                    // éœ€è¦KYCèº«ä»½éªŒè¯
            AMLCheck: true,                       // åæ´—é’±æ£€æŸ¥
            TaxReporting: true,                   // ç¨åŠ¡ç”³æŠ¥æ ‡è®°
            PrivacyLevel: "confidential",         // æœºå¯†çº§åˆ«ï¼ˆé™åˆ¶ä¿¡æ¯æŠ«éœ²èŒƒå›´ï¼‰
            JurisdictionRules: []string{          // é€‚ç”¨çš„æ³•å¾‹ç®¡è¾–åŒº
                "US_SOX",                         // è¨ç­æ–¯-å¥¥å…‹æ–¯åˆ©æ³•æ¡ˆ
                "EU_GDPR",                        // æ¬§ç›Ÿé€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹
                "CN_CBRC",                        // ä¸­å›½é“¶ä¿ç›‘ä¼šè§„å®š
            },
        },
        
        // ä¼ä¸šçº§æ§åˆ¶é€‰é¡¹ - é¢å¤–çš„ä¼ä¸šæ²»ç†æ§åˆ¶
        Enterprise: &types.EnterpriseOptions{
            ComplianceCheck: true,                // å¯ç”¨åˆè§„æ£€æŸ¥
            AuditTrail: "detailed",               // è¯¦ç»†å®¡è®¡è¿½è¸ª
            EmployeeVesting: false,               // éå‘˜å·¥è‚¡æƒç›¸å…³
            ComplianceLevel: "public_company",    // ä¸Šå¸‚å…¬å¸çº§åˆè§„è¦æ±‚
            RegulatoryZone: "US",                 // ç›‘ç®¡åŒºåŸŸ
        },
    }
    
    // ã€æ­¥éª¤2ã€‘æ‰§è¡Œä¼ä¸šçº§å¤šç­¾è½¬è´¦
    // ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ä¼ä¸šçº§çš„å¤æ‚éªŒè¯é€»è¾‘
    txHash, err := transactionService.TransferAsset(
        ctx,
        "0x890123456789abcdef...",              // ä¾›åº”å•†å…¬å¸çš„ä¼ä¸šé’±åŒ…åœ°å€
        "1000000.0",                            // æ”¯ä»˜é‡‘é¢ï¼š100ä¸‡åŸç”Ÿå¸ï¼ˆå¤§é¢æ”¯ä»˜ï¼‰
        "",                                     // ä½¿ç”¨åŸç”Ÿä»£å¸
        "è‡´è¿œç§‘æŠ€æœ‰é™å…¬å¸Q4å­£åº¦è´§æ¬¾ç»“ç®—æ”¯ä»˜",     // è¯¦ç»†çš„ä¸šåŠ¡å¤‡æ³¨ï¼ˆå®¡è®¡éœ€è¦ï¼‰
        enterpriseOptions,                      // ä¼ä¸šçº§é«˜çº§é€‰é¡¹é…ç½®
    )
    
    if err != nil {
        // ã€é”™è¯¯å¤„ç†ã€‘ä¼ä¸šçº§äº¤æ˜“ç‰¹æœ‰é”™è¯¯
        switch {
        case strings.Contains(err.Error(), "compliance check failed"):
            return fmt.Errorf("åˆè§„æ£€æŸ¥å¤±è´¥ï¼Œå¯èƒ½æ¶‰åŠåæ´—é’±æˆ–åˆ¶è£åå•ï¼Œè¯·è”ç³»åˆè§„éƒ¨é—¨")
        case strings.Contains(err.Error(), "insufficient authorization"):
            return fmt.Errorf("æˆæƒä¸è¶³ï¼Œå¤§é¢æ”¯ä»˜éœ€è¦è‘£äº‹ä¼šé¢å¤–æ‰¹å‡†")
        case strings.Contains(err.Error(), "regulatory violation"):
            return fmt.Errorf("è¿åç›‘ç®¡è§„å®šï¼Œè¯·ç¡®è®¤æ”¯ä»˜æ˜¯å¦ç¬¦åˆå½“åœ°æ³•å¾‹æ³•è§„")
        case strings.Contains(err.Error(), "audit trail required"):
            return fmt.Errorf("ç¼ºå°‘å¿…è¦çš„å®¡è®¡ä¿¡æ¯ï¼Œè¯·è¡¥å……å®Œæ•´çš„ä¸šåŠ¡æµç¨‹è®°å½•")
        default:
            return fmt.Errorf("ä¼ä¸šçº§æ”¯ä»˜å¤±è´¥: %w", err)
        }
    }
    
    // ã€æˆåŠŸå“åº”ã€‘ä¼ä¸šçº§äº¤æ˜“åˆ›å»ºæˆåŠŸ
    fmt.Printf("ğŸ¢ ä¼ä¸šå¤šç­¾æ”¯ä»˜äº¤æ˜“åˆ›å»ºæˆåŠŸï¼\n")
    fmt.Printf("ğŸ’° æ”¯ä»˜é‡‘é¢: 1,000,000.00 åŸç”Ÿå¸\n")
    fmt.Printf("ğŸ­ æ”¶æ¬¾æ–¹: è‡´è¿œç§‘æŠ€æœ‰é™å…¬å¸\n")
    fmt.Printf("ğŸ“ ä¸šåŠ¡ç”¨é€”: Q4å­£åº¦ä¾›åº”å•†è´§æ¬¾ç»“ç®—\n")
    fmt.Printf("ğŸ”— äº¤æ˜“å“ˆå¸Œ: %x\n", txHash)
    fmt.Printf("ğŸ“‹ ç­¾åè¦æ±‚: éœ€è¦CEOã€CFOã€CTOä¸­ä»»æ„3äººç­¾åç¡®è®¤\n")
    fmt.Printf("â° ç­¾åæœŸé™: 72å°æ—¶å†…å®Œæˆï¼Œè¿‡æœŸè‡ªåŠ¨å–æ¶ˆ\n")
    fmt.Printf("ğŸ”’ åˆè§„çº§åˆ«: ä¸Šå¸‚å…¬å¸çº§ï¼ŒåŒ…å«å®Œæ•´å®¡è®¡è¿½è¸ª\n")
    
    return nil
}
```

##### **åœºæ™¯5ï¼šå•†ä¸šåŒ–èµ„æºéƒ¨ç½²**

**ä¸šåŠ¡èƒŒæ™¯**ï¼šAIå…¬å¸å¸Œæœ›å°†è®­ç»ƒå¥½çš„GPTæ¨¡å‹éƒ¨ç½²åˆ°åŒºå—é“¾ä¸Šï¼Œæä¾›æŒ‰æ¬¡ä»˜è´¹çš„æ¨ç†æœåŠ¡ï¼Œå®ç°æ¨¡å‹çš„å•†ä¸šåŒ–è¿è¥ã€‚

**å•†ä¸šæ¨¡å¼è¦æ±‚**ï¼š
- åˆ†å±‚å®šä»·ï¼šæ ¹æ®ä½¿ç”¨é‡æä¾›ä¸åŒä»·æ ¼
- æ”¶ç›Šåˆ†æˆï¼šAIå¼€å‘è€…è·å¾—70%æ”¶å…¥åˆ†æˆ
- æœåŠ¡ä¿éšœï¼š99.9%å¯ç”¨æ€§å’Œ5ç§’å“åº”æ—¶é—´SLA
- å…è´¹è¯•ç”¨ï¼šæ–°ç”¨æˆ·å¯å…è´¹è¯•ç”¨100æ¬¡

```go
// å•†ä¸šåŒ–AIæ¨¡å‹éƒ¨ç½² - AIæœåŠ¡å•†ä¸šåŒ–åœºæ™¯
func CommercialAIModelDeployment(ctx context.Context, transactionService TransactionService) error {
    // ã€æ­¥éª¤1ã€‘é…ç½®å•†ä¸šåŒ–èµ„æºéƒ¨ç½²é€‰é¡¹
    // è¿™ä¸ªé…ç½®å®ç°äº†å®Œæ•´çš„æ•°å­—ç»æµå•†ä¸šæ¨¡å¼
    commercialOptions := &types.ResourceDeployOptions{
        // è®¿é—®æ§åˆ¶ç­–ç•¥ - å®ç°å•†ä¸šåŒ–è®¿é—®æ¨¡å¼
        AccessPolicy: &types.AccessControlPolicy{
            PolicyType: "commercial",             // å•†ä¸šåŒ–è®¿é—®ç­–ç•¥
            Commercial: &types.CommercialAccessConfig{
                PriceModel: "tiered_pricing",     // åˆ†å±‚å®šä»·æ¨¡å¼
                SubscriptionFee: "99.0",          // åŸºç¡€è®¢é˜…è´¹ï¼š99 åŸç”Ÿå¸/æœˆ
                PaymentToken: "",                 // ä½¿ç”¨åŸç”Ÿå¸ä½œä¸ºæ”¯ä»˜ä»£å¸
                QuotaLimit: 10000,                // æœˆåº¦ä½¿ç”¨é…é¢ï¼š10000æ¬¡
                QuotaPeriod: "monthly",           // é…é¢å‘¨æœŸï¼šæœˆåº¦
                FreeTrialQuota: 100,              // å…è´¹è¯•ç”¨ï¼š100æ¬¡
                
                // åˆ†å±‚ä»·æ ¼ç­–ç•¥ - é¼“åŠ±å¤§é‡ä½¿ç”¨
                TierPricing: []types.TierPricing{
                    {
                        TierName: "ä¸ªäººå¼€å‘è€…",        // é¢å‘ä¸ªäººç”¨æˆ·
                        MinUsage: 1,                 // æœ€å°ä½¿ç”¨é‡
                        PricePerUnit: "0.01",        // 1åˆ†é’±/æ¬¡ï¼ˆåŸºç¡€ä»·æ ¼ï¼‰
                        Description: "é€‚åˆä¸ªäººå¼€å‘è€…å’Œå°è§„æ¨¡é¡¹ç›®",
                    },
                    {
                        TierName: "åˆ›ä¸šå…¬å¸",          // é¢å‘åˆåˆ›ä¼ä¸š
                        MinUsage: 1000,              // 1000æ¬¡ä»¥ä¸Š
                        PricePerUnit: "0.008",       // 0.8åˆ†/æ¬¡ï¼ˆ20%æŠ˜æ‰£ï¼‰
                        Description: "é€‚åˆåˆ›ä¸šå…¬å¸å’Œä¸­ç­‰è§„æ¨¡åº”ç”¨",
                    },
                    {
                        TierName: "ä¼ä¸šå®¢æˆ·",          // é¢å‘å¤§ä¼ä¸š
                        MinUsage: 10000,             // 10000æ¬¡ä»¥ä¸Š
                        PricePerUnit: "0.005",       // 0.5åˆ†/æ¬¡ï¼ˆ50%æŠ˜æ‰£ï¼‰
                        Description: "é€‚åˆå¤§ä¼ä¸šå’Œé«˜é¢‘ä½¿ç”¨åœºæ™¯",
                    },
                },
                
                DiscountPolicy: "volume_based",      // åŸºäºä½¿ç”¨é‡çš„æŠ˜æ‰£ç­–ç•¥
            },
        },
        
        // å•†ä¸šæ¨¡å¼é…ç½® - å®šä¹‰æ”¶ç›Šåˆ†é…å’ŒæœåŠ¡æ‰¿è¯º
        BusinessModel: &types.BusinessModelOptions{
            RevenueSharing: "0.7",                   // AIå¼€å‘è€…è·å¾—70%æ”¶å…¥åˆ†æˆ
            PlatformFee: "0.3",                      // å¹³å°è·å¾—30%æœåŠ¡è´¹
            QualityAssurance: true,                  // å¯ç”¨è´¨é‡ä¿è¯æœåŠ¡
            
            // æœåŠ¡çº§åˆ«åè®®(SLA) - å•†ä¸šåŒ–æœåŠ¡çš„è´¨é‡æ‰¿è¯º
            SLA: &types.SLAConfig{
                ResponseTime: 5 * time.Second,       // æ‰¿è¯º5ç§’å†…å“åº”
                Availability: 99.9,                  // æ‰¿è¯º99.9%å¯ç”¨æ€§
                ErrorRate: 0.1,                      // æ‰¿è¯ºé”™è¯¯ç‡ä½äº0.1%
                CompensationPolicy: "credit_refund", // æœåŠ¡ä¸è¾¾æ ‡æ—¶ä¿¡ç”¨é€€æ¬¾
            },
        },
    }
    
    // ã€æ­¥éª¤2ã€‘å‡†å¤‡AIæ¨¡å‹æ–‡ä»¶å’Œé…ç½®
    modelFilePath := "/models/gpt4o_commercial_v1.onnx"  // å•†ä¸šåŒ–GPTæ¨¡å‹æ–‡ä»¶
    
    // éªŒè¯æ¨¡å‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨
    if _, err := os.Stat(modelFilePath); os.IsNotExist(err) {
        return fmt.Errorf("AIæ¨¡å‹æ–‡ä»¶ä¸å­˜åœ¨: %s", modelFilePath)
    }
    
    // è¯»å–æ¨¡å‹æ–‡ä»¶å­—èŠ‚æ•°æ®
    gptModelBytes, err := os.ReadFile(modelFilePath)
    if err != nil {
        return fmt.Errorf("è¯»å–AIæ¨¡å‹æ–‡ä»¶å¤±è´¥: %w", err)
    }
    
    // é…ç½®GPTæ¨¡å‹æ‰§è¡Œå‚æ•°
    gptModelConfig := &resource.AIModelExecutionConfig{
        ModelFormat: "ONNX",                        // æ¨¡å‹æ ¼å¼ï¼šONNX
        InputNames: []string{"input_ids", "attention_mask"}, // è¾“å…¥å¼ é‡åç§°
        OutputNames: []string{"logits"},             // è¾“å‡ºå¼ é‡åç§°
        ExecutionParams: map[string]string{         // æ‰§è¡Œå‚æ•°
            "max_sequence_length": "2048",           // æœ€å¤§åºåˆ—é•¿åº¦
            "batch_size": "1",                       // æ‰¹å¤„ç†å¤§å°
            "precision": "fp16",                     // ç²¾åº¦ï¼šåŠç²¾åº¦æµ®ç‚¹
        },
    }
    
    // ã€æ­¥éª¤3ã€‘æ‰§è¡Œå•†ä¸šåŒ–AIæ¨¡å‹éƒ¨ç½²
    // ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†å•†ä¸šåŒ–éƒ¨ç½²çš„å¤æ‚é€»è¾‘
    txHash, err := aiModelService.DeployAIModel(
        ctx,
        gptModelBytes,                              // GPTæ¨¡å‹æ–‡ä»¶å­—èŠ‚æ•°æ®
        gptModelConfig,                             // GPTæ¨¡å‹æ‰§è¡Œé…ç½®
        "GPT-4oä¼ä¸šçº§å¯¹è¯æ¨¡å‹",                      // å•†ä¸šåŒ–æ¨¡å‹åç§°
        "æ”¯æŒä¸­è‹±æ–‡å¯¹è¯çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œé€‚ç”¨äºå®¢æœã€å’¨è¯¢ã€å†…å®¹ç”Ÿæˆç­‰ä¼ä¸šçº§åœºæ™¯ã€‚ç»è¿‡å®‰å…¨è®­ç»ƒï¼Œæ”¯æŒä¼ä¸šéšç§ä¿æŠ¤ã€‚", // å•†ä¸šæè¿°
        commercialOptions,                          // å•†ä¸šåŒ–éƒ¨ç½²é€‰é¡¹
    )
    
    if err != nil {
        // ã€é”™è¯¯å¤„ç†ã€‘å•†ä¸šåŒ–éƒ¨ç½²ç‰¹æœ‰é”™è¯¯
        switch {
        case strings.Contains(err.Error(), "commercial license required"):
            return fmt.Errorf("éœ€è¦å•†ä¸šè®¸å¯è¯ï¼Œè¯·å…ˆç”³è¯·AIæœåŠ¡æä¾›å•†èµ„è´¨")
        case strings.Contains(err.Error(), "model validation failed"):
            return fmt.Errorf("æ¨¡å‹éªŒè¯å¤±è´¥ï¼Œè¯·ç¡®è®¤æ¨¡å‹ç¬¦åˆå®‰å…¨å’Œè´¨é‡æ ‡å‡†")
        case strings.Contains(err.Error(), "pricing configuration invalid"):
            return fmt.Errorf("å®šä»·é…ç½®æ— æ•ˆï¼Œè¯·æ£€æŸ¥ä»·æ ¼è®¾ç½®æ˜¯å¦åˆç†")
        case strings.Contains(err.Error(), "sla commitment too high"):
            return fmt.Errorf("SLAæ‰¿è¯ºè¿‡é«˜ï¼Œè¯·è°ƒæ•´è‡³å¯å®ç°çš„æœåŠ¡æ°´å¹³")
        default:
            return fmt.Errorf("å•†ä¸šåŒ–æ¨¡å‹éƒ¨ç½²å¤±è´¥: %w", err)
        }
    }
    
    // ã€æˆåŠŸå“åº”ã€‘å•†ä¸šåŒ–éƒ¨ç½²å®Œæˆ
    fmt.Printf("ğŸ¤– AIæ¨¡å‹å•†ä¸šåŒ–éƒ¨ç½²æˆåŠŸï¼\n")
    fmt.Printf("ğŸ“Š æœåŠ¡æ¨¡å¼: æŒ‰æ¬¡ä»˜è´¹ + è®¢é˜…åˆ¶æ··åˆæ¨¡å¼\n")
    fmt.Printf("ğŸ’ å®šä»·ç­–ç•¥: ä¸ªäºº0.01/æ¬¡ï¼Œä¼ä¸š0.005/æ¬¡ï¼ˆæ‰¹é‡ä¼˜æƒ ï¼‰\n")
    fmt.Printf("ğŸ“ˆ æ”¶ç›Šåˆ†æˆ: å¼€å‘è€…70%ï¼Œå¹³å°30%\n")
    fmt.Printf("ğŸ¯ æœåŠ¡æ‰¿è¯º: 99.9%å¯ç”¨æ€§ï¼Œ5ç§’å“åº”æ—¶é—´\n")
    fmt.Printf("ğŸ ç”¨æˆ·ç¦åˆ©: æ–°ç”¨æˆ·å…è´¹è¯•ç”¨100æ¬¡\n")
    fmt.Printf("ğŸ”— éƒ¨ç½²å“ˆå¸Œ: %x\n", txHash)
    fmt.Printf("ğŸ’¡ æç¤º: éƒ¨ç½²ç¡®è®¤åå³å¯å¼€å§‹å•†ä¸šåŒ–è¿è¥ï¼Œæ¥å—ä»˜è´¹æ¨ç†è¯·æ±‚\n")
    
    // å®é™…ç³»ç»Ÿä¸­è¿˜éœ€è¦ï¼š
    // 1. é…ç½®æ”¯ä»˜å¤„ç†ç³»ç»Ÿ
    // 2. å»ºç«‹ç”¨æˆ·ç®¡ç†å’Œé…é¢è¿½è¸ª
    // 3. éƒ¨ç½²ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ
    // 4. å»ºç«‹å®¢æˆ·æœåŠ¡ä½“ç³»
    
    return nil
}
```

### **2. ğŸ”§ ContractService - æ™ºèƒ½åˆçº¦æœåŠ¡**

#### **æ ¸å¿ƒæ¥å£**
```go
type ContractService interface {
    // æ™ºèƒ½åˆçº¦éƒ¨ç½²ï¼ˆæ”¯æŒåŸºç¡€å’Œé«˜çº§æ¨¡å¼ï¼‰
    DeployContract(ctx context.Context,
        contractBytes []byte,
        config *resource.ContractExecutionConfig,
        name string,
        description string,
        options ...*types.ResourceDeployOptions,
    ) ([]byte, error)
    
    // æ™ºèƒ½åˆçº¦è°ƒç”¨ï¼ˆæ”¯æŒåŸºç¡€å’Œé«˜çº§æ¨¡å¼ï¼‰
    CallContract(ctx context.Context,
        contractAddress string,
        methodName string,
        parameters map[string]interface{},
        æ‰§è¡Œè´¹ç”¨Limit uint64,
        value string,
        options ...*types.TransferOptions,
    ) ([]byte, error)
}
```

#### **åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```go
// ğŸ¯ å¼€å‘è€…éƒ¨ç½²DeFiåˆçº¦
wasmBytes, _ := os.ReadFile("./uniswap_v3.wasm")
config := &resource.ContractExecutionConfig{
    æ‰§è¡Œè´¹ç”¨Limit: 10000000,
    MemoryLimit: 512 * 1024 * 1024, // 512MB
}

txHash, err := contractService.DeployContract(
    ctx,
    wasmBytes,                      // WASMå­—èŠ‚ç 
    config,                         // æ‰§è¡Œé…ç½®
    "UniswapV3å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€",        // åˆçº¦åç§°
    "å»ä¸­å¿ƒåŒ–AMMäº¤æ˜“åè®®",           // åŠŸèƒ½æè¿°
    // çœç•¥options = åŸºç¡€éƒ¨ç½²ï¼Œå…¬å¼€å¯è°ƒç”¨
)

// ğŸ¯ ç”¨æˆ·è°ƒç”¨DeFiåˆçº¦è¿›è¡Œä»£å¸äº¤æ¢
txHash, err := contractService.CallContract(
    ctx,
    "0xdAC17F958D2ee523a2206206994597C13D831ec7", // USDTåˆçº¦åœ°å€
    "swap",                                         // swapæ–¹æ³•
    map[string]interface{}{
        "amountIn": "1000.0",                       // è¾“å…¥1000 åŸç”Ÿå¸
        "tokenOut": "0xA0b86a33E6417d4e1E...",     // è¾“å‡ºUSDT
        "minAmountOut": "990.0",                    // æœ€å°‘è¾“å‡º990 USDT
        "slippage": "1.0",                          // 1%æ»‘ç‚¹
    },
    500000,    // æ‰§è¡Œè´¹ç”¨é™åˆ¶
    "1000.0",  // å‘é€1000 åŸç”Ÿå¸
    // çœç•¥options = åŸºç¡€è°ƒç”¨
)
```

#### **ä¼ä¸šçº§ä½¿ç”¨ç¤ºä¾‹**
```go
// ğŸ¢ ä¼ä¸šçº§åˆçº¦éƒ¨ç½²ï¼ˆéœ€è¦å¤šæ–¹ç­¾åå’Œåˆè§„æ£€æŸ¥ï¼‰
enterpriseDeployOptions := &types.ResourceDeployOptions{
    AccessPolicy: &types.AccessControlPolicy{
        PolicyType: "enterprise",
        Enterprise: &types.EnterpriseAccessConfig{
            SecurityLevel: "critical",
            RequiredSigners: 3,                     // éœ€è¦3ä¸ªç­¾å
            AuthorizedRoles: []string{
                "æŠ€æœ¯æ€»ç›‘", "æ³•åŠ¡æ€»ç›‘", "åˆè§„å®˜",
            },
            ApprovalFlow: []string{
                "æŠ€æœ¯å®¡æŸ¥", "æ³•åŠ¡å®¡æŸ¥", "åˆè§„å®¡æŸ¥", "æœ€ç»ˆæ‰¹å‡†",
            },
            ComplianceRules: []string{
                "SOXåˆè§„", "GDPRåˆè§„", "é‡‘èç›‘ç®¡åˆè§„",
            },
            RiskAssessment: true,
            AuditTrailLevel: "detailed",
        },
    },
    Enterprise: &types.EnterpriseResourceOptions{
        SecurityClassification: "æœºå¯†",
        DataEncryption: true,
        AccessLogging: true,
        BackupPolicy: "daily_encrypted_backup",
        DisasterRecovery: true,
        ComplianceTags: []string{
            "SOX", "GDPR", "PCI-DSS",
        },
    },
}

txHash, err := contractService.DeployContract(
    ctx,
    criticalContractWasm,                          // å…³é”®ä¸šåŠ¡åˆçº¦
    enterpriseConfig,                              // ä¼ä¸šçº§æ‰§è¡Œé…ç½®
    "æ ¸å¿ƒæ”¯ä»˜æ¸…ç®—ç³»ç»ŸV2.0",                        // å…³é”®ä¸šåŠ¡åˆçº¦åç§°
    "å¤„ç†é“¶è¡Œé—´æ¸…ç®—çš„æ ¸å¿ƒæ™ºèƒ½åˆçº¦ç³»ç»Ÿ",             // ä¼ä¸šæè¿°
    enterpriseDeployOptions,                       // ä¼ä¸šçº§éƒ¨ç½²é€‰é¡¹
)

// ğŸ¢ ä¼ä¸šçº§åˆçº¦è°ƒç”¨ï¼ˆå§”æ‰˜è°ƒç”¨ï¼Œè‡ªåŠ¨åˆè§„æ£€æŸ¥ï¼‰
enterpriseCallOptions := &types.TransferOptions{
    AuthMode: &types.AuthorizationMode{
        ModeType: "delegation",
        DelegationConfig: &types.DelegationConfig{
            AllowedDelegates: []string{
                "0xFinanceBot...",  // è´¢åŠ¡æœºå™¨äºº
            },
            Operations: []string{"payment", "settlement"},
            ExpiryDuration: 24 * time.Hour,         // 24å°æ—¶å†…æœ‰æ•ˆ
            MaxValuePerOp: "10000.0",               // å•æ¬¡æœ€å¤§1ä¸‡
            DelegationPolicy: "limited_scope",
        },
    },
    Compliance: &types.ComplianceOptions{
        KYCRequired: true,
        AMLCheck: true,
        TaxReporting: true,
        JurisdictionRules: []string{
            "US_FINRA", "EU_MIFID", "CN_PBOC",
        },
        PrivacyLevel: "confidential",
    },
}

txHash, err := contractService.CallContract(
    ctx,
    "0xCriticalPaymentContract...",                // å…³é”®æ”¯ä»˜åˆçº¦
    "processLargePayment",                         // å¤§é¢æ”¯ä»˜æ–¹æ³•
    map[string]interface{}{
        "fromAccount": "ä¼ä¸šè´¦æˆ·A",
        "toAccount": "ä¼ä¸šè´¦æˆ·B", 
        "amount": "5000000.0",                     // 500ä¸‡å¤§é¢æ”¯ä»˜
        "currency": "åŸç”Ÿå¸",
        "businessType": "supplier_payment",
        "approvalID": "APR-2024-001234",
    },
    2000000,                                       // æ›´é«˜æ‰§è¡Œè´¹ç”¨é™åˆ¶
    "5000000.0",                                   // å‘é€500ä¸‡åŸç”Ÿå¸
    enterpriseCallOptions,                         // ä¼ä¸šçº§è°ƒç”¨é€‰é¡¹
)
```

### **3. ğŸ¤– AIModelService - AIæ¨¡å‹æœåŠ¡**

#### **æ ¸å¿ƒæ¥å£**
```go
type AIModelService interface {
    // AIæ¨¡å‹éƒ¨ç½²ï¼ˆæ”¯æŒåŸºç¡€å’Œå•†ä¸šåŒ–æ¨¡å¼ï¼‰
    DeployAIModel(ctx context.Context,
        modelBytes []byte,
        config *resource.AIModelExecutionConfig,
        name string,
        description string,
        options ...*types.ResourceDeployOptions,
    ) ([]byte, error)
    
    // AIæ¨ç†æ‰§è¡Œï¼ˆæ”¯æŒåŸºç¡€å’Œé«˜çº§æ¨¡å¼ï¼‰
    InferAIModel(ctx context.Context,
        modelAddress string,
        inputData interface{},
        parameters map[string]interface{},
        options ...*types.TransferOptions,
    ) ([]byte, error)
}
```

#### **åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```go
// ğŸ¯ ç ”ç©¶è€…éƒ¨ç½²å¼€æºAIæ¨¡å‹
modelBytes, _ := os.ReadFile("./resnet50.onnx")
config := &resource.AIModelExecutionConfig{
    ModelFormat: "ONNX",
    RuntimeType: "CPU",
    MemoryLimit: 2 * 1024 * 1024 * 1024,  // 2GBå†…å­˜
    TimeoutSeconds: 30,
    BatchSize: 1,
}

txHash, err := aiModelService.DeployAIModel(
    ctx,
    modelBytes,                            // æ¨¡å‹æ–‡ä»¶
    config,                                // AIæ‰§è¡Œé…ç½®
    "ResNet50å›¾åƒåˆ†ç±»å™¨",                   // æ¨¡å‹åç§°
    "ç»å…¸çš„æ·±åº¦å­¦ä¹ å›¾åƒåˆ†ç±»æ¨¡å‹ï¼Œæ”¯æŒ1000ç±»ç‰©ä½“è¯†åˆ«", // åŠŸèƒ½æè¿°
    // çœç•¥options = åŸºç¡€éƒ¨ç½²ï¼Œå…¬å¼€å¯ç”¨
)

// ğŸ¯ ç”¨æˆ·ä½¿ç”¨AIæ¨¡å‹è¿›è¡Œå›¾åƒè¯†åˆ«
imageBase64 := "iVBORw0KGgoAAAANSUhEUgAAAAEAAAAB..." // å›¾åƒbase64æ•°æ®

txHash, err := aiModelService.InferAIModel(
    ctx,
    "0xModelAddress123...",                // æ¨¡å‹åœ°å€
    map[string]interface{}{
        "image": imageBase64,
        "format": "jpeg",
    },
    map[string]interface{}{
        "top_k": 5,                        // è¿”å›å‰5ä¸ªé¢„æµ‹ç»“æœ
        "confidence_threshold": 0.1,       // ç½®ä¿¡åº¦é˜ˆå€¼
    },
    // çœç•¥options = åŸºç¡€æ¨ç†
)
```

#### **å•†ä¸šåŒ–ä½¿ç”¨ç¤ºä¾‹**
```go
// ğŸ’° ä¼ä¸šéƒ¨ç½²å•†ä¸šAIæ¨¡å‹ï¼ˆæŒ‰ä½¿ç”¨ä»˜è´¹ï¼‰
commercialAIOptions := &types.ResourceDeployOptions{
    AccessPolicy: &types.AccessControlPolicy{
        PolicyType: "commercial",
        Commercial: &types.CommercialAccessConfig{
            PriceModel: "tiered_pricing",           // åˆ†å±‚å®šä»·
            SubscriptionFee: "99.0",                // æœˆè´¹99 åŸç”Ÿå¸
            PaymentToken: "",                       // ä½¿ç”¨åŸç”Ÿå¸æ”¯ä»˜
            QuotaLimit: 10000,                      // æœˆåº¦10000æ¬¡è°ƒç”¨
            QuotaPeriod: "monthly",
            FreeTrialQuota: 100,                    // å…è´¹è¯•ç”¨100æ¬¡
            TierPricing: []types.TierPricing{
                {
                    TierName: "åŸºç¡€å¥—é¤",
                    MinUsage: 1,
                    PricePerUnit: "0.01",           // 1åˆ†é’±/æ¬¡
                    Description: "é€‚åˆä¸ªäººå’Œå°å›¢é˜Ÿ",
                },
                {
                    TierName: "ä¼ä¸šå¥—é¤", 
                    MinUsage: 1000,
                    PricePerUnit: "0.005",          // 5æ¯«/æ¬¡ï¼Œ50%æŠ˜æ‰£
                    Description: "é€‚åˆä¼ä¸šæ‰¹é‡ä½¿ç”¨",
                },
                {
                    TierName: "æ——èˆ°å¥—é¤",
                    MinUsage: 10000, 
                    PricePerUnit: "0.002",          // 2æ¯«/æ¬¡ï¼Œ80%æŠ˜æ‰£
                    Description: "é€‚åˆå¤§è§„æ¨¡ç”Ÿäº§ç¯å¢ƒ",
                },
            },
            DiscountPolicy: "volume_based",
        },
    },
    BusinessModel: &types.BusinessModelOptions{
        RevenueSharing: "0.7",                      // AIå¼€å‘è€…70%åˆ†æˆ
        PlatformFee: "0.3",                         // å¹³å°30%æ‰‹ç»­è´¹
        QualityAssurance: true,
        SLA: &types.SLAConfig{
            ResponseTime: 5 * time.Second,           // 5ç§’å“åº”ä¿è¯
            Availability: 99.9,                      // 99.9%å¯ç”¨æ€§
            ErrorRate: 0.1,                          // 0.1%é”™è¯¯ç‡
            CompensationPolicy: "credit_refund",     // ä¿¡ç”¨é€€æ¬¾
        },
    },
}

// éƒ¨ç½²å•†ä¸šåŒ–GPTæ¨¡å‹
txHash, err := aiModelService.DeployAIModel(
    ctx,
    gptModelBytes,                                  // GPTæ¨¡å‹æ–‡ä»¶
    gptConfig,                                      // GPTæ‰§è¡Œé…ç½®
    "GPT-4oä¼ä¸šçº§å¯¹è¯æ¨¡å‹",                         // å•†ä¸šåŒ–æ¨¡å‹åç§°
    "æ”¯æŒå¤šè¯­è¨€ã€å¤šè½®å¯¹è¯çš„ä¼ä¸šçº§AIåŠ©æ‰‹ï¼Œé€‚åˆå®¢æœã€å’¨è¯¢ç­‰åœºæ™¯", // å•†ä¸šæè¿°
    commercialAIOptions,                            // å•†ä¸šåŒ–é€‰é¡¹
)

// ğŸ’¼ ä¼ä¸šæ‰¹é‡AIæ¨ç†ï¼ˆæˆæœ¬ä¼˜åŒ–ï¼‰
batchInferOptions := &types.TransferOptions{
    FeeControl: &types.FeeControlOptions{
        FeeStrategy: "minimize",                    // æœ€å°åŒ–è´¹ç”¨ç­–ç•¥
        æ‰§è¡Œè´¹ç”¨Optimization: true,                      // å¼€å¯æ‰§è¡Œè´¹ç”¨ä¼˜åŒ–
        FeeScheduling: &types.FeeSchedule{
            ScheduleType: "optimal",                // é€‰æ‹©æœ€ä¼˜æ—¶æ®µ
            OptimalWindow: 2 * time.Hour,           // 2å°æ—¶å†…æ‰¾æœ€ä¼˜æ—¶æ®µ
        },
    },
    Enterprise: &types.EnterpriseOptions{
        ComplianceCheck: true,
        AuditTrail: "detailed",
        EmployeeVesting: false,                     // éè‚¡æƒç›¸å…³
        ComplianceLevel: "standard",
        RegulatoryZone: "US",
    },
}

// æ‰¹é‡å¤„ç†1000å¼ å›¾ç‰‡
batchImages := []map[string]interface{}{
    {"image": imageBase64_1, "id": "IMG_001"},
    {"image": imageBase64_2, "id": "IMG_002"},
    // ... 1000å¼ å›¾ç‰‡
}

txHash, err := aiModelService.InferAIModel(
    ctx,
    "0xCommercialVisionModel...",                  // å•†ä¸šå›¾åƒè¯†åˆ«æ¨¡å‹
    batchImages,                                   // æ‰¹é‡è¾“å…¥æ•°æ®
    map[string]interface{}{
        "batch_mode": true,                        // æ‰¹é‡æ¨¡å¼
        "batch_size": 50,                          // æ¯æ‰¹50å¼ 
        "parallel_workers": 4,                     // 4ä¸ªå¹¶è¡Œå·¥ä½œå™¨
        "result_format": "structured_json",        // ç»“æ„åŒ–JSONç»“æœ
        "quality_level": "high",                   // é«˜è´¨é‡æ¨ç†
    },
    batchInferOptions,                             // æ‰¹é‡æ¨ç†é€‰é¡¹
)
```

### **4. âš™ï¸ TransactionManager - äº¤æ˜“ç”Ÿå‘½å‘¨æœŸç®¡ç†**

#### **æ ¸å¿ƒæ¥å£**
```go
type TransactionManager interface {
    // äº¤æ˜“ç­¾åå’Œæäº¤
    SignTransaction(ctx context.Context, txHash []byte, privateKey []byte) ([]byte, error)
    SubmitTransaction(ctx context.Context, signedTxHash []byte) error
    
    // äº¤æ˜“çŠ¶æ€æŸ¥è¯¢
    GetTransactionStatus(ctx context.Context, txHash []byte) (*types.TransactionStatus, error)
    GetTransaction(ctx context.Context, txHash []byte) (*transaction.Transaction, error)
    
    // è´¹ç”¨ä¼°ç®—å’ŒéªŒè¯
    EstimateTransactionFee(ctx context.Context, txHash []byte, priority types.FeePriority) (*types.FeeEstimate, error)
    ValidateTransaction(ctx context.Context, txHash []byte) (*types.TransactionValidationResult, error)
    
    // ä¼ä¸šçº§å¤šç­¾åä½œ
    StartMultiSigSession(ctx context.Context, requiredSignatures uint32, authorizedSigners []string, expiryDuration time.Duration, description string) (string, error)
    AddSignatureToMultiSigSession(ctx context.Context, sessionID string, signature *types.MultiSigSignature) error
    GetMultiSigSessionStatus(ctx context.Context, sessionID string) (*types.MultiSigSession, error)
    FinalizeMultiSigSession(ctx context.Context, sessionID string) ([]byte, error)
}
```

#### **åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```go
// ğŸ¯ ä¸ªäººç”¨æˆ·å®Œæ•´çš„è½¬è´¦æµç¨‹
func PersonalTransferExample(ctx context.Context) {
    // 1. æ„å»ºè½¬è´¦äº¤æ˜“
    txHash, err := transactionService.TransferAsset(
        ctx, "0x742d35Cc...", "100.0", "", "æœ‹å‹è½¬è´¦",
    )
    if err != nil {
        log.Fatal("æ„å»ºäº¤æ˜“å¤±è´¥:", err)
    }
    
    // 2. ä¼°ç®—è´¹ç”¨ï¼ˆå¯é€‰ï¼‰
    feeEstimate, err := transactionManager.EstimateTransactionFee(
        ctx, txHash, types.FeePriorityMedium,
    )
    if err != nil {
        log.Fatal("è´¹ç”¨ä¼°ç®—å¤±è´¥:", err)
    }
    fmt.Printf("é¢„ä¼°è´¹ç”¨: %s åŸç”Ÿå¸\n", feeEstimate.TotalFee)
    
    // 3. ç”¨æˆ·ç­¾å
    privateKey := loadPrivateKey() // åŠ è½½ç”¨æˆ·ç§é’¥
    signedTxHash, err := transactionManager.SignTransaction(
        ctx, txHash, privateKey,
    )
    if err != nil {
        log.Fatal("äº¤æ˜“ç­¾åå¤±è´¥:", err)
    }
    
    // 4. æäº¤åˆ°ç½‘ç»œ
    err = transactionManager.SubmitTransaction(ctx, signedTxHash)
    if err != nil {
        log.Fatal("äº¤æ˜“æäº¤å¤±è´¥:", err)
    }
    
    // 5. æŸ¥è¯¢äº¤æ˜“çŠ¶æ€
    for {
        status, err := transactionManager.GetTransactionStatus(ctx, signedTxHash)
        if err != nil {
            log.Fatal("çŠ¶æ€æŸ¥è¯¢å¤±è´¥:", err)
        }
        
        fmt.Printf("äº¤æ˜“çŠ¶æ€: %s\n", status.Status)
        
        if status.Status == "confirmed" {
            fmt.Printf("äº¤æ˜“ç¡®è®¤æˆåŠŸï¼åŒºå—é«˜åº¦: %d\n", status.BlockHeight)
            break
        } else if status.Status == "failed" {
            fmt.Printf("äº¤æ˜“å¤±è´¥: %s\n", status.FailureReason)
            break
        }
        
        time.Sleep(10 * time.Second) // 10ç§’åé‡æ–°æŸ¥è¯¢
    }
}
```

#### **ä¼ä¸šçº§å¤šç­¾ä½¿ç”¨ç¤ºä¾‹**
```go
// ğŸ¢ ä¼ä¸šçº§å¤šç­¾è½¬è´¦æµç¨‹
func EnterpriseMultiSigExample(ctx context.Context) {
    // 1. CEOå‘èµ·å¤šç­¾ä¼šè¯
    sessionID, err := transactionManager.StartMultiSigSession(
        ctx,
        3, // éœ€è¦3ä¸ªç­¾å
        []string{
            "0xCEO123...",    // CEO
            "0xCFO456...",    // CFO
            "0xCTO789...",    // CTO
            "0xLegal012...",  // æ³•åŠ¡æ€»ç›‘
            "0xFinance345...", // è´¢åŠ¡æ€»ç›‘
        },
        72 * time.Hour, // 72å°æ—¶å†…å®Œæˆ
        "Q4ä¾›åº”å•†ä»˜æ¬¾å®¡æ‰¹ - 1000ä¸‡åŸç”Ÿå¸",
    )
    if err != nil {
        log.Fatal("åˆ›å»ºå¤šç­¾ä¼šè¯å¤±è´¥:", err)
    }
    
    fmt.Printf("å¤šç­¾ä¼šè¯åˆ›å»ºæˆåŠŸï¼Œä¼šè¯ID: %s\n", sessionID)
    
    // 2. æ„å»ºéœ€è¦å¤šç­¾çš„äº¤æ˜“
    txHash, err := transactionService.TransferAsset(
        ctx,
        "0xSupplier789...", // ä¾›åº”å•†åœ°å€
        "10000000.0",       // 1000ä¸‡åŸç”Ÿå¸
        "",                 // åŸç”Ÿå¸
        "Q4ä¾›åº”å•†è´§æ¬¾ç»“ç®—",
        &types.TransferOptions{
            AuthMode: &types.AuthorizationMode{
                ModeType: "multi",
                MultiSigConfig: &types.MultiSigConfig{
                    RequiredSignatures: 3,
                    SessionID: sessionID, // å…³è”å¤šç­¾ä¼šè¯
                },
            },
        },
    )
    if err != nil {
        log.Fatal("æ„å»ºå¤šç­¾äº¤æ˜“å¤±è´¥:", err)
    }
    
    // 3. CEOé¦–å…ˆç­¾å
    ceoPrivateKey := loadCEOPrivateKey()
    ceoSignature := signWithPrivateKey(txHash, ceoPrivateKey)
    
    err = transactionManager.AddSignatureToMultiSigSession(
        ctx, sessionID, &types.MultiSigSignature{
            SignerAddress: "0xCEO123...",
            Signature: ceoSignature,
            SignedAt: time.Now(),
            SignerRole: "CEO",
        },
    )
    if err != nil {
        log.Fatal("CEOç­¾åæ·»åŠ å¤±è´¥:", err)
    }
    
    // 4. CFOç­¾å
    cfoPrivateKey := loadCFOPrivateKey() 
    cfoSignature := signWithPrivateKey(txHash, cfoPrivateKey)
    
    err = transactionManager.AddSignatureToMultiSigSession(
        ctx, sessionID, &types.MultiSigSignature{
            SignerAddress: "0xCFO456...",
            Signature: cfoSignature,
            SignedAt: time.Now(),
            SignerRole: "CFO",
        },
    )
    if err != nil {
        log.Fatal("CFOç­¾åæ·»åŠ å¤±è´¥:", err)
    }
    
    // 5. æ³•åŠ¡æ€»ç›‘ç­¾å
    legalPrivateKey := loadLegalPrivateKey()
    legalSignature := signWithPrivateKey(txHash, legalPrivateKey)
    
    err = transactionManager.AddSignatureToMultiSigSession(
        ctx, sessionID, &types.MultiSigSignature{
            SignerAddress: "0xLegal012...",
            Signature: legalSignature,
            SignedAt: time.Now(),
            SignerRole: "æ³•åŠ¡æ€»ç›‘",
        },
    )
    if err != nil {
        log.Fatal("æ³•åŠ¡ç­¾åæ·»åŠ å¤±è´¥:", err)
    }
    
    // 6. æ£€æŸ¥å¤šç­¾çŠ¶æ€
    session, err := transactionManager.GetMultiSigSessionStatus(ctx, sessionID)
    if err != nil {
        log.Fatal("æŸ¥è¯¢å¤šç­¾çŠ¶æ€å¤±è´¥:", err)
    }
    
    fmt.Printf("å¤šç­¾è¿›åº¦: %d/%d\n", session.CollectedSignatures, session.RequiredSignatures)
    
    if session.CollectedSignatures >= session.RequiredSignatures {
        // 7. å®Œæˆå¤šç­¾ï¼Œç”Ÿæˆæœ€ç»ˆäº¤æ˜“
        finalTxHash, err := transactionManager.FinalizeMultiSigSession(ctx, sessionID)
        if err != nil {
            log.Fatal("å¤šç­¾å®Œæˆå¤±è´¥:", err)
        }
        
        // 8. æäº¤æœ€ç»ˆäº¤æ˜“
        err = transactionManager.SubmitTransaction(ctx, finalTxHash)
        if err != nil {
            log.Fatal("å¤šç­¾äº¤æ˜“æäº¤å¤±è´¥:", err)
        }
        
        fmt.Printf("ä¼ä¸šå¤šç­¾äº¤æ˜“æäº¤æˆåŠŸï¼äº¤æ˜“å“ˆå¸Œ: %x\n", finalTxHash)
        
        // 9. ç›‘æ§äº¤æ˜“ç¡®è®¤
        for {
            status, err := transactionManager.GetTransactionStatus(ctx, finalTxHash)
            if err != nil {
                log.Fatal("çŠ¶æ€æŸ¥è¯¢å¤±è´¥:", err)
            }
            
            if status.Status == "confirmed" {
                fmt.Printf("ä¼ä¸šå¤šç­¾è½¬è´¦ç¡®è®¤æˆåŠŸï¼1000ä¸‡åŸç”Ÿå¸å·²æ”¯ä»˜ç»™ä¾›åº”å•†\n")
                break
            }
            
            time.Sleep(30 * time.Second) // 30ç§’æŸ¥è¯¢ä¸€æ¬¡
        }
    }
}
```

---

## ğŸ” **é«˜çº§é”å®šæœºåˆ¶è¯¦è§£**

### **7ç§æ ‡å‡†é”å®šæ¡ä»¶**

ã€€ã€€åŸºäº`pb/blockchain/block/transaction/transaction.proto`ä¸­å®šä¹‰çš„æ ‡å‡†é”å®šæœºåˆ¶ï¼ŒWESæ”¯æŒ7ç§é”å®šæ¡ä»¶ï¼Œé€šè¿‡ä¸šåŠ¡å‹å¥½çš„Optionså‚æ•°è‡ªåŠ¨æ˜ å°„ã€‚

#### **1. SingleKeyLock - ä¸ªäººç§é’¥é”å®š**
```go
// è‡ªåŠ¨æ˜ å°„åœºæ™¯ï¼šåŸºç¡€è½¬è´¦ï¼ˆoptions=nilæ—¶é»˜è®¤ä½¿ç”¨ï¼‰
txHash, err := transactionService.TransferAsset(
    ctx, toAddress, amount, tokenID, memo,
    // æ— optionså‚æ•° â†’ è‡ªåŠ¨ä½¿ç”¨SingleKeyLock
)
```

#### **2. MultiKeyLock - å¤šé‡ç­¾åé”å®š**  
```go
// ä¸šåŠ¡é…ç½® â†’ è‡ªåŠ¨æ˜ å°„åˆ°MultiKeyLock
options := &types.TransferOptions{
    AuthMode: &types.AuthorizationMode{
        ModeType: "multi",
        MultiSigConfig: &types.MultiSigConfig{
            RequiredSignatures: 3,  // éœ€è¦3ä¸ªç­¾å
            AuthorizedSigners: []string{
                "0xAddress1...", "0xAddress2...", "0xAddress3...",
                "0xAddress4...", "0xAddress5...", // 5ä¸ªæˆæƒç­¾åè€…
            },
            SigningTimeout: 48 * time.Hour,
        },
    },
}
// ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„MultiKeyLockç»“æ„
```

#### **3. TimeLock - æ—¶é—´é”å®š**
```go
// ä¸šåŠ¡é…ç½®ï¼šå»¶è¿Ÿè½¬è´¦
options := &types.TransferOptions{
    TimingControl: &types.TimingControlPolicy{
        ControlType: "delay",
        DelayedRelease: &types.DelayedReleaseConfig{
            ReleaseTime: time.Now().Add(7 * 24 * time.Hour), // 7å¤©åé‡Šæ”¾
            TimeSource: "block_time",
            Description: "å¹´ç»ˆå¥–å»¶è¿Ÿå‘æ”¾",
            AllowEarly: false, // ä¸å…è®¸æå‰é‡Šæ”¾
        },
    },
}
// è‡ªåŠ¨æ˜ å°„åˆ°TimeLock with unlock_time
```

#### **4. HeightLock - åŒºå—é«˜åº¦é”å®š**
```go
// ä¸šåŠ¡é…ç½®ï¼šåˆ†é˜¶æ®µé‡Šæ”¾ï¼ˆå¦‚å‘˜å·¥æœŸæƒï¼‰
options := &types.TransferOptions{
    TimingControl: &types.TimingControlPolicy{
        ControlType: "staged",
        StagedRelease: &types.StagedReleaseConfig{
            Stages: []types.ReleaseStage{
                {
                    ReleaseHeight: currentHeight + 100000, // çº¦3ä¸ªæœˆå
                    ReleaseRatio: "0.25",                  // é‡Šæ”¾25%
                    Description: "ç¬¬ä¸€æœŸæœŸæƒé‡Šæ”¾",
                },
                {
                    ReleaseHeight: currentHeight + 200000, // çº¦6ä¸ªæœˆå
                    ReleaseRatio: "0.25",                  // å†é‡Šæ”¾25%
                    Description: "ç¬¬äºŒæœŸæœŸæƒé‡Šæ”¾",
                },
                // ... æ›´å¤šé˜¶æ®µ
            },
            AutoExecute: true,
        },
    },
}
// è‡ªåŠ¨æ˜ å°„åˆ°å¤šä¸ªHeightLockæ¡ä»¶
```

#### **5. ContractLock - æ™ºèƒ½åˆçº¦é”å®š**
```go
// ä¸šåŠ¡é…ç½®ï¼šä»˜è´¹ä½¿ç”¨é”å®š
options := &types.TransferOptions{
    AccessPolicy: &types.AccessControlPolicy{
        PolicyType: "commercial",
        Commercial: &types.CommercialAccessConfig{
            PriceModel: "per_use",
            AccessContract: "0xPaymentContract...", // æ”¯ä»˜éªŒè¯åˆçº¦
            PricePerUse: "0.1",
        },
    },
}
// è‡ªåŠ¨æ˜ å°„åˆ°ContractLockï¼Œæ¡ä»¶ï¼šæ”¯ä»˜éªŒè¯é€šè¿‡æ‰èƒ½ä½¿ç”¨
```

#### **6. DelegationLock - å§”æ‰˜æˆæƒé”å®š**
```go
// ä¸šåŠ¡é…ç½®ï¼šè´¢åŠ¡ä»£ç†è½¬è´¦
options := &types.TransferOptions{
    AuthMode: &types.AuthorizationMode{
        ModeType: "delegation",
        DelegationConfig: &types.DelegationConfig{
            AllowedDelegates: []string{
                "0xFinanceBot...",  // è´¢åŠ¡æœºå™¨äºº
            },
            Operations: []string{"payment", "settlement"},
            ExpiryDuration: 24 * time.Hour,
            MaxValuePerOp: "50000.0", // å•æ¬¡æœ€å¤§5ä¸‡
            DelegationPolicy: "limited_scope",
        },
    },
}
// è‡ªåŠ¨æ˜ å°„åˆ°DelegationLockï¼Œå…è®¸æŒ‡å®šä»£ç†äººåœ¨é™å®šèŒƒå›´å†…æ“ä½œ
```

#### **7. ThresholdLock - é—¨é™ç­¾åé”å®š**
```go
// ä¸šåŠ¡é…ç½®ï¼šé“¶è¡Œçº§å®‰å…¨ï¼ˆé—¨é™ç­¾åï¼‰
options := &types.TransferOptions{
    AuthMode: &types.AuthorizationMode{
        ModeType: "threshold",
        ThresholdConfig: &types.ThresholdConfig{
            Threshold: 3,      // é—¨é™å€¼ï¼šè‡³å°‘3ä¸ª
            TotalParties: 5,   // æ€»å‚ä¸æ–¹ï¼š5ä¸ª
            PartyRoles: []string{
                "ä¸»ç­¾åæ–¹", "å¤‡ä»½ç­¾åæ–¹1", "å¤‡ä»½ç­¾åæ–¹2",
                "ç›‘ç®¡ç­¾åæ–¹", "å®¡è®¡ç­¾åæ–¹",
            },
            SecurityLevel: 4,   // å®‰å…¨çº§åˆ«4
            SignatureScheme: "BLS_THRESHOLD",
            CeremonyID: "BANK_PAYMENT_2024",
        },
    },
}
// è‡ªåŠ¨æ˜ å°„åˆ°ThresholdLockï¼Œä½¿ç”¨é«˜çº§å¯†ç å­¦é—¨é™ç­¾å
```

---

## ğŸ“Š **ä¸šåŠ¡æ•°æ®ç»“æ„è¯¦è§£**

### **æ ¸å¿ƒæ•°æ®ç»“æ„å…³ç³»å›¾**

```mermaid
graph TB
    subgraph "ä¸šåŠ¡å‹å¥½å±‚ (pkg/types)"
        TransferOptions[TransferOptions<br/>è½¬è´¦é«˜çº§é€‰é¡¹]
        ResourceDeployOptions[ResourceDeployOptions<br/>èµ„æºéƒ¨ç½²é€‰é¡¹] 
        AccessControlPolicy[AccessControlPolicy<br/>è®¿é—®æ§åˆ¶ç­–ç•¥]
        TimingControlPolicy[TimingControlPolicy<br/>æ—¶é—´æ§åˆ¶ç­–ç•¥]
        AuthorizationMode[AuthorizationMode<br/>æˆæƒæ¨¡å¼]
    end
    
    subgraph "åè®®å±‚æ˜ å°„"
        Mapper[ä¸šåŠ¡ç­–ç•¥æ˜ å°„å™¨<br/>Business Policy Mapper]
    end
    
    subgraph "Protocol Bufferså±‚ (pb/*)"
        SingleKeyLock[SingleKeyLock<br/>ä¸ªäººç§é’¥]
        MultiKeyLock[MultiKeyLock<br/>å¤šé‡ç­¾å]
        TimeLock[TimeLock<br/>æ—¶é—´é”å®š]
        HeightLock[HeightLock<br/>é«˜åº¦é”å®š] 
        ContractLock[ContractLock<br/>åˆçº¦é”å®š]
        DelegationLock[DelegationLock<br/>å§”æ‰˜é”å®š]
        ThresholdLock[ThresholdLock<br/>é—¨é™é”å®š]
    end
    
    %% æ˜ å°„å…³ç³»
    TransferOptions --> Mapper
    ResourceDeployOptions --> Mapper
    AccessControlPolicy --> Mapper
    TimingControlPolicy --> Mapper
    AuthorizationMode --> Mapper
    
    Mapper --> SingleKeyLock
    Mapper --> MultiKeyLock
    Mapper --> TimeLock
    Mapper --> HeightLock
    Mapper --> ContractLock
    Mapper --> DelegationLock
    Mapper --> ThresholdLock
    
    %% æ ·å¼
    classDef businessClass fill:#e3f2fd
    classDef mapperClass fill:#fff3e0
    classDef protoClass fill:#e8f5e8
    
    class TransferOptions,ResourceDeployOptions,AccessControlPolicy,TimingControlPolicy,AuthorizationMode businessClass
    class Mapper mapperClass
    class SingleKeyLock,MultiKeyLock,TimeLock,HeightLock,ContractLock,DelegationLock,ThresholdLock protoClass
```

### **ä¸šåŠ¡ç­–ç•¥åˆ°æŠ€æœ¯å®ç°çš„æ˜ å°„**

#### **ä¸ªäººåœºæ™¯æ˜ å°„**
```
ç”¨æˆ·ä¸šåŠ¡æ„å›¾: "ç»™æœ‹å‹è½¬è´¦"
    â†“ (options = nil)
ä¸šåŠ¡ç­–ç•¥: personal.default
    â†“ (è‡ªåŠ¨æ˜ å°„)
æŠ€æœ¯å®ç°: SingleKeyLock{owner_public_key: userPubKey}
```

#### **ä¼ä¸šå¤šç­¾æ˜ å°„**
```
ç”¨æˆ·ä¸šåŠ¡æ„å›¾: "éœ€è¦3ä¸ªé«˜ç®¡ç­¾åçš„å¤§é¢æ”¯ä»˜" 
    â†“ (AuthMode.ModeType = "multi")
ä¸šåŠ¡ç­–ç•¥: enterprise.multi_signature
    â†“ (è‡ªåŠ¨æ˜ å°„)
æŠ€æœ¯å®ç°: MultiKeyLock{
    required_signatures: 3,
    authorized_keys: [CEO_key, CFO_key, CTO_key, Legal_key, Finance_key],
    signature_timeout: 72h
}
```

#### **å•†ä¸šä»˜è´¹æ˜ å°„**
```
ç”¨æˆ·ä¸šåŠ¡æ„å›¾: "æŒ‰æ¬¡ä»˜è´¹çš„AIæ¨ç†æœåŠ¡"
    â†“ (AccessPolicy.PolicyType = "commercial")  
ä¸šåŠ¡ç­–ç•¥: commercial.pay_per_use
    â†“ (è‡ªåŠ¨æ˜ å°„)
æŠ€æœ¯å®ç°: ContractLock{
    contract_address: PaymentVerificationContract,
    required_conditions: ["payment_received", "quota_available"],
    unlock_parameters: {price_per_use: "0.1", payment_token: "native"}
}
```

#### **æ—¶é—´æ§åˆ¶æ˜ å°„**
```
ç”¨æˆ·ä¸šåŠ¡æ„å›¾: "å¹´ç»ˆå¥–12æœˆ31æ—¥åå‘æ”¾"
    â†“ (TimingControl.ControlType = "delay")
ä¸šåŠ¡ç­–ç•¥: timing.delayed_release  
    â†“ (è‡ªåŠ¨æ˜ å°„)
æŠ€æœ¯å®ç°: TimeLock{
    unlock_time: 1735689600, // 2024-12-31 UTCæ—¶é—´æˆ³
    time_source: "block_time",
    allow_early_unlock: false
}
```

---

## ğŸš€ **æœ€ä½³å®è·µå’Œä½¿ç”¨æ¨¡å¼**

### **1. æ¸è¿›å¼ä½¿ç”¨æ¨¡å¼**

#### **ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€åŠŸèƒ½ä½¿ç”¨**
```go
// 90%çš„ç”¨æˆ·ï¼šç›´æ¥ä½¿ç”¨ç®€åŒ–æ¥å£
func BasicUsage() {
    // è½¬è´¦
    txHash, _ := transactionService.TransferAsset(ctx, addr, "100", "", "è½¬è´¦")
    
    // éƒ¨ç½²èµ„æº
    txHash, _ := transactionService.DeployStaticResource(
        ctx, path, name, desc, true, tags,
    )
    
    // è°ƒç”¨åˆçº¦
    txHash, _ := contractService.CallContract(
        ctx, contractAddr, "method", params, æ‰§è¡Œè´¹ç”¨Limit, value,
    )
}
```

#### **ç¬¬äºŒé˜¶æ®µï¼šå¼•å…¥é«˜çº§æ§åˆ¶**
```go
// 10%çš„ä¼ä¸šç”¨æˆ·ï¼šé€æ­¥å¼•å…¥é«˜çº§åŠŸèƒ½
func AdvancedUsage() {
    // é¦–å…ˆå¼•å…¥ç®€å•çš„é«˜çº§é€‰é¡¹
    basicOptions := &types.TransferOptions{
        FeeControl: &types.FeeControlOptions{
            FeeStrategy: "minimize",  // å…ˆä»è´¹ç”¨ä¼˜åŒ–å¼€å§‹
        },
    }
    
    txHash, _ := transactionService.TransferAsset(
        ctx, addr, "100", "", "è½¬è´¦", basicOptions,
    )
}
```

#### **ç¬¬ä¸‰é˜¶æ®µï¼šä¼ä¸šçº§å®Œæ•´åŠŸèƒ½**
```go
// 1%çš„ä¼ä¸šç”¨æˆ·ï¼šä½¿ç”¨å®Œæ•´çš„ä¼ä¸šçº§åŠŸèƒ½
func EnterpriseUsage() {
    fullEnterpriseOptions := &types.TransferOptions{
        AccessPolicy: &types.AccessControlPolicy{...},    // è®¿é—®æ§åˆ¶
        TimingControl: &types.TimingControlPolicy{...},   // æ—¶é—´æ§åˆ¶  
        AuthMode: &types.AuthorizationMode{...},          // æˆæƒæ¨¡å¼
        Enterprise: &types.EnterpriseOptions{...},        // ä¼ä¸šé€‰é¡¹
        FeeControl: &types.FeeControlOptions{...},        // è´¹ç”¨æ§åˆ¶
        Compliance: &types.ComplianceOptions{...},        // åˆè§„é€‰é¡¹
    }
    
    txHash, _ := transactionService.TransferAsset(
        ctx, addr, amount, tokenID, memo, fullEnterpriseOptions,
    )
}
```

### **2. é”™è¯¯å¤„ç†æœ€ä½³å®è·µ**

#### **åˆ†å±‚é”™è¯¯å¤„ç†**
```go
func TransactionWithProperErrorHandling(ctx context.Context) {
    // 1. æ„å»ºäº¤æ˜“é˜¶æ®µçš„é”™è¯¯å¤„ç†
    txHash, err := transactionService.TransferAsset(ctx, addr, amount, "", "")
    if err != nil {
        switch {
        case strings.Contains(err.Error(), "insufficient balance"):
            return fmt.Errorf("ä½™é¢ä¸è¶³ï¼Œè¯·æ£€æŸ¥è´¦æˆ·ä½™é¢")
        case strings.Contains(err.Error(), "invalid address"):
            return fmt.Errorf("æ¥æ”¶åœ°å€æ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥åœ°å€")
        default:
            return fmt.Errorf("äº¤æ˜“æ„å»ºå¤±è´¥: %w", err)
        }
    }
    
    // 2. ç­¾åé˜¶æ®µçš„é”™è¯¯å¤„ç†
    signedHash, err := transactionManager.SignTransaction(ctx, txHash, privateKey)
    if err != nil {
        switch {
        case strings.Contains(err.Error(), "invalid private key"):
            return fmt.Errorf("ç§é’¥æ ¼å¼é”™è¯¯æˆ–å·²æŸå")
        case strings.Contains(err.Error(), "transaction expired"):
            return fmt.Errorf("äº¤æ˜“å·²è¿‡æœŸï¼Œè¯·é‡æ–°åˆ›å»ºäº¤æ˜“")
        default:
            return fmt.Errorf("äº¤æ˜“ç­¾åå¤±è´¥: %w", err)
        }
    }
    
    // 3. æäº¤é˜¶æ®µçš„é”™è¯¯å¤„ç†
    err = transactionManager.SubmitTransaction(ctx, signedHash)
    if err != nil {
        switch {
        case strings.Contains(err.Error(), "network error"):
            return fmt.Errorf("ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•")
        case strings.Contains(err.Error(), "nonce too low"):
            return fmt.Errorf("äº¤æ˜“åºå·è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨é‡å¤æäº¤")
        default:
            return fmt.Errorf("äº¤æ˜“æäº¤å¤±è´¥: %w", err)
        }
    }
    
    // 4. çŠ¶æ€ç›‘æ§é˜¶æ®µ
    return monitorTransactionStatus(ctx, signedHash)
}

func monitorTransactionStatus(ctx context.Context, txHash []byte) error {
    timeout := time.After(5 * time.Minute) // 5åˆ†é’Ÿè¶…æ—¶
    ticker := time.NewTicker(10 * time.Second) // 10ç§’æŸ¥è¯¢ä¸€æ¬¡
    defer ticker.Stop()
    
    for {
        select {
        case <-timeout:
            return fmt.Errorf("äº¤æ˜“ç¡®è®¤è¶…æ—¶ï¼Œè¯·æ‰‹åŠ¨æŸ¥è¯¢äº¤æ˜“çŠ¶æ€")
            
        case <-ticker.C:
            status, err := transactionManager.GetTransactionStatus(ctx, txHash)
            if err != nil {
                log.Printf("çŠ¶æ€æŸ¥è¯¢å¤±è´¥ï¼Œç»§ç»­é‡è¯•: %v", err)
                continue
            }
            
            switch status.Status {
            case "confirmed":
                fmt.Printf("äº¤æ˜“ç¡®è®¤æˆåŠŸï¼åŒºå—é«˜åº¦: %d\n", status.BlockHeight)
                return nil
            case "failed":
                return fmt.Errorf("äº¤æ˜“æ‰§è¡Œå¤±è´¥: %s", status.FailureReason)
            case "pending":
                fmt.Printf("äº¤æ˜“ç¡®è®¤ä¸­ï¼Œå·²ç­‰å¾… %v\n", time.Since(status.SubmittedAt))
                continue
            default:
                fmt.Printf("äº¤æ˜“çŠ¶æ€: %s\n", status.Status)
                continue
            }
        }
    }
}
```

### **3. æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ**

#### **æ‰¹é‡æ“ä½œä¼˜åŒ–**
```go
// âœ… æ¨èï¼šä½¿ç”¨æ‰¹é‡æ“ä½œ
func BatchTransferOptimized(ctx context.Context, recipients []Recipient) error {
    transfers := make([]types.TransferParams, len(recipients))
    for i, recipient := range recipients {
        transfers[i] = types.TransferParams{
            ToAddress: recipient.Address,
            Amount:    recipient.Amount,
            TokenID:   "",
            Memo:      fmt.Sprintf("æ‰¹é‡è½¬è´¦ %d/%d", i+1, len(recipients)),
        }
    }
    
    // å•ä¸ªæ‰¹é‡äº¤æ˜“ vs å¤šä¸ªå•ç‹¬äº¤æ˜“
    txHash, err := transactionService.BatchTransfer(ctx, transfers)
    if err != nil {
        return fmt.Errorf("æ‰¹é‡è½¬è´¦å¤±è´¥: %w", err)
    }
    
    // æ‰¹é‡æ“ä½œçš„ä¼˜åŠ¿ï¼š
    // 1. é™ä½ç½‘ç»œè´¹ç”¨ï¼ˆå•æ¬¡äº¤æ˜“è´¹ç”¨ vs Næ¬¡äº¤æ˜“è´¹ç”¨ï¼‰
    // 2. åŸå­æ€§ä¿è¯ï¼ˆå…¨éƒ¨æˆåŠŸæˆ–å…¨éƒ¨å¤±è´¥ï¼‰
    // 3. å‡å°‘ç½‘ç»œå¾€è¿”ï¼ˆ1æ¬¡ vs Næ¬¡ï¼‰
    
    return monitorTransactionStatus(ctx, txHash)
}

// âŒ ä¸æ¨èï¼šå¾ªç¯å•ç‹¬æ“ä½œ
func IndividualTransferNotRecommended(recipients []Recipient) error {
    for _, recipient := range recipients {
        // Næ¬¡ç½‘ç»œè°ƒç”¨ï¼ŒNå€è´¹ç”¨ï¼Œæ— åŸå­æ€§ä¿è¯
        _, err := transactionService.TransferAsset(
            ctx, recipient.Address, recipient.Amount, "", "",
        )
        if err != nil {
            // éƒ¨åˆ†æˆåŠŸï¼Œéƒ¨åˆ†å¤±è´¥ï¼Œéš¾ä»¥å¤„ç†
            return err
        }
    }
    return nil
}
```

#### **è´¹ç”¨ä¼˜åŒ–ç­–ç•¥**
```go
// æ™ºèƒ½è´¹ç”¨æ§åˆ¶
func CostOptimizedTransfer(ctx context.Context) {
    // 1. éç´§æ€¥è½¬è´¦ï¼šé€‰æ‹©æœ€ä¼˜æ—¶æ®µ
    options := &types.TransferOptions{
        FeeControl: &types.FeeControlOptions{
            FeeStrategy: "minimize",               // æœ€å°åŒ–è´¹ç”¨
            æ‰§è¡Œè´¹ç”¨Optimization: true,                 // å¯ç”¨æ‰§è¡Œè´¹ç”¨ä¼˜åŒ–
            FeeScheduling: &types.FeeSchedule{
                ScheduleType: "optimal",           // è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ—¶æ®µ
                OptimalWindow: 4 * time.Hour,      // 4å°æ—¶å†…å¯»æ‰¾æœ€ä¼˜æ—¶æ®µ
            },
        },
    }
    
    // 2. ç´§æ€¥è½¬è´¦ï¼šä¼˜å…ˆé€Ÿåº¦
    urgentOptions := &types.TransferOptions{
        FeeControl: &types.FeeControlOptions{
            FeeStrategy: "priority",               // ä¼˜å…ˆå¤„ç†
            MaxFee: "10.0",                       // æœ€å¤§è´¹ç”¨é™åˆ¶
        },
    }
    
    // æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„è´¹ç”¨ç­–ç•¥
    selectedOptions := options // æˆ– urgentOptions
    
    txHash, err := transactionService.TransferAsset(
        ctx, addr, amount, "", memo, selectedOptions,
    )
    
    // 3. å®æ—¶è´¹ç”¨ç›‘æ§
    if err == nil {
        estimate, _ := transactionManager.EstimateTransactionFee(
            ctx, txHash, types.FeePriorityMedium,
        )
        fmt.Printf("å®é™…è´¹ç”¨: %s åŸç”Ÿå¸ (é¢„ä¼°: %s åŸç”Ÿå¸)\n", 
            estimate.ActualFee, estimate.EstimatedFee)
    }
}
```

### **4. å®‰å…¨æœ€ä½³å®è·µ**

#### **ç§é’¥å®‰å…¨ç®¡ç†**
```go
// âœ… å®‰å…¨çš„ç§é’¥å¤„ç†
func SecurePrivateKeyHandling() {
    // 1. ä»å®‰å…¨å­˜å‚¨åŠ è½½ç§é’¥
    privateKey, err := loadPrivateKeyFromSecureVault()
    if err != nil {
        log.Fatal("ç§é’¥åŠ è½½å¤±è´¥")
    }
    
    // 2. ä½¿ç”¨å®Œç«‹å³æ¸…é›¶å†…å­˜
    defer func() {
        for i := range privateKey {
            privateKey[i] = 0  // æ¸…é›¶æ•æ„Ÿæ•°æ®
        }
    }()
    
    // 3. é™åˆ¶ç§é’¥ä½œç”¨åŸŸ
    signedHash, err := transactionManager.SignTransaction(ctx, txHash, privateKey)
    if err != nil {
        return fmt.Errorf("ç­¾åå¤±è´¥: %w", err)
    }
    
    // 4. éªŒè¯ç­¾åç»“æœ
    validation, err := transactionManager.ValidateTransaction(ctx, signedHash)
    if err != nil || !validation.IsValid {
        return fmt.Errorf("ç­¾åéªŒè¯å¤±è´¥")
    }
}

// âŒ ä¸å®‰å…¨çš„åšæ³•
func InsecureHandling() {
    // ä¸è¦ï¼šå°†ç§é’¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
    privateKey := "0x1234567890abcdef..." 
    
    // ä¸è¦ï¼šå°†ç§é’¥è®°å½•åˆ°æ—¥å¿—ä¸­
    log.Printf("ä½¿ç”¨ç§é’¥: %s", privateKey)
    
    // ä¸è¦ï¼šåœ¨ç½‘ç»œä¸Šä¼ è¾“æ˜æ–‡ç§é’¥
    http.Post("https://api.example.com", "application/json", 
        bytes.NewBuffer([]byte(privateKey)))
}
```

#### **å¤šç­¾å®‰å…¨æµç¨‹**
```go
// âœ… å®‰å…¨çš„å¤šç­¾æµç¨‹
func SecureMultiSigProcess(ctx context.Context) {
    // 1. åˆ›å»ºå¤šç­¾ä¼šè¯æ—¶éªŒè¯å‚ä¸è€…èº«ä»½
    authorizedSigners := []string{
        verifySignerIdentity("CEO"),      // éªŒè¯CEOèº«ä»½
        verifySignerIdentity("CFO"),      // éªŒè¯CFOèº«ä»½  
        verifySignerIdentity("CTO"),      // éªŒè¯CTOèº«ä»½
    }
    
    sessionID, err := transactionManager.StartMultiSigSession(
        ctx,
        2, // 2-of-3å¤šç­¾
        authorizedSigners,
        24 * time.Hour, // 24å°æ—¶è¿‡æœŸ
        "é‡è¦èµ„é‡‘è½¬ç§»éœ€è¦å¤šé‡æˆæƒ",
    )
    
    // 2. æ¯æ¬¡ç­¾åéƒ½è¦éªŒè¯ç­¾åè€…æƒé™
    for _, signer := range authorizedSigners {
        if !verifySignerPermission(signer, "large_payment") {
            continue // è·³è¿‡æ— æƒé™çš„ç­¾åè€…
        }
        
        signature := getSignatureFromSigner(signer)
        err = transactionManager.AddSignatureToMultiSigSession(
            ctx, sessionID, signature,
        )
        if err != nil {
            log.Printf("ç­¾åè€… %s ç­¾åå¤±è´¥: %v", signer, err)
        }
    }
    
    // 3. å®Œæˆå‰å†æ¬¡éªŒè¯æ‰€æœ‰ç­¾å
    session, err := transactionManager.GetMultiSigSessionStatus(ctx, sessionID)
    if err != nil {
        return fmt.Errorf("å¤šç­¾çŠ¶æ€è·å–å¤±è´¥: %w", err)
    }
    
    if session.CollectedSignatures < session.RequiredSignatures {
        return fmt.Errorf("ç­¾åæ•°é‡ä¸è¶³: %d/%d", 
            session.CollectedSignatures, session.RequiredSignatures)
    }
    
    // 4. å®Œæˆå¤šç­¾å¹¶å®¡è®¡æ—¥å¿—
    finalTxHash, err := transactionManager.FinalizeMultiSigSession(ctx, sessionID)
    if err != nil {
        return fmt.Errorf("å¤šç­¾å®Œæˆå¤±è´¥: %w", err)
    }
    
    // 5. è®°å½•å®¡è®¡æ—¥å¿—
    auditLog := AuditLog{
        SessionID: sessionID,
        TxHash: finalTxHash,
        Signers: session.Signers,
        CompletedAt: time.Now(),
        AuditTrail: "multi_sig_large_payment_completed",
    }
    recordAuditLog(auditLog)
    
    return nil
}
```

---

## ğŸ“ˆ **ç›‘æ§å’Œè¿ç»´æŒ‡å—**

### **äº¤æ˜“ç³»ç»Ÿå…³é”®æŒ‡æ ‡**

#### **æ€§èƒ½æŒ‡æ ‡ç›‘æ§**
```go
// äº¤æ˜“å¤„ç†æ€§èƒ½ç›‘æ§
type TransactionMetrics struct {
    // ååé‡æŒ‡æ ‡
    TransactionsPerSecond    float64   // TPS
    AverageProcessingTime    time.Duration // å¹³å‡å¤„ç†æ—¶é—´
    P95ProcessingTime        time.Duration // 95%åˆ†ä½å¤„ç†æ—¶é—´
    
    // æˆåŠŸç‡æŒ‡æ ‡  
    SuccessRate             float64   // æˆåŠŸç‡
    ErrorRate               float64   // é”™è¯¯ç‡
    TimeoutRate             float64   // è¶…æ—¶ç‡
    
    // èµ„æºä½¿ç”¨æŒ‡æ ‡
    MemoryUsage             int64     // å†…å­˜ä½¿ç”¨é‡
    CPUUsage                float64   // CPUä½¿ç”¨ç‡
    NetworkBandwidth        int64     // ç½‘ç»œå¸¦å®½
    
    // ä¸šåŠ¡æŒ‡æ ‡
    TotalVolume             string    // äº¤æ˜“æ€»é‡
    AverageFee              string    // å¹³å‡æ‰‹ç»­è´¹
    PeakHourTPS             float64   // å³°å€¼TPS
}

// ç›‘æ§æ•°æ®æ”¶é›†
func CollectTransactionMetrics(ctx context.Context) *TransactionMetrics {
    return &TransactionMetrics{
        TransactionsPerSecond: getCurrentTPS(),
        AverageProcessingTime: getAverageProcessingTime(), 
        SuccessRate: getSuccessRate(),
        // ... æ›´å¤šæŒ‡æ ‡æ”¶é›†
    }
}
```

#### **å‘Šè­¦è§„åˆ™é…ç½®**
```yaml
# äº¤æ˜“ç³»ç»Ÿå‘Šè­¦è§„åˆ™
alerts:
  - name: "äº¤æ˜“æˆåŠŸç‡è¿‡ä½"
    condition: "success_rate < 95%"
    severity: "critical"
    action: "immediate_notification"
    
  - name: "äº¤æ˜“å¤„ç†æ—¶é—´è¿‡é•¿"  
    condition: "p95_processing_time > 30s"
    severity: "warning"
    action: "performance_investigation"
    
  - name: "TPSå¼‚å¸¸ä¸‹é™"
    condition: "current_tps < avg_tps * 0.5"
    severity: "critical"
    action: "system_health_check"
    
  - name: "æ‰‹ç»­è´¹å¼‚å¸¸ä¸Šæ¶¨"
    condition: "average_fee > baseline_fee * 2"
    severity: "warning" 
    action: "fee_analysis"
```

### **æ•…éšœæ’æŸ¥æŒ‡å—**

#### **å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ**
```go
// äº¤æ˜“æ•…éšœè¯Šæ–­å·¥å…·
func DiagnoseTransactionIssue(ctx context.Context, txHash []byte) (*DiagnosisResult, error) {
    result := &DiagnosisResult{TxHash: txHash}
    
    // 1. æ£€æŸ¥äº¤æ˜“åŸºæœ¬ä¿¡æ¯
    tx, err := transactionManager.GetTransaction(ctx, txHash)
    if err != nil {
        result.Issues = append(result.Issues, "äº¤æ˜“ä¸å­˜åœ¨æˆ–å·²è¢«æ¸…ç†")
        return result, nil
    }
    result.Transaction = tx
    
    // 2. æ£€æŸ¥äº¤æ˜“çŠ¶æ€
    status, err := transactionManager.GetTransactionStatus(ctx, txHash)
    if err != nil {
        result.Issues = append(result.Issues, "æ— æ³•è·å–äº¤æ˜“çŠ¶æ€")
        return result, err
    }
    result.Status = status
    
    // 3. æ ¹æ®çŠ¶æ€è¿›è¡Œè¯Šæ–­
    switch status.Status {
    case "pending":
        result.Diagnosis = diagnosePendingTransaction(ctx, tx, status)
    case "failed":
        result.Diagnosis = diagnoseFailedTransaction(ctx, tx, status)
    case "confirmed":
        result.Diagnosis = "äº¤æ˜“æ­£å¸¸ç¡®è®¤"
    default:
        result.Diagnosis = fmt.Sprintf("æœªçŸ¥çŠ¶æ€: %s", status.Status)
    }
    
    // 4. æ€§èƒ½åˆ†æ
    result.PerformanceMetrics = analyzeTransactionPerformance(ctx, txHash)
    
    return result, nil
}

func diagnosePendingTransaction(ctx context.Context, tx *transaction.Transaction, status *types.TransactionStatus) string {
    pendingDuration := time.Since(status.SubmittedAt)
    
    // æ£€æŸ¥å¾…ç¡®è®¤æ—¶é—´
    if pendingDuration > 30 * time.Minute {
        return fmt.Sprintf("äº¤æ˜“å¾…ç¡®è®¤æ—¶é—´è¿‡é•¿(%v)ï¼Œå¯èƒ½åŸå› ï¼š1)æ‰‹ç»­è´¹è¿‡ä½ 2)ç½‘ç»œæ‹¥å µ 3)èŠ‚ç‚¹åŒæ­¥é—®é¢˜", pendingDuration)
    }
    
    // æ£€æŸ¥æ‰§è¡Œè´¹ç”¨è´¹ç”¨
    if tx.Fee != nil && tx.Fee.Amount < getRecommendedMinFee() {
        return "æ‰‹ç»­è´¹å¯èƒ½è¿‡ä½ï¼Œå»ºè®®æé«˜æ‰‹ç»­è´¹æˆ–ç­‰å¾…ç½‘ç»œç©ºé—²æ—¶æ®µ"
    }
    
    // æ£€æŸ¥ç½‘ç»œçŠ¶æ€
    networkHealth := checkNetworkHealth(ctx)
    if !networkHealth.Healthy {
        return fmt.Sprintf("ç½‘ç»œçŠ¶æ€å¼‚å¸¸ï¼š%s", networkHealth.Issues)
    }
    
    return "äº¤æ˜“æ­£åœ¨æ­£å¸¸ç¡®è®¤ä¸­ï¼Œè¯·ç»§ç»­ç­‰å¾…"
}

func diagnoseFailedTransaction(ctx context.Context, tx *transaction.Transaction, status *types.TransactionStatus) string {
    failureReason := status.FailureReason
    
    // å¸¸è§å¤±è´¥åŸå› åˆ†æ
    commonFailures := map[string]string{
        "insufficient_æ‰§è¡Œè´¹ç”¨": "æ‰§è¡Œè´¹ç”¨é™åˆ¶ä¸è¶³ï¼Œè¯·å¢åŠ æ‰§è¡Œè´¹ç”¨é™åˆ¶åé‡è¯•",
        "nonce_too_low": "äº¤æ˜“åºå·è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨é‡å¤æäº¤",
        "insufficient_balance": "è´¦æˆ·ä½™é¢ä¸è¶³ä»¥æ”¯ä»˜è½¬è´¦é‡‘é¢å’Œæ‰‹ç»­è´¹",
        "invalid_signature": "ç­¾åéªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç§é’¥æ˜¯å¦æ­£ç¡®",
        "contract_execution_failed": "æ™ºèƒ½åˆçº¦æ‰§è¡Œå¤±è´¥ï¼Œè¯·æ£€æŸ¥åˆçº¦é€»è¾‘å’Œå‚æ•°",
        "utxo_not_found": "UTXOä¸å­˜åœ¨æˆ–å·²è¢«ä½¿ç”¨ï¼Œè¯·åˆ·æ–°è´¦æˆ·çŠ¶æ€åé‡è¯•",
    }
    
    if diagnosis, exists := commonFailures[failureReason]; exists {
        return diagnosis
    }
    
    return fmt.Sprintf("äº¤æ˜“å¤±è´¥ï¼ŒåŸå› ï¼š%s", failureReason)
}
```

---

## ğŸ“ **æ€»ç»“ä¸æœ€ä½³å®è·µ**

### **è®¾è®¡ç†å¿µæ€»ç»“**

1. **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ**ï¼š90%çš„ç”¨æˆ·ä½¿ç”¨ç®€å•æ¥å£ï¼Œ10%çš„ä¼ä¸šç”¨æˆ·ä½¿ç”¨é«˜çº§åŠŸèƒ½
2. **æ— çŠ¶æ€è®¾è®¡**ï¼šæ¯æ¬¡æ¥å£è°ƒç”¨æºå¸¦å¿…è¦å‚æ•°ï¼Œå®ç°"å³è°ƒå³ç”¨"çš„åŒºå—é“¾æ“ä½œ
3. **æ–‡ä»¶è·¯å¾„ä¼˜åŒ–**ï¼šå¤§æ–‡ä»¶ä½¿ç”¨è·¯å¾„ä¼ é€’ï¼Œæé«˜ä¼ è¾“æ•ˆç‡å’Œå†…å­˜ä½¿ç”¨
4. **è–„ç®¡ç†å™¨å®ç°**ï¼šManagerå±‚åªåšå‚æ•°é€ä¼ ï¼Œå…·ä½“ä¸šåŠ¡é€»è¾‘ç”±ä¸“é—¨æœåŠ¡å¤„ç†
5. **æ–‡ä»¶éªŒè¯ä¿éšœ**ï¼šå®Œæ•´çš„æ–‡ä»¶æ ¼å¼éªŒè¯å’Œå®‰å…¨æ£€æŸ¥æœºåˆ¶
6. **ä¸šåŠ¡å‹å¥½æŠ½è±¡**ï¼šå°†å¤æ‚çš„åŒºå—é“¾æŠ€æœ¯æŠ½è±¡ä¸ºç›´è§‚çš„ä¸šåŠ¡æ“ä½œ
7. **ç»Ÿä¸€æµç¨‹ç®¡ç†**ï¼šæ‰€æœ‰äº¤æ˜“ç±»å‹éµå¾ªç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸæµç¨‹
8. **ä¼ä¸šçº§å®Œæ•´æ€§**ï¼šæ”¯æŒå¤šç­¾ã€æ—¶é—´æ§åˆ¶ã€è®¿é—®æ§åˆ¶ç­‰ä¼ä¸šçº§éœ€æ±‚

### **æ ¸å¿ƒä»·å€¼**

- âœ… **é™ä½ä½¿ç”¨é—¨æ§›**ï¼šå¼€å‘è€…æ— éœ€æ·±åº¦ç†è§£UTXOæˆ–å¯†ç å­¦ç»†èŠ‚
- âœ… **æå‡å¼€å‘æ•ˆç‡**ï¼šç»Ÿä¸€çš„æ¥å£å‡å°‘å­¦ä¹ æˆæœ¬å’Œé›†æˆå·¥ä½œé‡
- âœ… **ä¿è¯ä¼ä¸šçº§éœ€æ±‚**ï¼šå®Œæ•´æ”¯æŒå¤æ‚ä¸šåŠ¡åœºæ™¯å’Œåˆè§„è¦æ±‚
- âœ… **ç¡®ä¿ç³»ç»Ÿå¯æ‰©å±•**ï¼šæ¨¡å—åŒ–è®¾è®¡ä¾¿äºåŠŸèƒ½æ‰©å±•å’Œç‰ˆæœ¬æ¼”è¿›
- âœ… **ä¼˜åŒ–æ€§èƒ½è¡¨ç°**ï¼šæ‰¹é‡æ“ä½œã€è´¹ç”¨ä¼˜åŒ–ã€æ™ºèƒ½è°ƒåº¦ç­‰æå‡æ•ˆç‡

### **ä½¿ç”¨å»ºè®®**

#### **å¯¹äºä¸ªäººå¼€å‘è€…**
- ä¼˜å…ˆä½¿ç”¨ç®€å•æ¥å£ï¼ˆçœç•¥optionså‚æ•°ï¼‰
- å…³æ³¨é”™è¯¯å¤„ç†å’ŒçŠ¶æ€ç›‘æ§
- åˆ©ç”¨æ‰¹é‡æ“ä½œé™ä½è´¹ç”¨

#### **å¯¹äºä¼ä¸šå¼€å‘è€…**  
- æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€æ­¥å¼•å…¥é«˜çº§åŠŸèƒ½
- é‡è§†å®‰å…¨å®è·µå’Œå®¡è®¡è¿½è¸ª
- å»ºç«‹å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦ä½“ç³»

#### **å¯¹äºç³»ç»Ÿé›†æˆå•†**
- æ·±å…¥ç†è§£ä¸šåŠ¡ç­–ç•¥åˆ°æŠ€æœ¯å®ç°çš„æ˜ å°„å…³ç³»
- å»ºç«‹æ ‡å‡†åŒ–çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶  
- è€ƒè™‘ç³»ç»Ÿçš„å¯è§‚æµ‹æ€§å’Œè¿ç»´å‹å¥½æ€§

---

## ğŸ“š **å‚è€ƒæ–‡æ¡£**

- [æ•´ä½“æ¶æ„æ–‡æ¡£](README.md) - WESåŒºå—é“¾ä¸šåŠ¡æ¥å£å®Œæ•´æ¶æ„  
- [Protocol Bufferså®šä¹‰](../../pb/) - åº•å±‚æ•°æ®ç»“æ„å®šä¹‰
- [ä¸šåŠ¡æ•°æ®ç±»å‹](../../types/) - ä¸šåŠ¡å‹å¥½çš„æ•°æ®ç»“æ„å®šä¹‰
- [æ¥å£å®ç°ç¤ºä¾‹](../../../examples/) - å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ä»£ç 

---

**æ³¨æ„**ï¼šæœ¬æŒ‡å—åŸºäºWES v0.0.1è®¾è®¡ï¼Œå…·ä½“APIå¯èƒ½éšç‰ˆæœ¬æ›´æ–°è€Œå˜åŒ–ã€‚ä½¿ç”¨å‰è¯·ç¡®è®¤ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œå¹¶å‚è€ƒæœ€æ–°çš„æ¥å£æ–‡æ¡£ã€‚
