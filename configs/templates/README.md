# WES é“¾é…ç½®æ¨¡æ¿

> **âš ï¸ é‡è¦è¯´æ˜**  
> **æœ¬ç›®å½•å­˜æ”¾çš„æ˜¯é“¾é…ç½®æ¨¡æ¿ï¼Œç”¨äºç”Ÿæˆç”¨æˆ·è‡ªå®šä¹‰é“¾å®ä¾‹çš„é…ç½®æ–‡ä»¶ã€‚**  
> - æ¨¡æ¿æ–‡ä»¶**ä¸èƒ½ç›´æ¥ä½œä¸ºç”Ÿäº§é…ç½®ä½¿ç”¨**ï¼Œå¿…é¡»é€šè¿‡ `weisyn-node chain init` ç”Ÿæˆå¹¶ä¿®æ”¹åæ‰èƒ½ä½¿ç”¨
> - æ¨¡æ¿å®šä¹‰äº†ä¸‰ç§ ChainModeï¼ˆpublic/consortium/privateï¼‰çš„æ ‡å‡†é…ç½®ç»“æ„ï¼Œå…±è¯†ç®—æ³•ç»Ÿä¸€ä¸º **PoW+XOR**

> **âš ï¸ é‡è¦å˜æ›´ï¼ˆv1.1+ï¼‰**  
> `node_role` å­—æ®µå·²æ ‡è®°ä¸º **deprecated**ï¼Œä»…ç”¨äº v1 å…¼å®¹ã€‚  
> **å…±è¯†æŠ•ç¥¨èµ„æ ¼ç”±èŠ‚ç‚¹åŒæ­¥çŠ¶æ€ï¼ˆfull + åŒæ­¥å®Œæˆ + åœ¨çº¿ï¼‰è‡ªåŠ¨å†³å®š**ï¼Œä¸å†ä¾èµ– `node_role` é…ç½®ã€‚  
> **æŒ–çŸ¿è¯·é€šè¿‡è¿è¡Œæ—¶ API æ§åˆ¶**ï¼ˆ`POST /node/mining` æˆ– `wes_startMining`ï¼‰ï¼Œä¸å†ä¾èµ– `node_role`ã€‚

---

## ğŸ“‹ æ¨¡æ¿æ–‡ä»¶

æœ¬ç›®å½•åŒ…å«ä»¥ä¸‹æ¨¡æ¿æ–‡ä»¶ï¼š

- `consortium-chain.json` - è”ç›Ÿé“¾é…ç½®æ¨¡æ¿
- `private-chain.json` - ç§æœ‰é“¾é…ç½®æ¨¡æ¿

**æ³¨æ„**ï¼šå…¬æœ‰é“¾æ¨¡æ¿ç”± BaaS ä¾§è´Ÿè´£ï¼ˆ`baas/weisyn-baas.git/src/config/chainConfigTemplates.ts`ï¼‰ï¼Œæœ¬ç›®å½•ä¸åŒ…å«å…¬æœ‰é“¾æ¨¡æ¿ã€‚

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. ç”Ÿæˆé…ç½®æ–‡ä»¶

ä½¿ç”¨ `weisyn-node chain init` å‘½ä»¤åŸºäºæ¨¡æ¿ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š

```bash
# ç”Ÿæˆè”ç›Ÿé“¾é…ç½®
./bin/weisyn-node chain init --mode consortium --out ./my-consortium.json

# ç”Ÿæˆç§æœ‰é“¾é…ç½®
./bin/weisyn-node chain init --mode private --out ./my-private.json
```

**æ³¨æ„**ï¼šå…¬æœ‰é“¾é…ç½®é€šè¿‡ BaaS Web æ§åˆ¶å°ç”Ÿæˆï¼ŒNode CLI ä¸æ”¯æŒ `chain init --mode public`ã€‚

### 2. ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šè‡³å°‘å¿…é¡»æ”¹å“ªäº›å­—æ®µï¼Ÿ

ç”Ÿæˆåï¼Œ**è‡³å°‘å¿…é¡»ä¿®æ”¹ä»¥ä¸‹å­—æ®µ**ï¼š

#### 2.1 æ‰€æœ‰é“¾ç±»å‹é€šç”¨å­—æ®µï¼ˆå¿…é¡»ä¿®æ”¹ï¼‰

1. **é“¾èº«ä»½å­—æ®µ**ï¼ˆå¿…é¡»å”¯ä¸€ï¼‰ï¼š
   - `network.chain_id`ï¼šé“¾ID
     - è”ç›Ÿé“¾ï¼š20000-29999
     - ç§æœ‰é“¾ï¼š10000-19999
   - `network.network_id`ï¼šç½‘ç»œæ ‡è¯†ç¬¦ï¼ˆå­—ç¬¦ä¸²ï¼Œæ ¼å¼ `WES_<type>_<name>_<year>`ï¼‰
   - `network.network_namespace`ï¼šç½‘ç»œå‘½åç©ºé—´ï¼ˆå­—ç¬¦ä¸²ï¼Œå¿…é¡»å”¯ä¸€ï¼‰

2. **åˆ›ä¸–é…ç½®**ï¼š
   - `genesis.timestamp`ï¼šåˆ›ä¸–æ—¶é—´æˆ³ï¼ˆUnix æ—¶é—´æˆ³ï¼Œç§’ï¼‰
   - `genesis.accounts`ï¼šè‡³å°‘ä¸€ä¸ªåˆ›ä¸–è´¦æˆ·ï¼Œæ¯ä¸ªè´¦æˆ·å¿…é¡»åŒ…å«ï¼š
     - `address`ï¼šè´¦æˆ·åœ°å€
     - `initial_balance`ï¼šåˆå§‹ä½™é¢ï¼ˆå­—ç¬¦ä¸²ï¼ŒBaseUnitå•ä½ï¼Œ1 WES = 10^8 BaseUnitï¼‰

3. **è¿è¡Œç¯å¢ƒ**ï¼š
   - `environment`ï¼š`dev` | `test` | `prod`

#### 2.2 è”ç›Ÿé“¾é¢å¤–å­—æ®µï¼ˆå»ºè®®ä¿®æ”¹ï¼‰

- `node.bootstrap_peers`ï¼šè‡³å°‘ä¸€ä¸ªå¼•å¯¼èŠ‚ç‚¹åœ°å€
- `node.host.gater.allow_cidrs`ï¼šè”ç›Ÿæˆå‘˜ IP æ®µç™½åå•
- `security.certificate_management.*`ï¼šCA ä¸èŠ‚ç‚¹è¯ä¹¦ï¼ˆç”± BaaS/è¿ç»´ä¸‹å‘ï¼‰
- `node_role`ï¼šèŠ‚ç‚¹è§’è‰²ï¼ˆ`miner` / `validator` / `full` / `light`ï¼‰
- `sync.startup_mode`ï¼šåŒæ­¥æ¨¡å¼ï¼ˆ`from_genesis` / `from_network`ï¼‰
- `sync.require_trusted_checkpoint`ï¼šæ˜¯å¦è¦æ±‚æ£€æŸ¥ç‚¹ï¼ˆtest/prod ç¯å¢ƒå…±è¯†èŠ‚ç‚¹å»ºè®® `true`ï¼‰

#### 2.3 ç§æœ‰é“¾é¢å¤–å­—æ®µï¼ˆå»ºè®®ä¿®æ”¹ï¼‰

- `security.psk.file`ï¼šPSK æ–‡ä»¶è·¯å¾„ï¼ˆç”±å·¥å…·ç”Ÿæˆï¼Œä¸å»ºè®®æ‰‹å·¥å¡«æ˜æ–‡å¯†é’¥ï¼‰
- `node.listen_addresses`ï¼šä»…ç»‘å®š `127.0.0.1` æˆ–å†…ç½‘ IP
- `node_role`ï¼šèŠ‚ç‚¹è§’è‰²ï¼ˆdev ç¯å¢ƒå¯çœç•¥ï¼Œtest/prod å»ºè®®æ˜¾å¼é…ç½®ï¼‰
- `sync.startup_mode`ï¼šåŒæ­¥æ¨¡å¼ï¼ˆdev ç¯å¢ƒé€šå¸¸ `from_genesis`ï¼Œtest/prod ç¯å¢ƒ `from_network`ï¼‰

### 3. å¯åŠ¨èŠ‚ç‚¹

```bash
# å¯åŠ¨è‡ªå»ºè”ç›Ÿé“¾
./bin/weisyn-node --chain consortium --config ./my-consortium.json

# å¯åŠ¨è‡ªå»ºç§æœ‰é“¾
./bin/weisyn-node --chain private --config ./my-private.json
```

**æ³¨æ„**ï¼šè‡ªå»ºå…¬æœ‰é“¾é€šè¿‡ BaaS åˆ›å»ºåï¼Œä½¿ç”¨ `./bin/weisyn-node --chain public --config <baas-generated-config.json>` å¯åŠ¨ã€‚

### 4. èŠ‚ç‚¹çº§é…ç½®è¦†ç›–ï¼ˆå¯é€‰ï¼‰

å¦‚æœé…ç½®æ–‡ä»¶ä¸­çš„é»˜è®¤ç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¦†ç›–ï¼Œæ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š

```bash
# è¦†ç›– HTTP ç«¯å£
./bin/weisyn-node --chain consortium --config ./my-consortium.json --http-port 28700

# è¦†ç›– gRPC ç«¯å£
./bin/weisyn-node --chain consortium --config ./my-consortium.json --grpc-port 28702

# è¦†ç›–è¯Šæ–­ç«¯å£
./bin/weisyn-node --chain consortium --config ./my-consortium.json --diagnostics-port 28706

# è¦†ç›–èŠ‚ç‚¹è§’è‰²
./bin/weisyn-node --chain consortium --config ./my-consortium.json --node-role miner

# è¦†ç›–æ•°æ®ç›®å½•
./bin/weisyn-node --chain consortium --config ./my-consortium.json --data-dir /custom/data/path

# åŒæ—¶è¦†ç›–å¤šä¸ªå‚æ•°
./bin/weisyn-node --chain consortium --config ./my-consortium.json \
  --http-port 28700 \
  --grpc-port 28702 \
  --diagnostics-port 28706 \
  --node-role miner \
  --data-dir /custom/data/path
```

**æ”¯æŒçš„èŠ‚ç‚¹çº§è¦†ç›–å‚æ•°**ï¼š
- `--http-port <port>`ï¼šè¦†ç›– `api.http_port`ï¼ˆHTTP API ç«¯å£ï¼‰
- `--grpc-port <port>`ï¼šè¦†ç›– `api.grpc_port`ï¼ˆgRPC API ç«¯å£ï¼‰
- `--diagnostics-port <port>`ï¼šè¦†ç›– `node.host.diagnostics_port`ï¼ˆè¯Šæ–­/pprof ç«¯å£ï¼‰
- `--node-role <role>`ï¼šè¦†ç›– `node_role`ï¼ˆã€deprecatedã€‘èŠ‚ç‚¹è§’è‰²ï¼šminer/validator/full/lightï¼Œä»…ç”¨äº v1 å…¼å®¹ï¼‰
- `--data-dir <path>`ï¼šè¦†ç›– `storage.data_root`ï¼ˆæ•°æ®ç›®å½•ï¼‰

**è¯´æ˜**ï¼š
- æ‰€æœ‰èŠ‚ç‚¹çº§å‚æ•°åªå½±å“å½“å‰è®¾å¤‡ï¼Œä¸ä¼šæ”¹å˜é“¾çº§é…ç½®ï¼ˆchain_idã€genesisã€network_namespace ç­‰ï¼‰ã€‚
- JSON é…ç½®æ–‡ä»¶ä¸­çš„å€¼ä½œä¸º**é»˜è®¤å€¼**ï¼Œå‘½ä»¤è¡Œå‚æ•°ä¼˜å…ˆçº§æ›´é«˜ã€‚
- é€‚ç”¨äºï¼šç«¯å£å†²çªã€å¤šèŠ‚ç‚¹éƒ¨ç½²åœ¨åŒä¸€å°æœºå™¨ã€ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒç«¯å£ç­‰åœºæ™¯ã€‚

---

## ğŸ“š èŠ‚ç‚¹è§’è‰²ä¸åŒæ­¥ç­–ç•¥æ¨è

> **âš ï¸ é‡è¦è¯´æ˜ï¼ˆv1.1+ï¼‰**  
> `node_role` å­—æ®µå·²æ ‡è®°ä¸º **deprecated**ï¼Œä»…ç”¨äº v1 å…¼å®¹å’Œå·¥å…·é“¾æ¨èæ ‡ç­¾ã€‚  
> **å…±è¯†æŠ•ç¥¨èµ„æ ¼ç”±èŠ‚ç‚¹åŒæ­¥çŠ¶æ€ï¼ˆfull + åŒæ­¥å®Œæˆ + åœ¨çº¿ï¼‰è‡ªåŠ¨å†³å®š**ï¼Œä¸å†ä¾èµ– `node_role` é…ç½®ã€‚  
> **æŒ–çŸ¿è¯·é€šè¿‡è¿è¡Œæ—¶ API æ§åˆ¶**ï¼ˆ`POST /node/mining` æˆ– `wes_startMining`ï¼‰ï¼Œä¸å†ä¾èµ– `node_role`ã€‚

### èŠ‚ç‚¹èƒ½åŠ›æ¨¡å‹ï¼ˆçŠ¶æ€æœº+ä¸å˜å¼ï¼‰

**æ ¸å¿ƒåŸåˆ™**ï¼š

1. **å…±è¯†æŠ•ç¥¨èµ„æ ¼ç”±çŠ¶æ€æœºå†³å®š**
   - æ‰€æœ‰ `sync.mode=full` ä¸” `is_fully_synced=true` ä¸” `is_online=true` çš„èŠ‚ç‚¹ï¼Œ**è‡ªåŠ¨æˆä¸ºå…±è¯†æŠ•ç¥¨æ± æˆå‘˜**
   - ä¸å…è®¸é€šè¿‡é…ç½®å°†æŸäº› full èŠ‚ç‚¹æ’é™¤å‡ºæŠ•ç¥¨é›†åˆ
   - `node_role` ä¸å†³å®šæ˜¯å¦å‚ä¸æŠ•ç¥¨

2. **åŒæ­¥æ¨¡å¼é€šè¿‡ API åˆ‡æ¢**
   - æ‰€æœ‰èŠ‚ç‚¹é»˜è®¤æ˜¯ `full`ï¼ˆå®Œæ•´åŒæ­¥ï¼‰
   - è½»èŠ‚ç‚¹é€šè¿‡è¿è¡Œæ—¶ API åˆ‡æ¢ï¼š`POST /node/sync_mode { "mode": "light" }`
   - JSON é…ç½®ä¸­çš„ `sync.startup_mode` åªå†³å®š"ä»å“ªå„¿å¼€å§‹åŒæ­¥"ï¼ˆfrom_genesis/from_networkï¼‰ï¼Œä¸å†³å®š full/light æ¨¡å¼

3. **æŒ–çŸ¿å¼€å…³é€šè¿‡ API æ§åˆ¶**
   - æŒ–çŸ¿å¼€å…³ï¼ˆ`mining.enabled`ï¼‰åªèƒ½é€šè¿‡è¿è¡Œæ—¶ API ä¿®æ”¹ï¼š`POST /node/mining { "enabled": true|false }`
   - ä¸å…è®¸åœ¨ JSON é…ç½®ä¸­è®¾ç½® per-node æŒ–çŸ¿å¼€å…³
   - å¼€å¯æŒ–çŸ¿çš„å‰ç½®æ¡ä»¶ï¼š`sync.mode=full && is_fully_synced=true`

### èŠ‚ç‚¹è§’è‰²å¯¹ç…§è¡¨ï¼ˆv1 å…¼å®¹ï¼‰

> **âš ï¸ ä»¥ä¸‹å†…å®¹ä»…ç”¨äº v1 å…¼å®¹è¯´æ˜ï¼Œå®é™…èƒ½åŠ›ç”±çŠ¶æ€æœºå†³å®š**

| è§’è‰²ï¼ˆnode_roleï¼‰ | æ¨èç”¨é€” | å…¸å‹åœºæ™¯ | å®é™…èƒ½åŠ›ï¼ˆç”±çŠ¶æ€æœºå†³å®šï¼‰ |
|-----------------|---------|---------|----------------------|
| `miner` | æ¨èç”¨äºæŒ–çŸ¿èŠ‚ç‚¹ | çŸ¿å·¥èŠ‚ç‚¹ã€æ¿€åŠ±èŠ‚ç‚¹ | `sync.mode=full` + `mining.enabled=true`ï¼ˆéœ€é€šè¿‡ API å¼€å¯ï¼‰ |
| `validator` | æ¨èç”¨äºæŠ•ç¥¨èŠ‚ç‚¹ | å¤šæœºæ„å…±åŒèƒŒä¹¦ | `sync.mode=full` + `mining.enabled=false`ï¼ˆè‡ªåŠ¨å‚ä¸æŠ•ç¥¨ï¼‰ |
| `full` | æ¨èç”¨äº RPC èŠ‚ç‚¹ | DApp åç«¯ã€æ•°æ®æœåŠ¡ | `sync.mode=full` + `mining.enabled=false`ï¼ˆè‡ªåŠ¨å‚ä¸æŠ•ç¥¨ï¼‰ |
| `light` | æ¨èç”¨äºè½»èŠ‚ç‚¹ | é’±åŒ…ã€å®¢æˆ·ç«¯ã€è¾¹ç¼˜è®¾å¤‡ | `sync.mode=light` + `mining.enabled=false`ï¼ˆä¸å‚ä¸æŠ•ç¥¨ï¼‰ |

### æ¨èçš„é…ç½®ç»„åˆï¼ˆv1 å…¼å®¹ï¼‰

| ç¯å¢ƒ      | node_roleï¼ˆæ¨èæ ‡ç­¾ï¼‰ | sync.startup_mode | require_trusted_checkpoint | è¯´æ˜ |
|----------|---------------------|-------------------|---------------------------|------|
| dev      | ä¸å¡«ï¼ˆé»˜è®¤ minerï¼‰ | `from_genesis` | `false` | æœ¬åœ°å¼€å‘ä»åˆ›ä¸–å—å¯åŠ¨ |
| test/prod | `miner` | `from_network` | `true` | å…±è¯†èŠ‚ç‚¹å¿…é¡»é…ç½®æ£€æŸ¥ç‚¹<br>**æ³¨æ„**ï¼šæ˜¯å¦å®é™…åœ¨æŒ–çŸ¿ç”±è¿è¡Œæ—¶ API æ§åˆ¶ |
| test/prod | `validator` | `from_network` | `true` | å…±è¯†èŠ‚ç‚¹å¿…é¡»é…ç½®æ£€æŸ¥ç‚¹<br>**æ³¨æ„**ï¼šè‡ªåŠ¨å‚ä¸æŠ•ç¥¨ï¼Œä¸å‡ºå— |
| test/prod | `full` | `from_network` | `false` | å…¨èŠ‚ç‚¹å¯é€‰æ£€æŸ¥ç‚¹<br>**é‡è¦**ï¼šè‡ªåŠ¨å‚ä¸æŠ•ç¥¨ï¼Œä¸æŒ–çŸ¿ |
| test/prod | `light` | `from_network` | `false` | è½»èŠ‚ç‚¹å¯é€‰æ£€æŸ¥ç‚¹<br>**æ³¨æ„**ï¼šä¸ä¿å­˜å®Œæ•´çŠ¶æ€ï¼Œä¸å‚ä¸æŠ•ç¥¨ |

**é…ç½®ç¤ºä¾‹ï¼ˆminer èŠ‚ç‚¹ï¼‰**ï¼š
```jsonc
"node_role": "miner",  // ã€deprecatedã€‘ä»…ä½œä¸ºæ¨èæ ‡ç­¾ï¼Œä¸å†³å®šå®é™…èƒ½åŠ›
"sync": {
  "startup_mode": "from_network",
  "require_trusted_checkpoint": true,
  "trusted_checkpoint": {
    "height": 123456,
    "block_hash": "0x...."
  }
}
```

**è¿è¡Œæ—¶æ§åˆ¶æŒ–çŸ¿**ï¼š
```bash
# å¯åŠ¨èŠ‚ç‚¹åï¼Œé€šè¿‡ HTTP API æ§åˆ¶æ˜¯å¦å®é™…åœ¨æŒ–çŸ¿
curl -X POST http://localhost:28680/node/mining \
  -H "Content-Type: application/json" \
  -d '{"enabled": true}'

# æˆ–é€šè¿‡ JSON-RPC
curl -X POST http://localhost:28680/jsonrpc \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"wes_startMining","params":[],"id":1}'
```

> ğŸ’¡ **è¯¦ç»†çš„ç­–ç•¥çŸ©é˜µä¸çº¦æŸï¼Œè¯·è§ `configs/chains/README.md` ä¸­ã€ŒèŠ‚ç‚¹è§’è‰²ä¸åŒæ­¥ç­–ç•¥æ¨èã€ç« èŠ‚ã€‚**

---

## ğŸ”§ æ¨¡æ¿è®¾è®¡åŸåˆ™

### å…±è¯†ç®—æ³•

æ‰€æœ‰æ¨¡æ¿ç»Ÿä¸€ä½¿ç”¨ **PoW+XOR å…±è¯†**ï¼Œä¸æ”¯æŒå…¶ä»–å…±è¯†ç®—æ³•ï¼ˆPoS/PoA/BFT ç­‰ï¼‰ã€‚

### å®‰å…¨æ¨¡å‹

- **å…¬æœ‰é“¾**ï¼š`security.access_control.mode = "open"`ï¼ˆå¼€æ”¾æ¥å…¥ï¼Œä»…é»‘åå•é˜²å¾¡ï¼‰
- **è”ç›Ÿé“¾**ï¼š`security.access_control.mode = "allowlist"`ï¼ˆè¯ä¹¦è®¸å¯ + IP ç™½åå•ï¼‰
- **ç§æœ‰é“¾**ï¼š`security.access_control.mode = "psk"`ï¼ˆPSK + å†…ç½‘ï¼‰

### èšåˆå™¨é…ç½®

- **å…¬æœ‰é“¾**ï¼š`mining.enable_aggregator = true`ï¼ˆå¿…é¡»å¯ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶è¦æ±‚ï¼‰
- **è”ç›Ÿé“¾**ï¼š`mining.enable_aggregator = true`ï¼ˆé»˜è®¤å¯ç”¨ï¼Œå¤šæœºæ„å…±è¯†ï¼‰
- **ç§æœ‰é“¾**ï¼š`mining.enable_aggregator = false`ï¼ˆé»˜è®¤å…³é—­ï¼Œå•èŠ‚ç‚¹æ¨¡å¼ï¼‰

---

## ğŸ“Š ä¸å®˜æ–¹ Profile çš„åŒºåˆ«

| ç‰¹æ€§ | æ¨¡æ¿ï¼ˆæœ¬ç›®å½•ï¼‰ | å®˜æ–¹ Profileï¼ˆconfigs/chains/ï¼‰ | BaaS æ¨¡æ¿ |
|------|--------------|-------------------------------|----------|
| ç”¨é€” | ç”Ÿæˆç”¨æˆ·è‡ªå®šä¹‰é“¾é…ç½®ï¼ˆè”ç›Ÿé“¾/ç§æœ‰é“¾ï¼‰ | å®˜æ–¹å†…åµŒç½‘ç»œé…ç½® | ç”Ÿæˆç”¨æˆ·è‡ªå®šä¹‰é“¾é…ç½®ï¼ˆå…¬æœ‰é“¾/è”ç›Ÿé“¾/ç§æœ‰é“¾ï¼‰ |
| ä½¿ç”¨æ–¹å¼ | `chain init` ç”Ÿæˆ â†’ ä¿®æ”¹ â†’ å¯åŠ¨ | ç›´æ¥å¯åŠ¨ï¼ˆå…¬æœ‰é“¾ï¼‰æˆ– `--config` æŒ‡å®š | BaaS Web æ§åˆ¶å°ç”Ÿæˆ â†’ Agent ä¸‹å‘ |
| é“¾çº§å‚æ•° | ç”¨æˆ·è‡ªå®šä¹‰ | å®˜æ–¹å›ºå®š | ç”¨æˆ·è‡ªå®šä¹‰ |
| å…±è¯†ç®—æ³• | PoW+XORï¼ˆå›ºå®šï¼‰ | PoW+XORï¼ˆå›ºå®šï¼‰ | PoW+XORï¼ˆå›ºå®šï¼‰ |
| æ”¯æŒçš„é“¾ç±»å‹ | è”ç›Ÿé“¾ã€ç§æœ‰é“¾ | å…¬æœ‰é“¾ã€è”ç›Ÿé“¾ã€ç§æœ‰é“¾ | å…¬æœ‰é“¾ã€è”ç›Ÿé“¾ã€ç§æœ‰é“¾ |

---

## ğŸ”§ èŠ‚ç‚¹çº§é…ç½® vs é“¾çº§é…ç½®

### é“¾çº§é…ç½®ï¼ˆChain-levelï¼‰

é“¾çº§é…ç½®å®šä¹‰é“¾çš„å…¨å±€èº«ä»½å’Œè¡Œä¸ºï¼Œ**ä¸èƒ½é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¿®æ”¹**ï¼š

- `network.chain_id`ã€`network.network_id`ã€`network.network_namespace`ï¼šé“¾èº«ä»½æ ‡è¯†
- `genesis.*`ï¼šåˆ›ä¸–é…ç½®ï¼ˆæ—¶é—´æˆ³ã€è´¦æˆ·ã€åˆå§‹ä½™é¢ï¼‰
- `security.*`ï¼šå®‰å…¨æ¨¡å‹ï¼ˆå‡†å…¥æ§åˆ¶ã€è¯ä¹¦ã€PSKï¼‰
- `mining.*`ï¼šæŒ–çŸ¿é…ç½®ï¼ˆå‡ºå—æ—¶é—´ã€èšåˆå™¨ï¼‰
- `node.bootstrap_peers`ï¼šå¼•å¯¼èŠ‚ç‚¹åˆ—è¡¨

### èŠ‚ç‚¹çº§é…ç½®ï¼ˆNode-levelï¼‰

èŠ‚ç‚¹çº§é…ç½®å®šä¹‰å•ä¸ªèŠ‚ç‚¹çš„æœ¬åœ°è¡Œä¸ºï¼Œ**å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¦†ç›–**ï¼š

- `api.http_port`ã€`api.grpc_port`ï¼šAPI ç«¯å£ï¼ˆå¯é€šè¿‡ `--http-port`ã€`--grpc-port` è¦†ç›–ï¼‰
- `node.host.diagnostics_port`ï¼šè¯Šæ–­ç«¯å£ï¼ˆå¯é€šè¿‡ `--diagnostics-port` è¦†ç›–ï¼‰
- `node_role`ï¼šèŠ‚ç‚¹è§’è‰²ï¼ˆã€deprecatedã€‘å¯é€šè¿‡ `--node-role` è¦†ç›–ï¼Œä»…ç”¨äº v1 å…¼å®¹ï¼‰
- `storage.data_root`ï¼šæ•°æ®ç›®å½•ï¼ˆå¯é€šè¿‡ `--data-dir` è¦†ç›–ï¼‰

**è®¾è®¡åŸåˆ™**ï¼š
- é“¾çº§é…ç½®ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹ä½¿ç”¨ç›¸åŒçš„é“¾èº«ä»½å’Œå…±è¯†å‚æ•°
- èŠ‚ç‚¹çº§é…ç½®å…è®¸ä¸åŒè®¾å¤‡æ ¹æ®æœ¬åœ°ç¯å¢ƒè°ƒæ•´ç«¯å£ã€æ•°æ®ç›®å½•ç­‰
- èŠ‚ç‚¹çº§è¦†ç›–ä¸ä¼šå½±å“é“¾çº§é…ç½®ï¼Œä¿è¯é“¾çš„ä¸€è‡´æ€§

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- **[é“¾é…ç½®è¯´æ˜](../chains/README.md)** - é…ç½®é€‰å‹ä¸å­—æ®µè§„èŒƒï¼ˆ**æ¨èå…ˆçœ‹è¿™ä¸ª**ï¼‰
- **[cmd/README.md](../../cmd/README.md)** - cmd/ ç›®å½•æ€»è§ˆï¼ˆä»»åŠ¡å¯¼èˆªã€å¿«é€Ÿä¸Šæ‰‹ï¼‰
- **[èŠ‚ç‚¹å¯åŠ¨è¯´æ˜](../../cmd/node/README.md)** - èŠ‚ç‚¹å‘½ä»¤å‚æ•°ç»†èŠ‚
- **[ChainMode è®¾è®¡](../../_dev/02-æ¶æ„è®¾è®¡-architecture/12-è¿è¡Œä¸éƒ¨ç½²æ¶æ„-runtime-and-deployment/04-CHAINMODE_DESIGN.md)** - é“¾æ¨¡å¼è®¾è®¡æ–‡æ¡£
