// Package badger provides default configuration values for BadgerDB storage.
package badger

import (
	"github.com/weisyn/v1/pkg/utils"
)

// BadgerDBå­˜å‚¨é»˜è®¤é…ç½®å€¼
// è¿™äº›é»˜è®¤å€¼åŸºäºBadgerDBçš„æœ€ä½³å®è·µå’ŒåŒºå—é“¾å­˜å‚¨éœ€æ±‚

// getDefaultPath è·å–é»˜è®¤æ•°æ®åº“è·¯å¾„ï¼ˆä½¿ç”¨è·¯å¾„è§£æå·¥å…·ï¼‰
// åŸå› ï¼šç»Ÿä¸€çš„æ•°æ®ç›®å½•ä¾¿äºç®¡ç†å’Œå¤‡ä»½ï¼Œç¡®ä¿è·¯å¾„è§£ææ­£ç¡®
func getDefaultPath() string {
	return utils.ResolveDataPath("./data/badger")
}

const (
	// === åŸºç¡€é…ç½® ===

	// defaultSyncWrites é»˜è®¤å¯ç”¨åŒæ­¥å†™å…¥
	// åŸå› ï¼šåŒºå—é“¾æ•°æ®éœ€è¦å¼ºä¸€è‡´æ€§ï¼ŒåŒæ­¥å†™å…¥ç¡®ä¿æ•°æ®å®‰å…¨æ€§
	// è™½ç„¶æ€§èƒ½ç•¥æœ‰æŸå¤±ï¼Œä½†æ•°æ®å®Œæ•´æ€§æ›´é‡è¦
	// ğŸš¨ **å†…å­˜ä¼˜åŒ–**ï¼šåœ¨åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è€ƒè™‘å¼‚æ­¥å†™å…¥ä»¥æé«˜æ€§èƒ½
	defaultSyncWrites = true

	// === æ€§èƒ½é…ç½® ===

	// defaultMemTableSize é»˜è®¤å†…å­˜è¡¨å¤§å°ä¸º128MB
	// åŸå› ï¼šå¢åŠ å†…å­˜è¡¨å¤§å°å¯ä»¥å‡å°‘å†™å…¥é¢‘ç‡ï¼Œæé«˜æ‰¹é‡å†™å…¥æ€§èƒ½
	// ğŸš¨ **å†…å­˜ä¼˜åŒ–**ï¼šæ›´å¤§çš„å†…å­˜è¡¨å¯ä»¥å‡å°‘é¢‘ç¹çš„ç£ç›˜I/Oï¼Œæé«˜åŒæ­¥æ€§èƒ½
	defaultMemTableSize = 128 << 20 // 128MB (ä»64MBå¢åŠ åˆ°128MB)

	// === ç»´æŠ¤é…ç½® ===

	// defaultEnableAutoCompaction é»˜è®¤å¯ç”¨è‡ªåŠ¨å‹ç¼©
	// åŸå› ï¼šè‡ªåŠ¨å‹ç¼©å‡å°‘ç£ç›˜å ç”¨ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½
	// å¯¹äºåŒºå—é“¾è¿™ç§å†™å¤šè¯»å°‘çš„åœºæ™¯å¾ˆé‡è¦
	defaultEnableAutoCompaction = true
)
