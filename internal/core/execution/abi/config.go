package abi

// ABIManagerConfig ABI管理器极简配置结构。
// 遵循区块链节点自运行原则：零配置启动，智能默认行为。
//
// 设计原则：
//   - 自包含：无需外部配置文件
//   - 自运行：使用算法化的智能默认值
//   - 极简化：仅保留影响资源使用的关键配置
type ABIManagerConfig struct {
	// MaxCachedABIs ABI缓存的最大数量。
	// 这是唯一需要根据节点内存情况调整的配置项。
	// 默认1000个ABI定义，适用于大多数场景。
	// 内存受限环境可适当减少，高并发环境可适当增加。
	MaxCachedABIs int

	// 以下配置已内置为智能默认值，无需配置：
	// - 严格模式：智能验证（生产环境自动启用严格检查）
	// - 类型转换：始终启用兼容转换
	// - 兼容性检查：始终启用版本安全检查
	// - 默认版本：自动推断最新版本
	// - 操作超时：使用合理的固定超时值（5秒）
	// - 性能统计：始终启用轻量级统计
}

// DefaultABIManagerConfig 创建零配置的ABI管理器配置。
// 体现区块链节点自运行特性：开箱即用，无需调参。
//
// 智能默认特性：
//   - 自动缓存管理：1000个ABI定义，适配大多数应用场景
//   - 智能验证策略：生产环境自动启用严格检查
//   - 兼容性保证：自动进行类型转换和版本兼容检查
//   - 性能优化：内置5秒合理超时，防止阻塞
//   - 轻量监控：自动收集基础性能指标
//
// 返回值：
//   - *ABIManagerConfig: 零配置的智能默认实例
func DefaultABIManagerConfig() *ABIManagerConfig {
	return &ABIManagerConfig{
		MaxCachedABIs: 1000, // 唯一配置项：平衡内存使用与性能
		// 其他所有行为均为智能默认，无需配置
	}
}
