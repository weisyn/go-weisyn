# ä¸“æ³¨çŸ¿å·¥æ¨¡å—ï¼ˆDedicated Minerï¼‰

ã€æ¨¡å—å®šä½ã€‘
ã€€ã€€æœ¬æ¨¡å—åœ¨WESç»Ÿä¸€Aggregatoræ¶æ„ä¸­ä¸“æ³¨äºçº¯ç²¹çš„æŒ–çŸ¿ç®—æ³•ï¼šå€™é€‰åŒºå—æ¨¡æ¿åˆ›å»º â†’ å·¥ä½œé‡è¯æ˜è®¡ç®— â†’ å†…éƒ¨æ¥å£å§”æ‰˜å¤„ç†ã€‚**ä¸¥æ ¼ç¦æ­¢ä»»ä½•ç½‘ç»œç›¸å…³çš„å†…å®¹**ï¼Œä¸ç›´æ¥å¤„ç†ç½‘ç»œä¼ è¾“ã€Kæ¡¶é€‰æ‹©ã€è·¯ç”±å†³ç­–ã€åè®®å°è£…ç­‰ç½‘ç»œå±‚é¢çš„å¤æ‚é€»è¾‘ï¼Œè€Œæ˜¯é€šè¿‡å†…éƒ¨æ¥å£å°†æŒ–å‡ºçš„åŒºå—äº¤ç»™Aggregatorç»Ÿä¸€å¤„ç†ï¼Œå®ç°èŒè´£å•ä¸€åŒ–å’Œæ¶æ„ä¼˜åŒ–ã€‚

ã€è®¾è®¡åŸåˆ™ã€‘
- **ä¸“æ³¨æŒ–çŸ¿ç®—æ³•**ï¼šä¸“æ³¨äºPoWè®¡ç®—å’ŒåŒºå—æ¨¡æ¿åˆ›å»ºï¼Œ**å®Œå…¨ç§»é™¤ç½‘ç»œå¤æ‚æ€§**
- **ç»Ÿä¸€å§”æ‰˜æ¶æ„**ï¼šæŒ–å‡ºåŒºå—é€šè¿‡å†…éƒ¨æ¥å£äº¤ç»™Aggregatorç»Ÿä¸€å¤„ç†
- **ç½‘ç»œèŒè´£åˆ†ç¦»**ï¼š**Minerç»ä¸åŒ…å«ä»»ä½•ç½‘ç»œæœåŠ¡ã€åè®®å¤„ç†ã€æ¶ˆæ¯ä¼ è¾“ç›¸å…³ä»£ç **
- **é«˜æ•ˆè®¡ç®—æµç¨‹**ï¼šä¼˜åŒ–PoWè®¡ç®—å„é˜¶æ®µæ‰§è¡Œæ•ˆç‡ï¼Œæœ€å°åŒ–å‡ºå—å»¶è¿Ÿ
- **çŠ¶æ€å®‰å…¨ç®¡ç†**ï¼šçº¿ç¨‹å®‰å…¨çš„çŠ¶æ€æœºåˆ¶ï¼Œé˜²æ­¢å¹¶å‘å†²çª
- **é«˜åº¦åŒæ­¥é—¨é—¸**ï¼šé˜²é‡å¤æŒ–çŸ¿çš„æ™ºèƒ½é«˜åº¦åŒæ­¥æœºåˆ¶
- **äº‹ä»¶é©±åŠ¨å“åº”**ï¼šåŸºäºåŒºå—é“¾äº‹ä»¶çš„å¼‚æ­¥çŠ¶æ€åŒæ­¥
- **åˆ†å‰äº‹ä»¶å¤„ç†**ï¼šå¤„ç†åˆ†å‰æ£€æµ‹ã€å¤„ç†è¿›åº¦ã€å®ŒæˆçŠ¶æ€ï¼Œç¡®ä¿æŒ–çŸ¿å®‰å…¨

ã€æ ¸å¿ƒèŒè´£ã€‘
1. **æŒ–çŸ¿ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šçŸ¿å·¥å¯åŠ¨ã€åœæ­¢ã€æš‚åœæ¢å¤çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
2. **å€™é€‰åŒºå—æ¨¡æ¿åˆ›å»º**ï¼šä»äº¤æ˜“æ± é€‰æ‹©äº¤æ˜“ï¼Œåˆ›å»ºæœ‰æ•ˆçš„å€™é€‰åŒºå—æ¨¡æ¿
3. **å·¥ä½œé‡è¯æ˜è®¡ç®—**ï¼šé«˜æ•ˆçš„PoWè®¡ç®—ï¼Œæœç´¢æ»¡è¶³éš¾åº¦è¦æ±‚çš„Nonce
4. **å†…éƒ¨æ¥å£å§”æ‰˜**ï¼šå°†æŒ–å‡ºçš„åŒºå—é€šè¿‡å†…éƒ¨æ¥å£äº¤ç»™Aggregatorå¤„ç†
5. **çŠ¶æ€åŒæ­¥ç®¡ç†**ï¼šé«˜åº¦é—¨é—¸ã€äº‹ä»¶å“åº”ã€æŒ–çŸ¿çŠ¶æ€è½¬æ¢çš„ç»Ÿä¸€ç®¡ç†
6. **åˆ†å‰å®‰å…¨å“åº”**ï¼šç›‘å¬åˆ†å‰äº‹ä»¶ï¼ŒåŠæ—¶æš‚åœ/æ¢å¤æŒ–çŸ¿ï¼Œé¿å…å†²çªåŒºå—äº§ç”Ÿ

ã€æ¶æ„çº¦æŸã€‘
- **ç¦æ­¢ç½‘ç»œä¾èµ–**ï¼šMineræ¨¡å—å†…ä¸¥ç¦å¯¼å…¥æˆ–ä½¿ç”¨ä»»ä½•ç½‘ç»œç›¸å…³çš„åŒ…å’ŒæœåŠ¡
- **ç¦æ­¢åè®®å¤„ç†**ï¼šä¸å…è®¸å¤„ç†ä»»ä½•ç½‘ç»œåè®®ã€æ¶ˆæ¯å°è£…ã€è·¯ç”±é€‰æ‹©
- **ç¦æ­¢ç›´æ¥ä¼ è¾“**ï¼šä¸å…è®¸ç›´æ¥å‘é€æˆ–æ¥æ”¶ç½‘ç»œæ¶ˆæ¯
- **ç»Ÿä¸€å§”æ‰˜å…¥å£**ï¼šæ‰€æœ‰å¯¹å¤–é€šä¿¡å¿…é¡»é€šè¿‡AggregatorDelegateå†…éƒ¨æ¥å£

ã€å®ç°æ¶æ„ã€‘

ã€€ã€€é‡‡ç”¨**æ§åˆ¶ç®¡ç† â†’ æŒ–çŸ¿ç¼–æ’ â†’ ç®—æ³•è®¡ç®— â†’ å§”æ‰˜å¤„ç†**çš„æŒ–çŸ¿æ¶æ„ï¼Œä¸“æ³¨äºæŒ–çŸ¿ç®—æ³•æœ¬èº«ï¼Œç¡®ä¿æŒ–çŸ¿æµç¨‹çš„é«˜æ•ˆæ€§ã€‚

### **ğŸ”— å†…éƒ¨æ¥å£é›†æˆ**

ã€€ã€€çŸ¿å·¥æ¨¡å—ä¸å†ç›´æ¥å¤„ç†ç½‘ç»œé€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡å†…éƒ¨æ¥å£ä¸Aggregatoré›†æˆï¼Œç”±Aggregatorç»Ÿä¸€å¤„ç†protobufåè®®å’Œç½‘ç»œé€šä¿¡ã€‚

**æ ¸å¿ƒåè®®ä½¿ç”¨**ï¼š

| **æ“ä½œåœºæ™¯** | **åè®®ç±»å‹** | **Protocol ID** | **Messageç±»å‹** | **Protobufå®šä¹‰** |
|-------------|------------|-----------------|----------------|------------------|
| **æäº¤å€™é€‰åŒºå—** | Stream RPC | `/weisyn/consensus/block_submission/1.0.0` | `MinerBlockSubmission` | `pb/network/consensus.proto` |
| **æ¥æ”¶èšåˆå™¨å“åº”** | Stream Response | `/weisyn/consensus/block_submission/1.0.0` | `AggregatorBlockAcceptance` | `pb/network/consensus.proto` |
| **è®¢é˜…å…±è¯†ç»“æœ** | GossipSub | `weisyn.consensus.latest_block.v1` | `ConsensusResultBroadcast` | `pb/network/consensus.proto` |

**å†…éƒ¨å§”æ‰˜æµç¨‹**ï¼š
```mermaid
sequenceDiagram
    participant M as çŸ¿å·¥å¼•æ“
    participant AD as èšåˆå™¨å§”æ‰˜  
    participant AI as èšåˆå™¨å†…éƒ¨æ¥å£
    participant A as æœ¬åœ°èšåˆå™¨æœåŠ¡

    M->>AD: æäº¤æŒ–å‡ºçš„åŒºå—
    AD->>AI: ProcessMinedBlock(ctx, block)
    AI->>A: äº¤ç»™æœ¬åœ°èšåˆå™¨æœåŠ¡
    Note over A: èšåˆå™¨åˆ¤æ–­ï¼š<br/>â€¢ å†…å®¹å¯»å€ç¡®å®šæ˜¯å¦ä¸ºæœ€è¿‘è€…<br/>â€¢ è‹¥æ˜¯åˆ™æ”¶é›†ï¼Œè‹¥ä¸æ˜¯åˆ™è½¬å‘
    A-->>AI: å¤„ç†ç»“æœ
    AI-->>AD: è¿”å›å¤„ç†çŠ¶æ€
    AD-->>M: é€šçŸ¥æäº¤å®Œæˆ
```

**å†…éƒ¨æ¥å£å§”æ‰˜ç¤ºä¾‹**ï¼š
```go
// é€šè¿‡å†…éƒ¨æ¥å£æäº¤æŒ–å‡ºçš„åŒºå—ç»™æœ¬åœ°èšåˆå™¨
func (m *MiningOrchestratorImpl) SubmitBlockToAggregator(block Block) error {
    ctx := context.Background()
    
    // è°ƒç”¨èšåˆå™¨å†…éƒ¨æ¥å£ï¼Œè®©èšåˆå™¨å¤„ç†è·¯ç”±å’Œè½¬å‘é€»è¾‘
    err := m.aggregatorDelegate.ProcessMinedBlock(ctx, block)
    if err != nil {
        m.logger.Info("æäº¤åŒºå—ç»™èšåˆå™¨å¤±è´¥", "blockHeight", block.Header.Height, "error", err)
        return fmt.Errorf("èšåˆå™¨å¤„ç†å¤±è´¥: %v", err)
    }
    
    m.logger.Info("åŒºå—å·²æˆåŠŸæäº¤ç»™æœ¬åœ°èšåˆå™¨", "blockHeight", block.Header.Height, "blockHash", block.Header.Hash)
    return nil
}
```

```mermaid
graph TB
    subgraph "çŸ¿å·¥æ ¸å¿ƒæ¶æ„"
        subgraph "æ§åˆ¶ç®¡ç†å±‚"
            MINER_CONTROLLER["ğŸ›ï¸ çŸ¿å·¥æ§åˆ¶å™¨<br/>Miner Controller"]
            LIFECYCLE_MGR["ğŸ”„ ç”Ÿå‘½å‘¨æœŸç®¡ç†<br/>Lifecycle Manager"]
            MINING_LOOP["ğŸ”„ æŒ–çŸ¿å¾ªç¯<br/>Mining Loop"]
            STATE_MANAGER["ğŸ“Š çŠ¶æ€ç®¡ç†å™¨<br/>State Manager"]
        end
        
        subgraph "æŒ–çŸ¿ç¼–æ’å±‚"
            MINING_ORCHESTRATOR["ğŸ¼ æŒ–çŸ¿ç¼–æ’å™¨<br/>Mining Orchestrator"]
            ROUND_EXECUTOR["âš¡ è½®æ¬¡æ‰§è¡Œå™¨<br/>Round Executor"]
            ERROR_HANDLER["ğŸš¨ é”™è¯¯å¤„ç†å™¨<br/>Error Handler"]
            FLOW_COORDINATOR["ğŸ”„ æµç¨‹åè°ƒå™¨<br/>Flow Coordinator"]
        end
        
        subgraph "è®¡ç®—å§”æ‰˜å±‚"
            BLOCKCHAIN_BRIDGE["ğŸŒ‰ åŒºå—é“¾æ¡¥æ¥<br/>Blockchain Bridge"]
            POW_COMPUTE_HANDLER["âš¡ PoWè®¡ç®—å¤„ç†<br/>PoW Compute Handler"]
            AGGREGATOR_DELEGATE["ğŸ¤ èšåˆå™¨å§”æ‰˜<br/>Aggregator Delegate"]
        end
        
        subgraph "çŠ¶æ€åŒæ­¥å±‚"
            HEIGHT_GATE_MANAGER["ğŸšª é«˜åº¦é—¨é—¸ç®¡ç†<br/>Height Gate Manager"]
            EVENT_HANDLER["ğŸ“¢ äº‹ä»¶å¤„ç†å™¨<br/>Event Handler"]
            SYNC_DELEGATE["ğŸ”„ åŒæ­¥å§”æ‰˜å™¨<br/>Sync Delegate"]
            CONFIRMATION_TRACKER["âœ… ç¡®è®¤è·Ÿè¸ªå™¨<br/>Confirmation Tracker"]
        end
        
        subgraph "åŸºç¡€è®¾æ–½å±‚"
            BLOCKCHAIN_SERVICE["â›“ï¸ åŒºå—é“¾æœåŠ¡<br/>Blockchain Service"]
            POW_ENGINE["âš¡ PoWå¼•æ“<br/>PoW Engine"]
            AGGREGATOR_INTERFACE["ğŸ”— èšåˆå™¨æ¥å£<br/>Aggregator Interface"]
            EVENT_BUS["ğŸ“¢ äº‹ä»¶æ€»çº¿<br/>Event Bus"]
            STORAGE_SERVICE["ğŸ’¾ å­˜å‚¨æœåŠ¡<br/>Storage Service"]
            LOGGER["ğŸ“ æ—¥å¿—æœåŠ¡<br/>Logger"]
        end
    end
    
    %% è¿æ¥å…³ç³»
    MINER_CONTROLLER --> LIFECYCLE_MGR
    LIFECYCLE_MGR --> MINING_LOOP
    MINING_LOOP --> STATE_MANAGER
    
    MINER_CONTROLLER --> MINING_ORCHESTRATOR
    MINING_ORCHESTRATOR --> ROUND_EXECUTOR
    ROUND_EXECUTOR --> ERROR_HANDLER
    ERROR_HANDLER --> FLOW_COORDINATOR
    
    MINING_ORCHESTRATOR --> BLOCKCHAIN_BRIDGE
    BLOCKCHAIN_BRIDGE --> POW_COMPUTE_HANDLER
    POW_COMPUTE_HANDLER --> BLOCK_SENDER
    BLOCK_SENDER --> NETWORK_TRANSMITTER
    
    MINING_ORCHESTRATOR --> HEIGHT_GATE_MANAGER
    HEIGHT_GATE_MANAGER --> EVENT_HANDLER
    EVENT_HANDLER --> SYNC_DELEGATE
    SYNC_DELEGATE --> CONFIRMATION_TRACKER
    
    BLOCKCHAIN_BRIDGE --> BLOCKCHAIN_SERVICE
    POW_COMPUTE_HANDLER --> POW_ENGINE
    BLOCK_SENDER --> NETWORK_SERVICE
    NETWORK_TRANSMITTER --> KBUCKET_ROUTER
    EVENT_HANDLER --> EVENT_BUS
    HEIGHT_GATE_MANAGER --> STORAGE_SERVICE
    STATE_MANAGER --> LOGGER
    
    style MINER_CONTROLLER fill:#E8F5E8
    style MINING_ORCHESTRATOR fill:#FFF3E0
    style POW_COMPUTE_HANDLER fill:#E3F2FD
    style HEIGHT_GATE_MANAGER fill:#F3E5F5
```

**æ¶æ„å±‚æ¬¡è¯´æ˜ï¼š**

1. **æ§åˆ¶ç®¡ç†å±‚**ï¼šç®¡ç†çŸ¿å·¥çš„ç”Ÿå‘½å‘¨æœŸå’ŒæŒ–çŸ¿å¾ªç¯æ§åˆ¶
   - çŸ¿å·¥æ§åˆ¶å™¨ç»Ÿä¸€ç®¡ç†æ‰€æœ‰æŒ–çŸ¿æ“ä½œ
   - ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨æ§åˆ¶å¯åŠ¨ã€åœæ­¢ã€æš‚åœæ¢å¤
   - æŒ–çŸ¿å¾ªç¯ç®¡ç†å™¨æ§åˆ¶æŒ–çŸ¿å¾ªç¯çš„æ‰§è¡Œ

2. **æŒ–çŸ¿ç¼–æ’å±‚**ï¼šç¼–æ’å®Œæ•´çš„æŒ–çŸ¿è½®æ¬¡æµç¨‹
   - æŒ–çŸ¿ç¼–æ’å™¨åè°ƒæ•´ä¸ªæŒ–çŸ¿æµç¨‹
   - è½®æ¬¡æ‰§è¡Œå™¨æ‰§è¡Œå•æ¬¡æŒ–çŸ¿è½®æ¬¡
   - é”™è¯¯å¤„ç†å™¨å¤„ç†æŒ–çŸ¿è¿‡ç¨‹ä¸­çš„å„ç±»é”™è¯¯

3. **è®¡ç®—å§”æ‰˜å±‚**ï¼šå¤„ç†åŒºå—åˆ›å»ºã€PoWè®¡ç®—å’Œç»“æœå§”æ‰˜
   - åŒºå—é“¾æ¡¥æ¥è´Ÿè´£å€™é€‰åŒºå—åˆ›å»ºå’Œé“¾çŠ¶æ€æŸ¥è¯¢
   - PoWè®¡ç®—å¤„ç†å™¨è´Ÿè´£é«˜æ•ˆçš„å·¥ä½œé‡è¯æ˜è®¡ç®—
   - èšåˆå™¨å§”æ‰˜è´Ÿè´£å°†æŒ–å‡ºåŒºå—å§”æ‰˜ç»™æœ¬åœ°èšåˆå™¨æœåŠ¡

4. **çŠ¶æ€åŒæ­¥å±‚**ï¼šç®¡ç†é«˜åº¦åŒæ­¥å’Œäº‹ä»¶å¤„ç†
   - é«˜åº¦é—¨é—¸ç®¡ç†å™¨é˜²æ­¢é‡å¤æŒ–çŸ¿
   - äº‹ä»¶å¤„ç†å™¨å¤„ç†åŒºå—é“¾äº‹ä»¶
   - åŒæ­¥å§”æ‰˜å™¨è´Ÿè´£ä¸»åŠ¨åŒæ­¥æ“ä½œ

---

## ğŸ“ **æ¨¡å—ç»„ç»‡æ¶æ„**

```text
miner/
â”œâ”€â”€ ğŸ“– README.md              # æœ¬æ–‡æ¡£ï¼šçŸ¿å·¥æ¨¡å—æ•´ä½“æ¶æ„è®¾è®¡
â”œâ”€â”€ ğŸ—ï¸ manager.go             # çŸ¿å·¥ç®¡ç†å™¨ï¼šfxä¾èµ–æ³¨å…¥å’Œæ¥å£ç»„è£…
â”œâ”€â”€ ğŸ›ï¸ controller/            # çŸ¿å·¥æ§åˆ¶å™¨ï¼šç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æŒ–çŸ¿å¾ªç¯æ§åˆ¶
â”‚   â”œâ”€â”€ controller.go         # æ§åˆ¶å™¨æ ¸å¿ƒé€»è¾‘å’Œæ¥å£å®ç°
â”‚   â”œâ”€â”€ start_mining.go       # å¯åŠ¨æŒ–çŸ¿ï¼šçŠ¶æ€æ£€æŸ¥ã€ç¯å¢ƒåˆå§‹åŒ–ã€å¾ªç¯å¯åŠ¨
â”‚   â”œâ”€â”€ stop_mining.go        # åœæ­¢æŒ–çŸ¿ï¼šä¼˜é›…åœæ­¢ã€èµ„æºæ¸…ç†ã€çŠ¶æ€æ›´æ–°
â”‚   â”œâ”€â”€ get_mining_status.go  # çŠ¶æ€æŸ¥è¯¢ï¼šæŒ–çŸ¿çŠ¶æ€ã€ç»Ÿè®¡ä¿¡æ¯æŸ¥è¯¢æ¥å£
â”‚   â””â”€â”€ mining_loop.go        # æŒ–çŸ¿å¾ªç¯ï¼šæ ¸å¿ƒæŒ–çŸ¿å¾ªç¯ã€é—¨é—¸æ£€æŸ¥ã€è½®æ¬¡æ‰§è¡Œ
â”œâ”€â”€ ğŸ¼ mining_orchestrator/   # æŒ–çŸ¿ç¼–æ’å™¨ï¼šå®Œæ•´æŒ–çŸ¿è½®æ¬¡çš„æµç¨‹ç¼–æ’
â”‚   â”œâ”€â”€ manager.go            # ç¼–æ’ç®¡ç†å™¨ï¼šç¼–æ’é€»è¾‘åè°ƒ
â”‚   â”œâ”€â”€ execute_mining_round.go     # è½®æ¬¡æ‰§è¡Œï¼šå®Œæ•´æŒ–çŸ¿è½®æ¬¡æµç¨‹ç¼–æ’
â”‚   â”œâ”€â”€ handle_mining_error.go      # é”™è¯¯å¤„ç†ï¼šæŒ–çŸ¿é”™è¯¯åˆ†ç±»å¤„ç†å’Œæ¢å¤
â”‚   â”œâ”€â”€ produce_block_from_template.go    # åŒºå—ç”Ÿäº§ï¼šPoWè®¡ç®—å’ŒåŒºå—ç”Ÿæˆ
â”‚   â”œâ”€â”€ submit_block_to_aggregator.go     # åŒºå—æäº¤ï¼šé€šè¿‡å†…éƒ¨æ¥å£æäº¤ç»™æœ¬åœ°aggregator
â”‚   â””â”€â”€ wait_for_confirmation_or_trigger_sync.go  # ç¡®è®¤ç­‰å¾…ï¼šç¡®è®¤å¤„ç†æˆ–åŒæ­¥è§¦å‘
â”œâ”€â”€ ğŸ¤ aggregator_delegate/   # èšåˆå™¨å§”æ‰˜ï¼šå†…éƒ¨æ¥å£è°ƒç”¨å’Œé”™è¯¯å¤„ç†
â”œâ”€â”€ âš¡ pow_compute_handler/   # PoWè®¡ç®—å¤„ç†ï¼šå·¥ä½œé‡è¯æ˜è®¡ç®—å§”æ‰˜ç®¡ç†
â”œâ”€â”€ ğŸŒ‰ blockchain_service_bridge/  # åŒºå—é“¾æ¡¥æ¥ï¼šå€™é€‰åŒºå—åˆ›å»ºã€é“¾çŠ¶æ€æŸ¥è¯¢
â”œâ”€â”€ ğŸ“¢ event_handler/         # äº‹ä»¶å¤„ç†å™¨ï¼šåŒºå—å¤„ç†äº‹ä»¶å“åº”ã€çŠ¶æ€åŒæ­¥
â”œâ”€â”€ ğŸšª height_gate_manager/   # é«˜åº¦é—¨é—¸ï¼šé˜²é‡å¤æŒ–çŸ¿çš„é«˜åº¦åŒæ­¥æœºåˆ¶
â”œâ”€â”€ ğŸ“Š miner_state_manager/   # çŠ¶æ€ç®¡ç†å™¨ï¼šçŸ¿å·¥çŠ¶æ€è½¬æ¢ã€å¹¶å‘å®‰å…¨æ§åˆ¶
â””â”€â”€ ğŸ”„ sync_service_delegate/ # åŒæ­¥å§”æ‰˜å™¨ï¼šåŒºå—é“¾åŒæ­¥æ“ä½œå§”æ‰˜
```

---

## ğŸ”„ **ç»Ÿä¸€æŒ–çŸ¿æµç¨‹å®ç°**

ã€å®ç°ç­–ç•¥ã€‘

ã€€ã€€æ‰€æœ‰å­æ¨¡å—å‡ä¸¥æ ¼éµå¾ª**é—¨é—¸æ£€æŸ¥ â†’ åŒºå—åˆ›å»º â†’ PoWè®¡ç®— â†’ å†…éƒ¨å§”æ‰˜ â†’ ç¡®è®¤å¤„ç†**æ¶æ„æ¨¡å¼ï¼Œç¡®ä¿æŒ–çŸ¿æµç¨‹çš„ä¸€è‡´æ€§å’Œé«˜æ•ˆæ€§ã€‚

```mermaid
flowchart TD
    subgraph "ç»Ÿä¸€æŒ–çŸ¿æµç¨‹å®ç°æ¶æ„"
        subgraph "æŒ–çŸ¿å‡†å¤‡å±‚"
            A[æŒ–çŸ¿å¾ªç¯å¯åŠ¨] --> B{é«˜åº¦é—¨é—¸æ£€æŸ¥}
            B -->|é€šè¿‡| C[è·å–åŒºå—é“¾çŠ¶æ€]
            B -->|é˜»å¡| D[ç­‰å¾…é«˜åº¦æ›´æ–°]
            D --> A
        end
        
        subgraph "åŒºå—åˆ›å»ºå±‚"
            C --> E[ä»äº¤æ˜“æ± é€‰æ‹©äº¤æ˜“]
            E --> F[åˆ›å»ºå€™é€‰åŒºå—æ¨¡æ¿]
            F --> G[è®¾ç½®åŒºå—å¤´å‚æ•°]
            G --> H[è®¡ç®—Merkleæ ¹]
            H --> I[ç”Ÿæˆå€™é€‰åŒºå—]
        end
        
        subgraph "PoWè®¡ç®—å±‚"
            I --> J[å¯åŠ¨PoWè®¡ç®—å¼•æ“]
            J --> K[æ‰§è¡ŒNonceæœç´¢]
            K --> L{æ‰¾åˆ°æœ‰æ•ˆNonceï¼Ÿ}
            L -->|æ˜¯| M[ç”Ÿæˆå®Œæ•´åŒºå—]
            L -->|å¦| N[ç»§ç»­æœç´¢]
            N --> K
        end
        
        subgraph "å†…éƒ¨å§”æ‰˜å±‚"
            M --> O[èšåˆå™¨å§”æ‰˜è°ƒç”¨]
            O --> P[å†…éƒ¨æ¥å£è°ƒç”¨]
            P --> Q[æœ¬åœ°èšåˆå™¨å¤„ç†]
            Q --> R{å§”æ‰˜æˆåŠŸï¼Ÿ}
            R -->|æ˜¯| S[è¿›å…¥ç¡®è®¤ç­‰å¾…]
            R -->|å¦| T[é”™è¯¯é€€é¿é‡è¯•]
            T --> O
        end
        
        subgraph "ç¡®è®¤å¤„ç†å±‚"
            S --> U[ç›‘å¬ç¡®è®¤äº‹ä»¶]
            U --> V{æ”¶åˆ°ç¡®è®¤ï¼Ÿ}
            V -->|æ˜¯| W[æ›´æ–°é«˜åº¦é—¨é—¸]
            V -->|å¦| X{ç¡®è®¤è¶…æ—¶ï¼Ÿ}
            X -->|å¦| U
            X -->|æ˜¯| Y[è§¦å‘ä¸»åŠ¨åŒæ­¥]
            W --> A
            Y --> A
        end
    end
```

**å…³é”®å®ç°è¦ç‚¹ï¼š**

1. **æ ‡å‡†åŒ–æµç¨‹æ§åˆ¶**ï¼š
   - ç»Ÿä¸€çš„æŒ–çŸ¿è½®æ¬¡å¯åŠ¨ã€æ‰§è¡Œã€ç»“æŸæµç¨‹
   - ä¸€è‡´çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
   - æ ‡å‡†åŒ–çš„çŠ¶æ€è½¬æ¢å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†

2. **é«˜æ•ˆèµ„æºåˆ©ç”¨**ï¼š
   - PoWè®¡ç®—çš„å¹¶è¡Œä¼˜åŒ–å’Œèµ„æºå¤ç”¨
   - å†…éƒ¨å§”æ‰˜çš„ç»Ÿä¸€æ¥å£å’Œé”™è¯¯å¤„ç†
   - å†…å­˜å’Œç¼“å­˜çš„åˆç†åˆ†é…å’Œå›æ”¶

3. **å¯é çŠ¶æ€åŒæ­¥**ï¼š
   - é«˜åº¦é—¨é—¸çš„æ™ºèƒ½æ£€æŸ¥å’Œç­‰å¾…æœºåˆ¶
   - åŒºå—ç¡®è®¤çš„è¶…æ—¶å¤„ç†å’Œä¸»åŠ¨åŒæ­¥
   - äº‹ä»¶é©±åŠ¨çš„å¼‚æ­¥çŠ¶æ€æ›´æ–°æœºåˆ¶

---

## ğŸ”„ **å®Œæ•´æŒ–çŸ¿æµç¨‹è®¾è®¡**

ã€äº”é˜¶æ®µæŒ–çŸ¿æµç¨‹ã€‘

ã€€ã€€çŸ¿å·¥é‡‡ç”¨"åˆ›å»º â†’ è®¡ç®— â†’ å‘é€ â†’ ç¡®è®¤ â†’ åŒæ­¥"çš„äº”é˜¶æ®µæµç¨‹ï¼Œé€šè¿‡ç²¾å¯†çš„æµç¨‹ç¼–æ’å’Œæ™ºèƒ½ä¼˜åŒ–ï¼Œå®ç°é«˜æ•ˆã€å¯é çš„åŒºå—æŒ–æ˜ã€‚

### **é˜¶æ®µä¸€ï¼šå€™é€‰åŒºå—åˆ›å»º**

```mermaid
graph TB
    subgraph "å€™é€‰åŒºå—åˆ›å»ºæµç¨‹"
        subgraph "äº¤æ˜“é€‰æ‹©é˜¶æ®µ"
            A[å¯åŠ¨æŒ–çŸ¿è½®æ¬¡] --> B[è·å–å½“å‰é“¾çŠ¶æ€]
            B --> C[ä»äº¤æ˜“æ± è·å–å¾…å¤„ç†äº¤æ˜“]
            C --> D[æŒ‰ä¼˜å…ˆçº§æ’åºäº¤æ˜“]
            D --> E[é€‰æ‹©æœ€ä¼˜äº¤æ˜“ç»„åˆ]
        end
        
        subgraph "åŒºå—æ„å»ºé˜¶æ®µ"
            E --> F[åˆ›å»ºåŒºå—å¤´æ¨¡æ¿]
            F --> G[è®¾ç½®çˆ¶åŒºå—å“ˆå¸Œ]
            G --> H[è®¡ç®—Merkleæ ¹å“ˆå¸Œ]
            H --> I[è®¾ç½®æ—¶é—´æˆ³å’Œéš¾åº¦]
            I --> J[ç”Ÿæˆå€™é€‰åŒºå—]
        end
        
        subgraph "éªŒè¯ç¼“å­˜é˜¶æ®µ"
            J --> K[éªŒè¯åŒºå—åŸºæœ¬æ ¼å¼]
            K --> L[è®¡ç®—åŒºå—å“ˆå¸Œ]
            L --> M[ç¼“å­˜å€™é€‰åŒºå—]
            M --> N[è¿”å›åŒºå—å“ˆå¸Œæ ‡è¯†]
        end
    end
    
    style A fill:#4CAF50
    style F fill:#FF9800
    style L fill:#2196F3
```

### **é˜¶æ®µäºŒï¼šå·¥ä½œé‡è¯æ˜è®¡ç®—**

```mermaid
graph TB
    subgraph "PoWè®¡ç®—æ‰§è¡Œæµç¨‹"
        subgraph "è®¡ç®—å‡†å¤‡é˜¶æ®µ"
            A[æ¥æ”¶å€™é€‰åŒºå—æ¨¡æ¿] --> B[æå–åŒºå—å¤´ä¿¡æ¯]
            B --> C[è®¾ç½®PoWè®¡ç®—å‚æ•°]
            C --> D[å¯åŠ¨PoWè®¡ç®—å¼•æ“]
        end
        
        subgraph "Nonceæœç´¢é˜¶æ®µ"
            D --> E[åˆå§‹åŒ–Nonceå€¼]
            E --> F[è®¡ç®—åŒºå—å¤´å“ˆå¸Œ]
            F --> G{å“ˆå¸Œæ»¡è¶³éš¾åº¦ï¼Ÿ}
            G -->|å¦| H[é€’å¢Nonceç»§ç»­]
            H --> F
            G -->|æ˜¯| I[æ‰¾åˆ°æœ‰æ•ˆNonce]
        end
        
        subgraph "ç»“æœå¤„ç†é˜¶æ®µ"
            I --> J[æ›´æ–°åŒºå—å¤´Nonce]
            J --> K[éªŒè¯æŒ–çŸ¿ç»“æœ]
            K --> L[ç”Ÿæˆå®Œæ•´åŒºå—]
            L --> M[è®°å½•æŒ–çŸ¿ç»Ÿè®¡]
        end
    end
    
    style D fill:#4CAF50
    style F fill:#FF9800
    style I fill:#2196F3
```

### **é˜¶æ®µä¸‰ï¼šå†…éƒ¨æ¥å£å§”æ‰˜**

```mermaid
graph TB
    subgraph "å†…éƒ¨æ¥å£å§”æ‰˜æµç¨‹"
        subgraph "å§”æ‰˜å‡†å¤‡é˜¶æ®µ"
            A[æŒ–å‡ºå®Œæ•´åŒºå—] --> B[åˆ›å»ºå§”æ‰˜ä¸Šä¸‹æ–‡]
            B --> C[éªŒè¯åŒºå—å®Œæ•´æ€§]
            C --> D[å‡†å¤‡å§”æ‰˜å‚æ•°]
        end
        
        subgraph "æ¥å£è°ƒç”¨é˜¶æ®µ"
            D --> E[è°ƒç”¨èšåˆå™¨å†…éƒ¨æ¥å£]
            E --> F[ProcessMinedBlock(ctx, block)]
            F --> G[ç­‰å¾…èšåˆå™¨å¤„ç†]
            G --> H{å¤„ç†æˆåŠŸï¼Ÿ}
        end
        
        subgraph "ç»“æœå¤„ç†é˜¶æ®µ"
            H -->|æ˜¯| I[è®°å½•æäº¤æˆåŠŸ]
            H -->|å¦| J[é”™è¯¯åˆ†ç±»å¤„ç†]
            J --> K[é‡è¯•ç­–ç•¥åˆ¤æ–­]
            K -->|é‡è¯•| E
            K -->|æ”¾å¼ƒ| L[è®°å½•æœ€ç»ˆå¤±è´¥]
            I --> M[é€šçŸ¥ä¸Šå±‚æˆåŠŸ]
        end
    end
    
    style E fill:#4CAF50
    style F fill:#FF9800
    style I fill:#2196F3
```

### **é˜¶æ®µå››ï¼šç¡®è®¤ç­‰å¾…å¤„ç†**

```mermaid
graph TB
    subgraph "ç¡®è®¤ç­‰å¾…å¤„ç†æµç¨‹"
        subgraph "ç¡®è®¤ç­‰å¾…é˜¶æ®µ"
            A[åŒºå—æäº¤æˆåŠŸ] --> B[å¯åŠ¨ç¡®è®¤ç­‰å¾…]
            B --> C[ç›‘å¬åŒºå—å¤„ç†äº‹ä»¶]
            C --> D[è®¾ç½®ç¡®è®¤è¶…æ—¶å®šæ—¶å™¨]
            D --> E{æ”¶åˆ°ç¡®è®¤äº‹ä»¶ï¼Ÿ}
        end
        
        subgraph "ç¡®è®¤å¤„ç†é˜¶æ®µ"
            E -->|æ˜¯| F[æ›´æ–°é«˜åº¦é—¨é—¸]
            F --> G[æ¸…ç†å¾…ç¡®è®¤äº¤æ˜“]
            G --> H[å‘å¸ƒæˆåŠŸäº‹ä»¶]
            H --> I[æ›´æ–°æŒ–çŸ¿ç»Ÿè®¡]
        end
        
        subgraph "è¶…æ—¶å¤„ç†é˜¶æ®µ"
            E -->|å¦| J{ç¡®è®¤è¶…æ—¶ï¼Ÿ}
            J -->|å¦| C
            J -->|æ˜¯| K[è§¦å‘ä¸»åŠ¨åŒæ­¥]
            K --> L[è¯·æ±‚ç½‘ç»œæœ€æ–°çŠ¶æ€]
            L --> M[æ›´æ–°æœ¬åœ°é«˜åº¦]
            M --> N[å‡†å¤‡ä¸‹ä¸€è½®æŒ–çŸ¿]
        end
    end
    
    style A fill:#4CAF50
    style F fill:#FF9800
    style K fill:#2196F3
```

### **é˜¶æ®µäº”ï¼šçŠ¶æ€åŒæ­¥æ›´æ–°**

```mermaid
graph TB
    subgraph "çŠ¶æ€åŒæ­¥æ›´æ–°æµç¨‹"
        subgraph "é«˜åº¦é—¨é—¸æ›´æ–°"
            A[æ”¶åˆ°åŒºå—ç¡®è®¤äº‹ä»¶] --> B[æå–åŒºå—é«˜åº¦ä¿¡æ¯]
            B --> C[æ›´æ–°æœ€åå¤„ç†é«˜åº¦]
            C --> D[éªŒè¯é«˜åº¦è¿ç»­æ€§]
        end
        
        subgraph "çŠ¶æ€åŒæ­¥åè°ƒ"
            D --> E[æ›´æ–°çŸ¿å·¥å†…éƒ¨çŠ¶æ€]
            E --> F[æ¸…ç†è¿‡æœŸæ•°æ®]
            F --> G[åˆ·æ–°ç¼“å­˜ä¿¡æ¯]
            G --> H[å‘å¸ƒçŠ¶æ€å˜æ›´äº‹ä»¶]
        end
        
        subgraph "ä¸‹è½®å‡†å¤‡"
            H --> I[æ£€æŸ¥æŒ–çŸ¿æ¡ä»¶]
            I --> J[å‡†å¤‡ä¸‹ä¸€è½®æŒ–çŸ¿]
            J --> K[é‡ç½®è½®æ¬¡è®¡æ•°å™¨]
            K --> L[è¿›å…¥ä¸‹ä¸€ä¸ªæŒ–çŸ¿å‘¨æœŸ]
        end
    end
    
    style C fill:#4CAF50
    style F fill:#FF9800
    style J fill:#2196F3
```

## ğŸ¤ **èšåˆå™¨å§”æ‰˜ä¸æ¥å£è°ƒç”¨**

ã€å†…éƒ¨å§”æ‰˜ç­–ç•¥ã€‘

### **èšåˆå™¨å§”æ‰˜ç®—æ³•**

```text
ç®—æ³•ï¼šåŸºäºå†…éƒ¨æ¥å£çš„åŒºå—å§”æ‰˜å¤„ç†
è¾“å…¥ï¼šæŒ–å‡ºçš„å®Œæ•´åŒºå— (minedBlock)
è¾“å‡ºï¼šèšåˆå™¨å¤„ç†ç»“æœçŠ¶æ€

1. å§”æ‰˜å‡†å¤‡ï¼š
   ctx = context.WithTimeout(èƒŒæ™¯ä¸Šä¸‹æ–‡, 10ç§’)
   éªŒè¯åŒºå—çš„åŸºç¡€å®Œæ•´æ€§ï¼ˆå“ˆå¸Œã€ç­¾åã€ç»“æ„ï¼‰
   
2. å†…éƒ¨æ¥å£è°ƒç”¨ï¼š
   result = aggregatorInterface.ProcessMinedBlock(ctx, minedBlock)
   ç­‰å¾…èšåˆå™¨ç¡®è®¤å¤„ç†ç»“æœ
   
3. ç»“æœå¤„ç†ï¼š
   å¦‚æœæˆåŠŸï¼šè®°å½•æäº¤æˆåŠŸï¼Œé€šçŸ¥ä¸Šå±‚
   å¦‚æœå¤±è´¥ï¼šè¿›è¡Œé”™è¯¯åˆ†ç±»å’Œé‡è¯•åˆ¤æ–­

4. é”™è¯¯æ¢å¤ï¼š
   å¯æ¢å¤é”™è¯¯ï¼ˆç½‘ç»œã€è¶…æ—¶ï¼‰ï¼šé‡è¯•æœ€å¤š3æ¬¡
   æ°¸ä¹…é”™è¯¯ï¼ˆåŒºå—æ— æ•ˆã€é«˜åº¦è¿‡æ—¶ï¼‰ï¼šç›´æ¥æ”¾å¼ƒ
```

### **å§”æ‰˜æ¥å£è§„èŒƒ**

```text
æ¥å£è®¾è®¡ï¼šæ ‡å‡†åŒ–çš„å†…éƒ¨æ¥å£è°ƒç”¨

1. æ¥å£æ–¹æ³•ï¼š
   - ProcessMinedBlock(ctx, block): ä¸»è¦å§”æ‰˜æ–¹æ³•
   - NotifyMiningSuccess(ctx, block): æˆåŠŸé€šçŸ¥æ–¹æ³•
   - éµå¾ªæ ‡å‡†çš„Goæ¥å£çº¦å®šå’Œé”™è¯¯å¤„ç†

2. è°ƒç”¨ç­–ç•¥ï¼š
   - å•æ¬¡è°ƒç”¨ï¼šé¿å…é‡å¤æäº¤åŒä¸€åŒºå—
   - è¶…æ—¶æ§åˆ¶ï¼šé˜²æ­¢é•¿æ—¶é—´é˜»å¡æŒ–çŸ¿æµç¨‹
   - é”™è¯¯é€ä¼ ï¼šä¿ç•™è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ç”¨äºè°ƒè¯•

3. æ—¥å¿—è®°å½•ï¼š
   - æˆåŠŸæäº¤ï¼šè®°å½•åŒºå—é«˜åº¦å’Œå“ˆå¸Œ
   - å¤±è´¥é‡è¯•ï¼šè®°å½•é”™è¯¯åŸå› å’Œé‡è¯•æ¬¡æ•°
   - æŒ‡æ•°é€€é¿ï¼š1s, 2s, 4s é—´éš”é‡è¯•
   - æœ€å¤§é‡è¯•ï¼š3 æ¬¡å¤±è´¥åè§¦å‘åŒæ­¥
```

### **åè®®å¯ç”¨æ€§è¿‡æ»¤**

```text
è¿‡æ»¤æœºåˆ¶ï¼šç¡®ä¿ç›®æ ‡èŠ‚ç‚¹åè®®å…¼å®¹æ€§

1. åè®®æ³¨å†Œæ£€æŸ¥ï¼š
   - æ£€æŸ¥ç›®æ ‡èŠ‚ç‚¹æ˜¯å¦æ³¨å†ŒåŒºå—æäº¤åè®®
   - åè®®IDï¼š/weisyn/consensus/block_submission/1.0.0
   
2. å¯è¾¾æ€§åˆ¤æ–­ï¼š
   - å½“å‰å®ç°ï¼šåŸºäº Call æˆåŠŸ/å¤±è´¥åˆ¤æ–­
   - æœªæ¥æ‰©å±•ï¼šæ”¯æŒå…¬ç½‘å¯è¾¾æ€§æ£€æµ‹
   - Call å¤±è´¥ â†’ åè®®æœªæ³¨å†Œ â†’ è‡ªåŠ¨åˆ‡æ¢èŠ‚ç‚¹

3. åŠ¨æ€é€‚åº”ï¼š
   - æ ¹æ®å†å²æˆåŠŸç‡è°ƒæ•´èŠ‚ç‚¹ä¼˜å…ˆçº§
   - ç»´æŠ¤èŠ‚ç‚¹è´¨é‡è¯„åˆ†ç¼“å­˜
   - æ™ºèƒ½æ’é™¤é•¿æœŸä¸å¯è¾¾èŠ‚ç‚¹
```

## ğŸšª **é«˜åº¦é—¨é—¸åŒæ­¥æœºåˆ¶**

ã€é˜²é‡å¤æŒ–çŸ¿çš„æ™ºèƒ½é—¨é—¸ã€‘

### **é—¨é—¸å·¥ä½œåŸç†**

```mermaid
graph TB
    subgraph "é«˜åº¦é—¨é—¸æœºåˆ¶"
        subgraph "é—¨é—¸æ£€æŸ¥é˜¶æ®µ"
            A[å‡†å¤‡å¼€å§‹æŒ–çŸ¿] --> B[è·å–å½“å‰é“¾é«˜åº¦]
            B --> C[è·å–æœ€åå¤„ç†é«˜åº¦]
            C --> D{é“¾é«˜åº¦ > æœ€åå¤„ç†é«˜åº¦ï¼Ÿ}
        end
        
        subgraph "é—¨é—¸é€šè¿‡å¤„ç†"
            D -->|æ˜¯| E[é—¨é—¸æ£€æŸ¥é€šè¿‡]
            E --> F[å…è®¸å¼€å§‹æŒ–çŸ¿]
            F --> G[æ›´æ–°æŒ–çŸ¿ç›®æ ‡é«˜åº¦]
        end
        
        subgraph "é—¨é—¸é˜»å¡å¤„ç†"
            D -->|å¦| H[é—¨é—¸æ£€æŸ¥é˜»å¡]
            H --> I[ç­‰å¾…é«˜åº¦æ›´æ–°äº‹ä»¶]
            I --> J{ç­‰å¾…è¶…æ—¶ï¼Ÿ}
            J -->|å¦| K[æ”¶åˆ°é«˜åº¦æ›´æ–°]
            K --> B
            J -->|æ˜¯| L[è§¦å‘ä¸»åŠ¨åŒæ­¥]
            L --> M[æ›´æ–°æœ¬åœ°çŠ¶æ€]
            M --> B
        end
    end
    
    style E fill:#4CAF50
    style H fill:#FF9800
    style L fill:#2196F3
```

### **é«˜åº¦åŒæ­¥ç­–ç•¥**

1. **è¢«åŠ¨åŒæ­¥**ï¼šç›‘å¬åŒºå—å¤„ç†äº‹ä»¶ï¼Œè‡ªåŠ¨æ›´æ–°æœ€åå¤„ç†é«˜åº¦
2. **ä¸»åŠ¨åŒæ­¥**ï¼šé—¨é—¸è¶…æ—¶æ—¶è§¦å‘syncæœåŠ¡ï¼Œå¼ºåˆ¶åŒæ­¥ç½‘ç»œçŠ¶æ€
3. **æ™ºèƒ½ç­‰å¾…**ï¼šç»“åˆäº‹ä»¶ç›‘å¬å’Œå®šæ—¶æ£€æŸ¥çš„æ··åˆç­‰å¾…ç­–ç•¥

## ğŸ“Š **çŸ¿å·¥çŠ¶æ€ç®¡ç†**

ã€å®Œæ•´çŠ¶æ€æœºè®¾è®¡ã€‘

```mermaid
stateDiagram-v2
    [*] --> Idle : ç³»ç»Ÿåˆå§‹åŒ–
    
    Idle --> Mining : StartMining()
    Mining --> Paused : PauseMining()
    Mining --> Stopping : StopMining()
    Paused --> Mining : ResumeMining()
    Paused --> Stopping : StopMining()
    Stopping --> Idle : åœæ­¢å®Œæˆ
    
    Mining --> Error : PoWè®¡ç®—é”™è¯¯
    Mining --> Error : èšåˆå™¨å§”æ‰˜å¤±è´¥
    Mining --> Error : ç¡®è®¤è¶…æ—¶å¼‚å¸¸
    Paused --> Error : çŠ¶æ€è½¬æ¢é”™è¯¯
    Error --> Idle : é”™è¯¯æ¢å¤
    Error --> Mining : è‡ªåŠ¨æ¢å¤
    
    Mining --> Syncing : è§¦å‘ä¸»åŠ¨åŒæ­¥
    Syncing --> Mining : åŒæ­¥å®Œæˆ
    Syncing --> Error : åŒæ­¥å¤±è´¥
    
    Idle --> [*] : ç³»ç»Ÿå…³é—­
```

ã€çŠ¶æ€è½¬æ¢è§„åˆ™ã€‘
- **Idle â†’ Mining**ï¼šæ£€æŸ¥çŸ¿å·¥åœ°å€ï¼Œåˆå§‹åŒ–æŒ–çŸ¿ç¯å¢ƒ
- **Mining â†’ Paused**ï¼šæš‚åœæŒ–çŸ¿å¾ªç¯ï¼Œä¿æŒçŠ¶æ€
- **Paused â†’ Mining**ï¼šæ¢å¤æŒ–çŸ¿å¾ªç¯ï¼Œç»§ç»­æŒ–çŸ¿
- **ä»»ä½•çŠ¶æ€ â†’ Stopping**ï¼šä¼˜é›…åœæ­¢ï¼Œæ¸…ç†èµ„æº
- **é”™è¯¯çŠ¶æ€**ï¼šè‡ªåŠ¨æ¢å¤æˆ–æ‰‹åŠ¨é‡ç½®

## ğŸ”§ **å…³é”®é…ç½®å‚æ•°**

ã€çŸ¿å·¥æ ¸å¿ƒé…ç½®ã€‘
```yaml
miner:
  # åŸºç¡€æŒ–çŸ¿é…ç½®
  confirmation_timeout: 30s      # ç¡®è®¤ç­‰å¾…è¶…æ—¶æ—¶é—´
  block_interval: 10s           # ç›®æ ‡å‡ºå—é—´éš”
  mining_threads: 4             # PoWè®¡ç®—çº¿ç¨‹æ•°
  miner_address: ""             # çŸ¿å·¥å¥–åŠ±åœ°å€
  
  # èšåˆå™¨å§”æ‰˜é…ç½®
  aggregator_call_timeout: 10s  # èšåˆå™¨æ¥å£è°ƒç”¨è¶…æ—¶
  max_retries: 3               # å§”æ‰˜å¤±è´¥æœ€å¤§é‡è¯•æ¬¡æ•°
  retry_backoff: "1s,2s,4s"    # å§”æ‰˜é‡è¯•é€€é¿æ—¶é—´åºåˆ—
  success_notification: true   # æ˜¯å¦å¯ç”¨æˆåŠŸé€šçŸ¥
  
  # é«˜åº¦é—¨é—¸é…ç½®
  height_check_interval: 5s     # é«˜åº¦é—¨é—¸æ£€æŸ¥é—´éš”
  height_wait_timeout: 60s     # é«˜åº¦ç­‰å¾…è¶…æ—¶æ—¶é—´
  max_height_lag: 3            # å…è®¸çš„æœ€å¤§é«˜åº¦æ»å
  
  # PoWè®¡ç®—é…ç½®
  pow_difficulty: 4            # PoWè®¡ç®—éš¾åº¦
  pow_timeout: 30s             # PoWè®¡ç®—è¶…æ—¶
  nonce_step: 1               # Nonceé€’å¢æ­¥é•¿
  
  # çŠ¶æ€ç®¡ç†é…ç½®
  state_transition_timeout: 5s  # çŠ¶æ€è½¬æ¢è¶…æ—¶
  max_error_count: 10          # æœ€å¤§é”™è¯¯è®¡æ•°
  error_reset_interval: 300s   # é”™è¯¯è®¡æ•°é‡ç½®é—´éš”
```

---

## ğŸ—ï¸ **ä¾èµ–æ³¨å…¥æ¶æ„**

ã€fxæ¡†æ¶é›†æˆã€‘

ã€€ã€€å…¨é¢é‡‡ç”¨fxä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œå®ç°çŸ¿å·¥ç»„ä»¶é—´çš„æ¾è€¦åˆå’Œç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨ç®¡ç†ã€‚

```go
// ç¤ºä¾‹ï¼šçŸ¿å·¥æ¨¡å—ä¾èµ–æ³¨å…¥é…ç½®
package miner

import (
    "go.uber.org/fx"
    "github.com/weisyn/v1/internal/core/consensus/interfaces"
    "github.com/weisyn/v1/pkg/interfaces/consensus"
)

// Module çŸ¿å·¥æ ¸å¿ƒæ¨¡å—
var Module = fx.Module("miner",
    // å¯¼å…¥å­æ¨¡å—
    fx.Provide(
        // æ§åˆ¶ç®¡ç†å±‚
        controller.NewController,
        
        // æŒ–çŸ¿ç¼–æ’å±‚
        mining_orchestrator.NewManager,
        mining_orchestrator.NewMiningOrchestrator,
        mining_orchestrator.NewRoundExecutor,
        mining_orchestrator.NewErrorHandler,
        
        // è®¡ç®—ä¼ è¾“å±‚
        blockchain_service_bridge.NewManager,
        blockchain_service_bridge.NewBlockchainBridge,
        pow_compute_handler.NewManager,
        pow_compute_handler.NewPoWComputeHandler,
        block_sender.NewManager,
        block_sender.NewBlockSender,
        
        // çŠ¶æ€åŒæ­¥å±‚
        height_gate_manager.NewManager,
        height_gate_manager.NewHeightGateManager,
        event_handler.NewManager,
        event_handler.NewEventHandler,
        sync_service_delegate.NewManager,
        sync_service_delegate.NewSyncDelegate,
        
        // åŸºç¡€æœåŠ¡å±‚
        miner_state_manager.NewManager,
        miner_state_manager.NewMinerStateManager,
    ),
    
    // å¯¼å‡ºå…¬å…±æ¥å£
    fx.Provide(
        fx.Annotate(
            func(ctrl *controller.Controller) consensus.MinerService {
                return ctrl
            },
            fx.As(new(consensus.MinerService)),
        ),
        fx.Annotate(
            func(ctrl *controller.Controller) interfaces.MinerController {
                return ctrl
            },
            fx.As(new(interfaces.MinerController)),
        ),
    ),
    
    // ç”Ÿå‘½å‘¨æœŸç®¡ç†
    fx.Invoke(InitializeMiningServices),
)

// æŒ–çŸ¿æœåŠ¡åˆå§‹åŒ–
func InitializeMiningServices(
    minerService consensus.MinerService,
    powHandler *pow_compute_handler.PoWComputeHandler,
    heightGateManager *height_gate_manager.HeightGateManager,
    eventHandler *event_handler.EventHandler,
    config *MinerConfig,
    logger log.Logger,
) error {
    logger.Info("åˆå§‹åŒ–çŸ¿å·¥æœåŠ¡")
    
    // åˆå§‹åŒ–PoWè®¡ç®—å¼•æ“
    if err := powHandler.InitializePoWEngine(config.PoWConfig); err != nil {
        return fmt.Errorf("åˆå§‹åŒ–PoWå¼•æ“å¤±è´¥: %v", err)
    }
    
    // åˆå§‹åŒ–é«˜åº¦é—¨é—¸
    if err := heightGateManager.Initialize(); err != nil {
        return fmt.Errorf("åˆå§‹åŒ–é«˜åº¦é—¨é—¸å¤±è´¥: %v", err)
    }
    
    // æ³¨å†Œäº‹ä»¶å¤„ç†å™¨
    if err := eventHandler.RegisterEventHandlers(); err != nil {
        return fmt.Errorf("æ³¨å†Œäº‹ä»¶å¤„ç†å™¨å¤±è´¥: %v", err)
    }
    
    logger.Info("çŸ¿å·¥æœåŠ¡åˆå§‹åŒ–å®Œæˆ")
    return nil
}
```

**ä¾èµ–ç®¡ç†ç‰¹ç‚¹ï¼š**
- **åˆ†å±‚æ¨¡å—æ³¨å…¥**ï¼šæŒ‰æ¶æ„å±‚æ¬¡ç»„ç»‡ä¾èµ–æ³¨å…¥ï¼Œç¡®ä¿æ¨¡å—é—´åä½œæ¸…æ™°
- **æœåŠ¡ç”Ÿå‘½å‘¨æœŸ**ï¼šç»Ÿä¸€ç®¡ç†å„å­æ¨¡å—çš„å¯åŠ¨ã€è¿è¡Œå’Œåœæ­¢
- **æ¥å£å¥‘çº¦å¯¼å‘**ï¼šåŸºäºæ¥å£è€Œéå®ç°çš„ä¾èµ–æ³¨å…¥æ¨¡å¼
- **é…ç½®é©±åŠ¨åˆå§‹åŒ–**ï¼šæ”¯æŒåŸºäºé…ç½®çš„æœåŠ¡å‚æ•°åˆå§‹åŒ–

---

## ğŸ“Š **æ€§èƒ½ä¸ç›‘æ§**

ã€æ€§èƒ½æŒ‡æ ‡ç›®æ ‡ã€‘

| **æ“ä½œç±»å‹** | **ç›®æ ‡å»¶è¿Ÿ** | **ååé‡ç›®æ ‡** | **æˆåŠŸç‡ç›®æ ‡** | **ç›‘æ§æ–¹å¼** |
|-------------|-------------|---------------|---------------|------------|
| å€™é€‰åŒºå—åˆ›å»º | < 1s | > 10 BPM | > 99.5% | å®æ—¶ç›‘æ§ |
| PoWè®¡ç®—æ‰§è¡Œ | 5s - 30s | å¯å˜ | > 98.0% | å…³é”®è·¯å¾„ç›‘æ§ |
| èšåˆå™¨å§”æ‰˜ | < 100ms | > 500 TPS | > 99.0% | å®æ—¶ç›‘æ§ |
| ç¡®è®¤ç­‰å¾…å¤„ç† | < 30s | N/A | > 90.0% | å¼‚æ­¥ç›‘æ§ |
| é«˜åº¦é—¨é—¸æ£€æŸ¥ | < 100ms | > 1000 QPS | > 99.8% | å®æ—¶ç›‘æ§ |

**æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š**
- **æŒ–çŸ¿æ•ˆç‡ä¼˜åŒ–**ï¼šå¹¶è¡ŒPoWè®¡ç®—ã€æ™ºèƒ½éš¾åº¦è°ƒæ•´ã€é¢„å–å€™é€‰åŒºå—
- **å†…éƒ¨å§”æ‰˜ä¼˜åŒ–**ï¼šæ¥å£è°ƒç”¨ç¼“å­˜ã€è¶…æ—¶æ§åˆ¶ã€é‡è¯•æœºåˆ¶
- **çŠ¶æ€åŒæ­¥ä¼˜åŒ–**ï¼šå¼‚æ­¥äº‹ä»¶å¤„ç†ã€æ™ºèƒ½é—¨é—¸ç­‰å¾…ã€æ‰¹é‡æ›´æ–°
- **èµ„æºç®¡ç†ä¼˜åŒ–**ï¼šå†…å­˜æ± å¤ç”¨ã€è¿æ¥å¤ç”¨ã€ç¼“å­˜ä¼˜åŒ–

---

## ğŸ”— **ä¸å…¬å…±æ¥å£çš„æ˜ å°„å…³ç³»**

ã€æ¥å£å®ç°æ˜ å°„ã€‘

```mermaid
classDiagram
    class MinerService {
        <<interface>>
        +StartMining(ctx context.Context, minerAddress []byte) error
        +StopMining(ctx context.Context) error
        +GetMiningStatus(ctx context.Context) (bool, []byte, error)
        +PauseMining(ctx context.Context) error
        +ResumeMining(ctx context.Context) error
        +SetMiningParameters(params MiningParameters) error
    }
    
    class MinerController {
        -miningOrchestrator MiningOrchestrator
        -blockSender BlockSender
        -powComputeHandler PoWComputeHandler
        -heightGateManager HeightGateManager
        -eventHandler EventHandler
        -stateManager MinerStateManager
        +StartMining(ctx context.Context, minerAddress []byte) error
        +StopMining(ctx context.Context) error
        +GetMiningStatus(ctx context.Context) (bool, []byte, error)
        +PauseMining(ctx context.Context) error
        +ResumeMining(ctx context.Context) error
        +SetMiningParameters(params MiningParameters) error
    }
    
    class MiningOrchestrator {
        <<interface>>
        +ExecuteMiningRound(ctx context.Context) error
        +ProduceBlockFromTemplate(candidateBlock CandidateBlock) (Block, error)
        +SubmitBlockToAggregator(block Block) error
        +WaitForConfirmationOrTriggerSync(blockHash []byte) error
        +HandleMiningError(err error) error
    }
    
    class MiningOrchestratorImpl {
        -blockchainBridge BlockchainBridge
        -powComputeHandler PoWComputeHandler
        -aggregatorDelegate AggregatorDelegate
        -heightGateManager HeightGateManager
        -confirmationTracker ConfirmationTracker
        +ExecuteMiningRound(ctx context.Context) error
        +ProduceBlockFromTemplate(candidateBlock CandidateBlock) (Block, error)
        +SubmitBlockToAggregator(block Block) error
        +WaitForConfirmationOrTriggerSync(blockHash []byte) error
        +HandleMiningError(err error) error
    }
    
    class PoWComputeHandler {
        <<interface>>
        +StartPoWEngine(ctx context.Context, params MiningParameters) error
        +StopPoWEngine(ctx context.Context) error
        +ProduceBlockFromTemplate(ctx context.Context, candidateBlock CandidateBlock) (Block, error)
        +IsPoWEngineRunning() bool
    }
    
    class PoWComputeHandlerImpl {
        -powEngine crypto.POWEngine
        -config PoWConfig
        -logger log.Logger
        +StartPoWEngine(ctx context.Context, params MiningParameters) error
        +StopPoWEngine(ctx context.Context) error
        +ProduceBlockFromTemplate(ctx context.Context, candidateBlock CandidateBlock) (Block, error)
        +IsPoWEngineRunning() bool
    }
    
    class HeightGateManager {
        <<interface>>
        +GetLastProcessedHeight() uint64
        +UpdateLastProcessedHeight(height uint64)
        +WaitForHeightUpdate(ctx context.Context, targetHeight uint64) error
        +IsHeightGateOpen(targetHeight uint64) bool
    }
    
    class HeightGateManagerImpl {
        -lastProcessedHeight uint64
        -heightUpdateChan chan uint64
        -mu sync.RWMutex
        -logger log.Logger
        +GetLastProcessedHeight() uint64
        +UpdateLastProcessedHeight(height uint64)
        +WaitForHeightUpdate(ctx context.Context, targetHeight uint64) error
        +IsHeightGateOpen(targetHeight uint64) bool
    }
    
    class AggregatorDelegate {
        <<interface>>
        +ProcessMinedBlock(ctx context.Context, block Block) error
        +NotifyMiningSuccess(ctx context.Context, block Block) error
    }
    
    class AggregatorDelegateImpl {
        -aggregatorInterface interfaces.MinerInternalInterface
        -logger log.Logger
        +ProcessMinedBlock(ctx context.Context, block Block) error
        +NotifyMiningSuccess(ctx context.Context, block Block) error
    }
    
    MinerService <|-- MinerController : implements
    MiningOrchestrator <|-- MiningOrchestratorImpl : implements
    PoWComputeHandler <|-- PoWComputeHandlerImpl : implements
    HeightGateManager <|-- HeightGateManagerImpl : implements
    AggregatorDelegate <|-- AggregatorDelegateImpl : implements
    
    MinerController --> MiningOrchestrator : uses
    MinerController --> PoWComputeHandler : uses
    MinerController --> HeightGateManager : uses
    MinerController --> AggregatorDelegate : uses
    MiningOrchestratorImpl --> PoWComputeHandler : uses
    MiningOrchestratorImpl --> AggregatorDelegate : uses
    MiningOrchestratorImpl --> HeightGateManager : uses
```

**å®ç°è¦ç‚¹ï¼š**
- **æ¥å£å¥‘çº¦**ï¼šä¸¥æ ¼éµå¾ªå…¬å…±æ¥å£çš„æ–¹æ³•ç­¾åå’Œè¯­ä¹‰ï¼Œç¡®ä¿å¤–éƒ¨è°ƒç”¨å…¼å®¹æ€§
- **é”™è¯¯å¤„ç†**ï¼šæ ‡å‡†åŒ–çš„é”™è¯¯è¿”å›å’Œå¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯  
- **æ—¥å¿—è®°å½•**ï¼šå®Œå–„çš„æ“ä½œæ—¥å¿—å’Œæ€§èƒ½æŒ‡æ ‡è®°å½•ï¼Œæ”¯æŒè°ƒè¯•å’Œç›‘æ§
- **æµ‹è¯•è¦†ç›–**ï¼šæ¯ä¸ªæ¥å£æ–¹æ³•éƒ½æœ‰å¯¹åº”çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œç¡®ä¿è´¨é‡

## ğŸ—ï¸ **å…³é”®ä¾èµ–æ¥å£**

ã€å¤–éƒ¨æœåŠ¡ä¾èµ–ã€‘
- **åŒºå—é“¾æœåŠ¡** (`blockchain.BlockService`): å€™é€‰åŒºå—åˆ›å»ºã€é“¾ä¿¡æ¯æŸ¥è¯¢
- **PoWå¼•æ“** (`crypto.POWEngine`): å·¥ä½œé‡è¯æ˜è®¡ç®—ã€Nonceæœç´¢
- **ç½‘ç»œæœåŠ¡** (`network.Network`): åè®®è°ƒç”¨ã€æ¶ˆæ¯ä¼ è¾“
- **èšåˆå™¨æ¥å£** (`interfaces.MinerInternalInterface`): åŒºå—å§”æ‰˜å¤„ç†ã€ç»“æœé€šçŸ¥
- **äº‹ä»¶ç³»ç»Ÿ** (`event.EventBus`): äº‹ä»¶è®¢é˜…ã€çŠ¶æ€åŒæ­¥
- **å­˜å‚¨æœåŠ¡** (`repository.*`): åŒºå—æ•°æ®è¯»å–ã€ç´¢å¼•æŸ¥è¯¢

ã€å†…éƒ¨æ¥å£åä½œã€‘
- **è·¨ç»„ä»¶æ¥å£**ï¼šæŒ–çŸ¿ç¼–æ’ã€äº‹ä»¶å¤„ç†ã€é«˜åº¦é—¨é—¸ç®¡ç†
- **ä¸“ç”¨å§”æ‰˜æ¥å£**ï¼šPoWè®¡ç®—ã€èšåˆå™¨å§”æ‰˜ã€åŒºå—é“¾æ¡¥æ¥ã€çŠ¶æ€ç®¡ç†ã€åŒæ­¥å§”æ‰˜

## ğŸš€ **ä½¿ç”¨ç¤ºä¾‹**

ã€åŸºç¡€æŒ–çŸ¿æ“ä½œã€‘
```go
// å¯åŠ¨æŒ–çŸ¿
minerAddress := []byte{0x12, 0x34, ..., 0xab} // 20å­—èŠ‚çŸ¿å·¥åœ°å€
err := minerService.StartMining(ctx, minerAddress)
if err != nil {
    log.Errorf("å¯åŠ¨æŒ–çŸ¿å¤±è´¥: %v", err)
    return
}

// æŸ¥è¯¢æŒ–çŸ¿çŠ¶æ€
isRunning, address, err := minerService.GetMiningStatus(ctx)
if err != nil {
    log.Errorf("æŸ¥è¯¢çŠ¶æ€å¤±è´¥: %v", err)
    return
}
log.Infof("æŒ–çŸ¿çŠ¶æ€: running=%v, address=%x", isRunning, address)

// åœæ­¢æŒ–çŸ¿
err = minerService.StopMining(ctx)
if err != nil {
    log.Errorf("åœæ­¢æŒ–çŸ¿å¤±è´¥: %v", err)
    return
}
```

## ğŸ¯ **è´¨é‡ä¿è¯**

ã€ä»£ç è´¨é‡æ ‡å‡†ã€‘
- **æ¥å£è§„èŒƒ**ï¼šä¸¥æ ¼å®ç° `consensus.MinerService` å…¬å…±æ¥å£
- **çº¿ç¨‹å®‰å…¨**ï¼šæ‰€æœ‰çŠ¶æ€ç®¡ç†æ“ä½œéƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯åˆ†ç±»ã€å¤„ç†å’Œæ¢å¤æœºåˆ¶
- **èµ„æºç®¡ç†**ï¼šæ­£ç¡®çš„èµ„æºåˆ›å»ºã€ä½¿ç”¨å’Œæ¸…ç†
- **é…ç½®é©±åŠ¨**ï¼šæ‰€æœ‰å…³é”®å‚æ•°å¯é…ç½®ï¼Œæ”¯æŒçƒ­æ›´æ–°

ã€æµ‹è¯•è¦†ç›–ã€‘
- **å•å…ƒæµ‹è¯•**ï¼šå„å­æ¨¡å—çš„ç‹¬ç«‹åŠŸèƒ½æµ‹è¯•
- **é›†æˆæµ‹è¯•**ï¼šå®Œæ•´æŒ–çŸ¿æµç¨‹çš„ç«¯åˆ°ç«¯æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**ï¼šPoWè®¡ç®—ã€èšåˆå™¨å§”æ‰˜çš„æ€§èƒ½åŸºå‡†æµ‹è¯•
- **å‹åŠ›æµ‹è¯•**ï¼šé«˜è´Ÿè½½ä¸‹çš„ç¨³å®šæ€§å’Œèµ„æºä½¿ç”¨æµ‹è¯•

---

## ğŸš€ **åç»­æ‰©å±•è§„åˆ’**

ã€æ¨¡å—æ¼”è¿›æ–¹å‘ã€‘

1. **PoWç®—æ³•ä¼˜åŒ–å¢å¼º**
   - æ”¯æŒæ›´å¤šPoWç®—æ³•ï¼ˆEthashã€Blake2bç­‰ï¼‰
   - å®ç°è‡ªé€‚åº”éš¾åº¦è°ƒæ•´ç®—æ³•
   - æ·»åŠ GPUåŠ é€Ÿè®¡ç®—æ”¯æŒ

2. **å§”æ‰˜æ¥å£æ€§èƒ½æå‡**
   - ä¼˜åŒ–èšåˆå™¨å§”æ‰˜è°ƒç”¨æ€§èƒ½
   - å®ç°æ¥å£è°ƒç”¨è¿æ¥æ± å¤ç”¨
   - æ·»åŠ å§”æ‰˜è°ƒç”¨ç›‘æ§å’Œç»Ÿè®¡

3. **æŒ–çŸ¿ç­–ç•¥æ™ºèƒ½åŒ–**
   - æ”¯æŒåŸºäºæ”¶ç›Šçš„æ™ºèƒ½æŒ–çŸ¿ç­–ç•¥
   - å®ç°å¤šæ± åˆ‡æ¢å’Œè´Ÿè½½å‡è¡¡
   - æ·»åŠ æœºå™¨å­¦ä¹ è¾…åŠ©çš„å‚æ•°ä¼˜åŒ–

4. **é«˜å¯ç”¨æ€§å’Œå®¹é”™èƒ½åŠ›**
   - å®ç°çŸ¿å·¥é›†ç¾¤å’Œæ•…éšœè½¬ç§»
   - æ·»åŠ åˆ†å¸ƒå¼æŒ–çŸ¿åè°ƒæœºåˆ¶
   - å¢å¼ºç½‘ç»œåˆ†åŒºå’Œå¼‚å¸¸æ¢å¤èƒ½åŠ›

---

## ğŸ“‹ **å¼€å‘æŒ‡å—**

ã€å­æ¨¡å—å¼€å‘è§„èŒƒã€‘

1. **æ–°å»ºå­æ¨¡å—æ­¥éª¤**ï¼š
   - åœ¨interfaces/ä¸­å®šä¹‰çŸ¿å·¥å†…éƒ¨æ¥å£
   - åˆ›å»ºå­æ¨¡å—ç›®å½•å’ŒåŸºç¡€æ–‡ä»¶ç»“æ„
   - å®ç°æ ¸å¿ƒæŒ–çŸ¿ä¸šåŠ¡é€»è¾‘
   - æ·»åŠ å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
   - æ›´æ–°fxä¾èµ–æ³¨å…¥é…ç½®

2. **ä»£ç è´¨é‡è¦æ±‚**ï¼š
   - éµå¾ªGoè¯­è¨€æœ€ä½³å®è·µå’Œç¼–ç è§„èŒƒ
   - 100%çš„æ¥å£æ–¹æ³•æµ‹è¯•è¦†ç›–ç‡
   - å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶å’Œè¾¹ç•Œæ¡ä»¶å¤„ç†
   - æ¸…æ™°çš„ä»£ç æ³¨é‡Šå’ŒAPIæ–‡æ¡£

3. **æ€§èƒ½è¦æ±‚**ï¼š
   - å…³é”®æŒ–çŸ¿è·¯å¾„å»¶è¿ŸæŒ‡æ ‡è¾¾æ ‡
   - å†…å­˜ä½¿ç”¨åˆç†ï¼Œé¿å…å†…å­˜æ³„æ¼
   - å¹¶å‘å®‰å…¨çš„æŒ–çŸ¿æ“ä½œå’ŒçŠ¶æ€è®¿é—®
   - åˆç†çš„èµ„æºæ¸…ç†å’Œå›æ”¶æœºåˆ¶

ã€å‚è€ƒæ–‡æ¡£ã€‘
- [æŒ–çŸ¿ç¼–æ’å™¨å®ç°](mining_orchestrator/README.md)
- [PoWè®¡ç®—å¤„ç†å™¨å®ç°](pow_compute_handler/README.md)
- [èšåˆå™¨å§”æ‰˜å®ç°](aggregator_delegate/README.md)
- [WESæ¶æ„è®¾è®¡æ–‡æ¡£](../../../../docs/architecture/)

---

> ğŸ”„ **ç»´æŠ¤æŒ‡å—**ï¼šæœ¬æ–‡æ¡£åº”éšç€æ¨¡å—åŠŸèƒ½çš„æ¼”è¿›åŠæ—¶æ›´æ–°ï¼Œç¡®ä¿æ–‡æ¡£ä¸ä»£ç å®ç°çš„ä¸€è‡´æ€§ã€‚å»ºè®®åœ¨æ¯æ¬¡é‡å¤§åŠŸèƒ½å˜æ›´åæ›´æ–°ç›¸åº”ç« èŠ‚ã€‚
