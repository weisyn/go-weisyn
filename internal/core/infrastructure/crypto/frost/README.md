# frost - FROSTå°è£…å±‚å®ç°å­åŸŸ

---

## ğŸ“Œ ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**ï¼š1.0
- **çŠ¶æ€**ï¼šstable
- **æœ€åæ›´æ–°**ï¼š2025-11-15
- **æœ€åå®¡æ ¸**ï¼š2025-11-15
- **æ‰€æœ‰è€…**ï¼šå¯†ç å­¦åŸºç¡€è®¾æ–½ç»„
- **é€‚ç”¨èŒƒå›´**ï¼šWES é¡¹ç›® FROST é—¨é™ç­¾åå°è£…å±‚å®ç°

---

## ğŸ¯ å­åŸŸå®šä½

**è·¯å¾„**ï¼š`internal/core/infrastructure/crypto/frost/`

**æ‰€å±ç»„ä»¶**ï¼š`crypto`

**æ ¸å¿ƒèŒè´£**ï¼šå°è£… FROST é—¨é™ç­¾åå®ç°ï¼Œéš”ç¦»åŒºå—é“¾ç‰¹å®šä¾èµ–ï¼ˆdcrdï¼‰ï¼Œæä¾›çº¯å¯†ç å­¦æ¥å£

**åœ¨ç»„ä»¶ä¸­çš„è§’è‰²**ï¼š
- å°è£…å±‚ï¼šéš”ç¦» `dcrd/dcrec/secp256k1/v4` ä¾èµ–
- å¯¹å¤–æä¾›çº¯å¯†ç å­¦æ¥å£ï¼Œä¸æš´éœ²åŒºå—é“¾æ¦‚å¿µ
- è¢« `threshold` å­åŸŸä½¿ç”¨ï¼ˆthreshold/frost.go åŒ…è£…å™¨ï¼‰

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åœ¨ç»„ä»¶ä¸­çš„ä½ç½®

> **è¯´æ˜**ï¼šå±•ç¤ºæ­¤å­åŸŸåœ¨ç»„ä»¶å†…éƒ¨çš„ä½ç½®å’Œåä½œå…³ç³»

```mermaid
graph TB
    subgraph "ç»„ä»¶ internal/core/infrastructure/crypto"
        subgraph "æœ¬å­åŸŸ frost"
            THIS["frost/<br/>FROSTå°è£…å±‚"]
            
            VERIFIER["verifier.go<br/>FROSTéªŒè¯å™¨"]
            
            THIS --> VERIFIER
        end
        
        subgraph "åä½œçš„å­åŸŸ"
            SECP["secp256k1/<br/>secp256k1å°è£…"]
            THRESHOLD["threshold/<br/>é—¨é™ç­¾å"]
        end
        
        subgraph "å°è£…çš„å¤–éƒ¨åº“"
            DCRD["dcrd/dcrec/secp256k1/v4<br/>å¤–éƒ¨åº“ï¼ˆéš”ç¦»ï¼‰"]
        end
    end
    
    THIS --> SECP
    THIS -.å†…éƒ¨ä½¿ç”¨.-> DCRD
    THRESHOLD --> THIS
    
    style THIS fill:#FFD700
```

**ä½ç½®è¯´æ˜**ï¼š

| å…³ç³»ç±»å‹ | ç›®æ ‡ | å…³ç³»è¯´æ˜ |
|---------|------|---------|
| **ä¾èµ–** | secp256k1/ | ä½¿ç”¨ secp256k1 å°è£…å±‚è¿›è¡Œæ›²çº¿è¿ç®— |
| **å°è£…** | dcrd/dcrec/secp256k1/v4 | å°è£…dcrdåº“ï¼Œä»…å†…éƒ¨ä½¿ç”¨ |
| **è¢«ä¾èµ–** | threshold/ | threshold/frost.go ä½¿ç”¨æ­¤å°è£…å±‚ |

---

### å†…éƒ¨ç»„ç»‡

> **è¯´æ˜**ï¼šå±•ç¤ºæ­¤å­åŸŸå†…éƒ¨çš„æ–‡ä»¶ç»„ç»‡å’Œç±»å‹å…³ç³»

```mermaid
graph TB
    subgraph "frost/ ç›®å½•ç»“æ„"
        VERIFIER["verifier.go<br/>FROSTéªŒè¯å™¨"]
    end
    
    VERIFIER -.å°è£….-> DCRD_LIB["dcrdåº“<br/>ï¼ˆéš”ç¦»ï¼‰"]
    
    style VERIFIER fill:#FFD700
```

---

## ğŸ“ ç›®å½•ç»“æ„

```
internal/core/infrastructure/crypto/frost/
â”œâ”€â”€ README.md                    # æœ¬æ–‡æ¡£
â””â”€â”€ verifier.go                  # FROSTéªŒè¯å™¨å®ç°ï¼ˆå°è£…dcrdï¼‰
```

---

## ğŸ”§ æ ¸å¿ƒå®ç°

### å®ç°æ–‡ä»¶ï¼š`verifier.go`

**æ ¸å¿ƒç±»å‹**ï¼š`FROSTVerifier`

**èŒè´£**ï¼šå®ç° `ThresholdSignatureVerifier` æ¥å£ï¼Œå°è£…dcrdçš„FROSTå®ç°

**å…³é”®å­—æ®µ**ï¼š

```go
type FROSTVerifier struct{}
```

**å…³é”®æ–¹æ³•**ï¼š

| æ–¹æ³•å | èŒè´£ | å¯è§æ€§ | å¤‡æ³¨ |
|-------|------|-------|-----|
| `NewFROSTVerifier()` | æ„é€ å‡½æ•° | Public | ç”¨äºä¾èµ–æ³¨å…¥ |
| `VerifyThresholdSignature()` | é—¨é™ç­¾åéªŒè¯ | Public | å®ç°æ¥å£æ–¹æ³• |
| `VerifySignatureShare()` | ç­¾åä»½é¢éªŒè¯ | Public | å®ç°æ¥å£æ–¹æ³• |

**å®ç°è¦ç‚¹**ï¼š
- å°è£… `dcrd/dcrec/secp256k1/v4`ï¼Œä»…åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨
- å¯¹å¤–ä¸æš´éœ²dcrdç±»å‹ï¼Œåªæä¾›å¯†ç å­¦æ“ä½œæ¥å£
- æ”¯æŒ Ed25519 å’Œ secp256k1 ä¸¤ç§æ›²çº¿

---

## ğŸ”— åä½œå…³ç³»

### ä¾èµ–çš„æ¥å£

| æ¥å£ | æ¥æº | ç”¨é€” |
|-----|------|-----|
| `ThresholdSignatureVerifier` | `pkg/interfaces/infrastructure/crypto/threshold.go` | å®ç°çš„æ¥å£ |

### å†…éƒ¨ä¾èµ–ï¼ˆå°è£…éš”ç¦»ï¼‰

| åº“ | ç”¨é€” | å°è£…æ–¹å¼ |
|-----|------|---------|
| `dcrd/dcrec/secp256k1/v4` | secp256k1 æ›²çº¿è¿ç®— | ä»…åœ¨æ¨¡å—å†…ä½¿ç”¨ï¼Œä¸æš´éœ²ç»™å¤–éƒ¨ |

---

### è¢«ä¾èµ–å…³ç³»

**è¢«ä»¥ä¸‹å­åŸŸä½¿ç”¨**ï¼š
- `threshold/frost.go` - ä½¿ç”¨ `frost.NewFROSTVerifier()` åˆ›å»ºéªŒè¯å™¨

**ç¤ºä¾‹**ï¼š

```go
// åœ¨ threshold/frost.go ä¸­ä½¿ç”¨
import "github.com/weisyn/v1/internal/core/infrastructure/crypto/frost"

type FROSTThresholdVerifier struct {
    frostVerifier *frost.FROSTVerifier
}

func NewFROSTThresholdVerifier() *FROSTThresholdVerifier {
    return &FROSTThresholdVerifier{
        frostVerifier: frost.NewFROSTVerifier(),
    }
}
```

---

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•è¦†ç›–

| æµ‹è¯•ç±»å‹ | æ–‡ä»¶ | è¦†ç›–ç‡ç›®æ ‡ | å½“å‰çŠ¶æ€ |
|---------|------|-----------|---------|
| å•å…ƒæµ‹è¯• | ï¼ˆå¾…æ·»åŠ ï¼‰ | â‰¥ 80% | å¾…å®ç° |

---

## ğŸ“Š å…³é”®è®¾è®¡å†³ç­–

### å†³ç­– 1ï¼šå°è£… dcrd è€Œéç›´æ¥ä½¿ç”¨

**é—®é¢˜**ï¼šdcrd æ˜¯åŒºå—é“¾ç‰¹å®šåº“ï¼Œæ˜¯å¦åº”è¯¥ç›´æ¥ä¾èµ–ï¼Ÿ

**æ–¹æ¡ˆ**ï¼šåˆ›å»ºå°è£…å±‚ï¼Œéš”ç¦» dcrd ä¾èµ–

**ç†ç”±**ï¼š
- dcrd æ¥è‡ª Decred åŒºå—é“¾é¡¹ç›®ï¼ŒåŒ…å«åŒºå—é“¾ç‰¹å®šæ¦‚å¿µ
- å°è£…å±‚åªä½¿ç”¨å…¶æ¤­åœ†æ›²çº¿æ•°å­¦è¿ç®—ï¼Œéš”ç¦»åŒºå—é“¾æ¦‚å¿µ
- ä¾¿äºæœªæ¥æ›¿æ¢åº•å±‚å®ç°

**æƒè¡¡**ï¼š
- âœ… ä¼˜ç‚¹ï¼šéš”ç¦»ä¾èµ–ï¼Œä¿æŒæ¥å£ç¨³å®š
- âš ï¸ ç¼ºç‚¹ï¼šå¢åŠ ä¸€å±‚æŠ½è±¡

### å†³ç­– 2ï¼šæ”¯æŒå¤šç§æ›²çº¿

**é—®é¢˜**ï¼šæ˜¯å¦åªæ”¯æŒ secp256k1ï¼Ÿ

**æ–¹æ¡ˆ**ï¼šæ”¯æŒ Ed25519 å’Œ secp256k1 ä¸¤ç§æ›²çº¿

**ç†ç”±**ï¼š
- Ed25519 ä½¿ç”¨æ ‡å‡†åº“ï¼Œæ— éœ€å°è£…
- secp256k1 ä½¿ç”¨å°è£…å±‚ï¼Œç»Ÿä¸€æ¥å£
- æé«˜çµæ´»æ€§ï¼Œæ”¯æŒä¸åŒåœºæ™¯

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç»„ä»¶æ€»è§ˆ](../README.md)
- [thresholdå­åŸŸ](../threshold/README.md)
- [é¡¶å±‚è®¾è®¡](../../../../docs/system/designs/crypto/design.md)
- [æ¥å£ä¸å®ç°çš„ç»„ç»‡æ¶æ„](../../../../docs/system/standards/principles/code-organization.md)

---

## ğŸ“ å˜æ›´å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ | ä½œè€… |
|-----|------|---------|------|
| 1.0 | 2025-11-15 | åˆå§‹ç‰ˆæœ¬ï¼Œå°è£…dcrdä¾èµ– | å¯†ç å­¦åŸºç¡€è®¾æ–½ç»„ |

---

## ğŸš§ å¾…åŠäº‹é¡¹

- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] å®Œæ•´FROSTå®ç°ï¼ˆå½“å‰ä¸ºç®€åŒ–ç‰ˆï¼‰

---

## ğŸ“ å‚è€ƒæ ‡å‡†

- **RFC 9483**: FROST (Flexible Round-Optimized Schnorr Threshold Signatures)
- **æ”¯æŒçš„æ›²çº¿**ï¼šEd25519ã€secp256k1
