# åŸºç¡€è®¾æ–½æ ¸å¿ƒæ¨¡å—ï¼ˆinternal/core/infrastructureï¼‰

ã€æ¨¡å—å®šä½ã€‘
ã€€ã€€æœ¬æ¨¡å—æ˜¯WESç³»ç»Ÿä¸­åŸºç¡€è®¾æ–½æœåŠ¡çš„æ ¸å¿ƒå®ç°å±‚ï¼Œè´Ÿè´£ä¸ºæ•´ä¸ªåŒºå—é“¾ç³»ç»Ÿæä¾›å¯†ç å­¦ã€å­˜å‚¨ã€æ—¥å¿—ã€äº‹ä»¶ã€èŠ‚ç‚¹ç®¡ç†ã€æ–‡ä»¶æ“ä½œç­‰åº•å±‚åŸºç¡€èƒ½åŠ›ã€‚é€šè¿‡æ¨¡å—åŒ–çš„æ¶æ„è®¾è®¡å’Œç»Ÿä¸€çš„æ¥å£æ ‡å‡†ï¼Œæä¾›é«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„åŸºç¡€è®¾æ–½æœåŠ¡ï¼Œæ”¯æ’‘ä¸Šå±‚ä¸šåŠ¡æ¨¡å—çš„æ ¸å¿ƒéœ€æ±‚ï¼Œç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šè¿è¡Œå’Œå®‰å…¨ä¿éšœã€‚

ã€è®¾è®¡åŸåˆ™ã€‘
- **ç»Ÿä¸€æ¥å£æ ‡å‡†**ï¼šä¸¥æ ¼å®ç°pkg/interfaces/infrastructureå®šä¹‰çš„æ‰€æœ‰å…¬å…±æ¥å£
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæŒ‰åŠŸèƒ½åŸŸç»„ç»‡å­æ¨¡å—ï¼Œç¡®ä¿é«˜å†…èšä½è€¦åˆ
- **å®‰å…¨ä¼˜å…ˆ**ï¼šå¯†ç å­¦å’Œå®‰å…¨æœºåˆ¶è´¯ç©¿æ‰€æœ‰åŸºç¡€è®¾æ–½ç»„ä»¶
- **é«˜æ€§èƒ½ä¼˜åŒ–**ï¼šé‡‡ç”¨ç¼“å­˜ã€è¿æ¥æ± ã€å¼‚æ­¥å¤„ç†ç­‰æŠ€æœ¯æå‡æ€§èƒ½
- **ä¾èµ–æ³¨å…¥é©±åŠ¨**ï¼šéµå¾ªfxæ¡†æ¶ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥å®ç°ç»„ä»¶åä½œ
- **å¯è§‚æµ‹æ€§ä¿éšœ**ï¼šå®Œå–„çš„æ—¥å¿—ã€äº‹ä»¶å’Œç›‘æ§æœºåˆ¶

ã€æ ¸å¿ƒèŒè´£ã€‘
1. **å¯†ç å­¦æœåŠ¡**ï¼šæä¾›åœ°å€ã€åŠ å¯†ã€å“ˆå¸Œã€å¯†é’¥ã€Merkleæ ‘ã€PoWã€ç­¾åç­‰å¯†ç å­¦èƒ½åŠ›
2. **å­˜å‚¨æœåŠ¡**ï¼šæä¾›BadgerDBã€å†…å­˜å­˜å‚¨ã€æ–‡ä»¶å­˜å‚¨ã€ä¸´æ—¶å­˜å‚¨ç­‰å¤šç§å­˜å‚¨åç«¯
3. **æ—¥å¿—æœåŠ¡**ï¼šæä¾›ç»Ÿä¸€çš„ç»“æ„åŒ–æ—¥å¿—è®°å½•å’Œç®¡ç†èƒ½åŠ›
4. **äº‹ä»¶æœåŠ¡**ï¼šæä¾›äº‹ä»¶æ€»çº¿ã€è·¯ç”±ã€æ³¨å†Œã€éªŒè¯ç­‰äº‹ä»¶é©±åŠ¨æ¶æ„æ”¯æŒ
5. **èŠ‚ç‚¹æœåŠ¡**ï¼šæä¾›P2Pç½‘ç»œèŠ‚ç‚¹çš„æ„å»ºã€è¿æ¥ã€å‘ç°ç­‰ç½‘ç»œåŸºç¡€èƒ½åŠ›
6. **æ–‡ä»¶æœåŠ¡**ï¼šæä¾›æ–‡ä»¶ç³»ç»Ÿæ“ä½œå’Œç®¡ç†çš„æŠ½è±¡æ¥å£

ã€å®ç°æ¶æ„ã€‘

ã€€ã€€é‡‡ç”¨**åˆ†å±‚æ¨¡å—åŒ–**çš„å…­å±‚å®ç°æ¶æ„ï¼Œç¡®ä¿åŸºç¡€è®¾æ–½æœåŠ¡çš„æœ‰åºç»„ç»‡å’Œé«˜æ•ˆåä½œã€‚

```mermaid
graph TB
    subgraph "åŸºç¡€è®¾æ–½æ ¸å¿ƒæ¶æ„"
        subgraph "å¯†ç å­¦æœåŠ¡å±‚"
            CRYPTO_ADDR["åœ°å€ç®¡ç†<br/>ğŸ  Address Management"]
            CRYPTO_ENC["åŠ å¯†æœåŠ¡<br/>ğŸ” Encryption Service"]
            CRYPTO_HASH["å“ˆå¸Œè®¡ç®—<br/>ğŸ”¢ Hash Computation"]
            CRYPTO_KEY["å¯†é’¥ç®¡ç†<br/>ğŸ”‘ Key Management"]
            CRYPTO_MERKLE["Merkleæ ‘<br/>ğŸŒ³ Merkle Tree"]
            CRYPTO_POW["å·¥ä½œé‡è¯æ˜<br/>â›ï¸ Proof of Work"]
            CRYPTO_SIG["æ•°å­—ç­¾å<br/>âœï¸ Digital Signature"]
        end
        
        subgraph "å­˜å‚¨æœåŠ¡å±‚"
            STORAGE_BADGER["BadgerDBå­˜å‚¨<br/>ğŸ—„ï¸ BadgerDB Store"]
            STORAGE_MEMORY["å†…å­˜å­˜å‚¨<br/>ğŸ§  Memory Store"]
            STORAGE_FILE["æ–‡ä»¶å­˜å‚¨<br/>ğŸ“ File Store"]
            STORAGE_TEMP["ä¸´æ—¶å­˜å‚¨<br/>â° Temp Store"]
        end
        
        subgraph "é€šä¿¡æœåŠ¡å±‚"
            EVENT_BUS["äº‹ä»¶æ€»çº¿<br/>ğŸ“¡ Event Bus"]
            EVENT_ROUTER["äº‹ä»¶è·¯ç”±<br/>ğŸ”€ Event Router"]
            EVENT_REGISTRY["äº‹ä»¶æ³¨å†Œ<br/>ğŸ“‹ Event Registry"]
        end
        
        subgraph "ç½‘ç»œæœåŠ¡å±‚"
            NODE_HOST["P2Pä¸»æœº<br/>ğŸŒ P2P Host"]
            NODE_DISCOVERY["èŠ‚ç‚¹å‘ç°<br/>ğŸ” Node Discovery"]
            NODE_CONNECTIVITY["è¿æ¥ç®¡ç†<br/>ğŸ”— Connectivity"]
        end
        
        subgraph "ç›‘æ§æœåŠ¡å±‚"
            LOG_SERVICE["æ—¥å¿—æœåŠ¡<br/>ğŸ“ Logging Service"]
            KADEMLIA["Kademlia DHT<br/>ğŸ•¸ï¸ Kademlia DHT"]
        end
        
        subgraph "æ–‡ä»¶æœåŠ¡å±‚"
            FILE_OPS["æ–‡ä»¶æ“ä½œ<br/>ğŸ“‚ File Operations"]
        end
    end
    
    %% æœåŠ¡å±‚é—´ä¾èµ–å…³ç³»
    CRYPTO_HASH --> CRYPTO_MERKLE
    CRYPTO_KEY --> CRYPTO_SIG
    CRYPTO_KEY --> CRYPTO_ADDR
    
    STORAGE_BADGER --> LOG_SERVICE
    STORAGE_MEMORY --> EVENT_BUS
    
    NODE_HOST --> NODE_DISCOVERY
    NODE_DISCOVERY --> NODE_CONNECTIVITY
    NODE_HOST --> KADEMLIA
    
    EVENT_BUS --> EVENT_ROUTER
    EVENT_ROUTER --> EVENT_REGISTRY
    
    %% æ ·å¼è®¾ç½®
    style CRYPTO_ADDR fill:#E8F5E8
    style CRYPTO_ENC fill:#FFF3E0
    style CRYPTO_HASH fill:#E3F2FD
    style STORAGE_BADGER fill:#F3E5F5
    style EVENT_BUS fill:#FFF8E1
    style NODE_HOST fill:#E0F2F1
```

**æ¶æ„å±‚æ¬¡è¯´æ˜ï¼š**

1. **å¯†ç å­¦æœåŠ¡å±‚**ï¼šä¸ºæ•´ä¸ªç³»ç»Ÿæä¾›å®Œæ•´çš„å¯†ç å­¦åŸºç¡€èƒ½åŠ›
   - åœ°å€ç”Ÿæˆå’ŒéªŒè¯
   - æ•°æ®åŠ å¯†å’Œè§£å¯†
   - å“ˆå¸Œè®¡ç®—å’ŒéªŒè¯

2. **å­˜å‚¨æœåŠ¡å±‚**ï¼šæä¾›å¤šç§å­˜å‚¨åç«¯çš„ç»Ÿä¸€æŠ½è±¡
   - æŒä¹…åŒ–å­˜å‚¨ï¼ˆBadgerDBï¼‰
   - é«˜é€Ÿç¼“å­˜ï¼ˆå†…å­˜å­˜å‚¨ï¼‰
   - æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨

3. **é€šä¿¡æœåŠ¡å±‚**ï¼šæ”¯æŒäº‹ä»¶é©±åŠ¨æ¶æ„çš„æ ¸å¿ƒç»„ä»¶
   - å¼‚æ­¥äº‹ä»¶ä¼ é€’
   - æ™ºèƒ½äº‹ä»¶è·¯ç”±
   - åŠ¨æ€äº‹ä»¶æ³¨å†Œ

4. **ç½‘ç»œæœåŠ¡å±‚**ï¼šP2Pç½‘ç»œçš„åŸºç¡€è®¾æ–½æ”¯æŒ
   - ç½‘ç»œä¸»æœºæ„å»º
   - èŠ‚ç‚¹å‘ç°æœºåˆ¶
   - è¿æ¥ç®¡ç†ä¼˜åŒ–

5. **ç›‘æ§æœåŠ¡å±‚**ï¼šç³»ç»Ÿå¯è§‚æµ‹æ€§çš„åŸºç¡€æ”¯æ’‘
   - ç»“æ„åŒ–æ—¥å¿—è®°å½•
   - åˆ†å¸ƒå¼å“ˆå¸Œè¡¨

6. **æ–‡ä»¶æœåŠ¡å±‚**ï¼šæ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„æŠ½è±¡æ¥å£
   - è·¨å¹³å°æ–‡ä»¶æ“ä½œ
   - æ–‡ä»¶æƒé™ç®¡ç†

---

## ğŸ“ **æ¨¡å—ç»„ç»‡ç»“æ„**

ã€å†…éƒ¨æ¨¡å—æ¶æ„ã€‘

```
internal/core/infrastructure/
â”œâ”€â”€ ğŸ” crypto/                 # å¯†ç å­¦æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ address/               # åœ°å€ç”Ÿæˆå’ŒéªŒè¯
â”‚   â”œâ”€â”€ encryption/            # æ•°æ®åŠ å¯†è§£å¯†
â”‚   â”œâ”€â”€ hash/                  # å“ˆå¸Œè®¡ç®—æœåŠ¡
â”‚   â”œâ”€â”€ key/                   # å¯†é’¥ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ merkle/                # Merkleæ ‘å®ç°
â”‚   â”œâ”€â”€ pow/                   # å·¥ä½œé‡è¯æ˜
â”‚   â”œâ”€â”€ signature/             # æ•°å­—ç­¾åæœåŠ¡
â”‚   â””â”€â”€ module.go              # å¯†ç å­¦æ¨¡å—è£…é…
â”œâ”€â”€ ğŸ—„ï¸ storage/                # å­˜å‚¨æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ badger/                # BadgerDBå­˜å‚¨åç«¯
â”‚   â”œâ”€â”€ memory/                # å†…å­˜å­˜å‚¨åç«¯
â”‚   â”œâ”€â”€ file/                  # æ–‡ä»¶å­˜å‚¨åç«¯
â”‚   â”œâ”€â”€ tempstore/             # ä¸´æ—¶å­˜å‚¨åç«¯
â”‚   â”œâ”€â”€ provider.go            # å­˜å‚¨æä¾›è€…
â”‚   â””â”€â”€ module.go              # å­˜å‚¨æ¨¡å—è£…é…
â”œâ”€â”€ ğŸ“ log/                    # æ—¥å¿—æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ log.go                 # æ—¥å¿—æ¥å£å®ç°
â”‚   â”œâ”€â”€ module.go              # æ—¥å¿—æ¨¡å—è£…é…
â”‚   â””â”€â”€ example.go             # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ ğŸ“¡ event/                  # äº‹ä»¶æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ eventbus.go            # äº‹ä»¶æ€»çº¿æ ¸å¿ƒ
â”‚   â”œâ”€â”€ router.go              # äº‹ä»¶è·¯ç”±å™¨
â”‚   â”œâ”€â”€ registry.go            # äº‹ä»¶æ³¨å†Œå™¨
â”‚   â”œâ”€â”€ coordinator.go         # äº‹ä»¶åè°ƒå™¨
â”‚   â”œâ”€â”€ standards.go           # äº‹ä»¶æ ‡å‡†å®šä¹‰
â”‚   â”œâ”€â”€ validator.go           # äº‹ä»¶éªŒè¯å™¨
â”‚   â””â”€â”€ module.go              # äº‹ä»¶æ¨¡å—è£…é…
â”œâ”€â”€ ğŸŒ node/                   # èŠ‚ç‚¹æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ service.go             # èŠ‚ç‚¹æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€ impl/                  # èŠ‚ç‚¹æœåŠ¡å®ç°
â”‚   â”‚   â”œâ”€â”€ host/              # P2Pä¸»æœºæ„å»º
â”‚   â”‚   â””â”€â”€ discovery/         # èŠ‚ç‚¹å‘ç°æœºåˆ¶
â”‚   â”œâ”€â”€ module.go              # èŠ‚ç‚¹æ¨¡å—è£…é…
â”‚   â””â”€â”€ TROUBLESHOOTING.md     # æ•…éšœæ’æŸ¥æŒ‡å—
â”œâ”€â”€ ğŸ•¸ï¸ kademlia/               # Kademlia DHTå®ç°
â”‚   â”œâ”€â”€ manager.go             # DHTç®¡ç†å™¨
â”‚   â”œâ”€â”€ bucket.go              # Kæ¡¶ç®¡ç†
â”‚   â”œâ”€â”€ distance.go            # è·ç¦»è®¡ç®—
â”‚   â”œâ”€â”€ selector.go            # èŠ‚ç‚¹é€‰æ‹©
â”‚   â”œâ”€â”€ keyspace/              # é”®ç©ºé—´ç®¡ç†
â”‚   â”œâ”€â”€ peerdiversity/         # èŠ‚ç‚¹å¤šæ ·æ€§
â”‚   â””â”€â”€ module.go              # Kademliaæ¨¡å—è£…é…
â”œâ”€â”€ ğŸ“‚ file/                   # æ–‡ä»¶æœåŠ¡å®ç°ï¼ˆé¢„ç•™ï¼‰
â””â”€â”€ ğŸ“– README.md               # æœ¬æ–‡æ¡£
```

### **ğŸ¯ å­æ¨¡å—èŒè´£åˆ†å·¥**

| **å­æ¨¡å—** | **æ ¸å¿ƒèŒè´£** | **å¯¹å¤–æ¥å£** | **å†…éƒ¨ç»„ä»¶** | **å¤æ‚åº¦** |
|-----------|-------------|-------------|-------------|-----------|
| `crypto/` | å¯†ç å­¦æœåŠ¡æä¾› | 7ä¸ªå¯†ç å­¦æ¥å£ | åœ°å€ã€åŠ å¯†ã€å“ˆå¸Œã€å¯†é’¥ã€Merkleã€PoWã€ç­¾å | â­â­â­â­â­ |
| `storage/` | å­˜å‚¨åç«¯ç®¡ç† | StorageProvideræ¥å£ | BadgerDBã€å†…å­˜ã€æ–‡ä»¶ã€ä¸´æ—¶å­˜å‚¨ | â­â­â­â­ |
| `log/` | æ—¥å¿—è®°å½•æœåŠ¡ | Loggeræ¥å£ | ç»“æ„åŒ–æ—¥å¿—ã€çº§åˆ«æ§åˆ¶ | â­â­ |
| `event/` | äº‹ä»¶é©±åŠ¨æ”¯æŒ | EventBusç›¸å…³æ¥å£ | æ€»çº¿ã€è·¯ç”±ã€æ³¨å†Œã€åè°ƒã€éªŒè¯ | â­â­â­â­ |
| `node/` | P2PèŠ‚ç‚¹æœåŠ¡ | NodeServiceæ¥å£ | ä¸»æœºæ„å»ºã€å‘ç°ã€è¿æ¥ç®¡ç† | â­â­â­â­â­ |
| `kademlia/` | åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ | KademliaManageræ¥å£ | DHTç®¡ç†ã€Kæ¡¶ã€è·ç¦»è®¡ç®—ã€èŠ‚ç‚¹é€‰æ‹© | â­â­â­â­ |
| `file/` | æ–‡ä»¶ç³»ç»ŸæŠ½è±¡ | FileServiceæ¥å£ | æ–‡ä»¶æ“ä½œã€æƒé™ç®¡ç† | â­â­ |

---

## ğŸ”„ **ç»Ÿä¸€å®‰å…¨æœºåˆ¶å®ç°**

ã€å®ç°ç­–ç•¥ã€‘

ã€€ã€€æ‰€æœ‰å­æ¨¡å—å‡ä¸¥æ ¼éµå¾ª**å®‰å…¨ä¼˜å…ˆ**æ¶æ„æ¨¡å¼ï¼Œç¡®ä¿ç³»ç»Ÿå®‰å…¨æ€§å’Œæ•°æ®å®Œæ•´æ€§ã€‚

```mermaid
flowchart TD
    subgraph "ç»Ÿä¸€å®‰å…¨æœºåˆ¶å®ç°æ¶æ„"
        subgraph "è¯·æ±‚å¤„ç†å±‚"
            A[åŸºç¡€è®¾æ–½æœåŠ¡è¯·æ±‚] --> B{æœåŠ¡ç±»å‹}
            B -->|å¯†ç å­¦æ“ä½œ| C[å¯†ç å­¦å®‰å…¨æµç¨‹]
            B -->|å­˜å‚¨æ“ä½œ| D[å­˜å‚¨å®‰å…¨æµç¨‹]
            B -->|ç½‘ç»œæ“ä½œ| E[ç½‘ç»œå®‰å…¨æµç¨‹]
        end
        
        subgraph "å¯†ç å­¦å®‰å…¨å±‚"
            C --> F[å¯†é’¥éªŒè¯]
            F --> G[ç­¾åéªŒè¯]
            G --> H[å“ˆå¸Œæ ¡éªŒ]
            H --> I[è¿”å›å®‰å…¨ç»“æœ]
        end
        
        subgraph "å­˜å‚¨å®‰å…¨å±‚"
            D --> J[æƒé™æ£€æŸ¥]
            J --> K[æ•°æ®åŠ å¯†]
            K --> L[å®Œæ•´æ€§éªŒè¯]
            L --> M[å®‰å…¨å­˜å‚¨]
        end
        
        subgraph "ç½‘ç»œå®‰å…¨å±‚"
            E --> N[èŠ‚ç‚¹è®¤è¯]
            N --> O[é€šä¿¡åŠ å¯†]
            O --> P[æ¶ˆæ¯éªŒè¯]
            P --> Q[å®‰å…¨ä¼ è¾“]
        end
    end
```

**å…³é”®å®ç°è¦ç‚¹ï¼š**

1. **å¯†ç å­¦å®‰å…¨ä¿éšœ**ï¼š
   - æ‰€æœ‰å¯†é’¥æ“ä½œéƒ½æœ‰å®‰å…¨éªŒè¯
   - ç­¾åéªŒè¯ç¡®ä¿æ•°æ®å®Œæ•´æ€§
   - å“ˆå¸Œæ ¡éªŒé˜²æ­¢æ•°æ®ç¯¡æ”¹

2. **å­˜å‚¨å®‰å…¨æœºåˆ¶**ï¼š
   - æ•æ„Ÿæ•°æ®è‡ªåŠ¨åŠ å¯†å­˜å‚¨
   - è®¿é—®æƒé™ä¸¥æ ¼æ§åˆ¶
   - æ•°æ®å®Œæ•´æ€§å®æ—¶éªŒè¯

3. **ç½‘ç»œå®‰å…¨é˜²æŠ¤**ï¼š
   - P2PèŠ‚ç‚¹èº«ä»½è®¤è¯
   - é€šä¿¡æ•°æ®ç«¯åˆ°ç«¯åŠ å¯†
   - æ¶ˆæ¯å®Œæ•´æ€§éªŒè¯

---

## ğŸ—ï¸ **ä¾èµ–æ³¨å…¥æ¶æ„**

ã€fxæ¡†æ¶é›†æˆã€‘

ã€€ã€€å…¨é¢é‡‡ç”¨fxä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œå®ç°ç»„ä»¶é—´çš„æ¾è€¦åˆå’Œç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨ç®¡ç†ã€‚

```go
// ç¤ºä¾‹ï¼šåŸºç¡€è®¾æ–½æ¨¡å—ä¾èµ–æ³¨å…¥é…ç½®
package infrastructure

import (
    "go.uber.org/fx"
    "github.com/weisyn/v1/pkg/interfaces/infrastructure"
)

// Module åŸºç¡€è®¾æ–½æ ¸å¿ƒæ¨¡å—
var Module = fx.Module("infrastructure",
    // å¯¼å…¥å­æ¨¡å—
    fx.Provide(
        // å¯†ç å­¦æœåŠ¡å±‚
        crypto.NewAddressManager,
        crypto.NewEncryptionManager,
        crypto.NewHashManager,
        crypto.NewKeyManager,
        crypto.NewMerkleManager,
        crypto.NewPoWEngine,
        crypto.NewSignatureManager,
        
        // å­˜å‚¨æœåŠ¡å±‚
        storage.NewBadgerStore,
        storage.NewMemoryStore,
        storage.NewFileStore,
        storage.NewTempStore,
        storage.NewStorageProvider,
        
        // é€šä¿¡æœåŠ¡å±‚
        event.NewEventBus,
        event.NewEventRouter,
        event.NewEventRegistry,
        
        // ç½‘ç»œæœåŠ¡å±‚
        node.NewNodeService,
        kademlia.NewKademliaManager,
        
        // ç›‘æ§æœåŠ¡å±‚
        log.NewLogger,
    ),
    
    // å¯¼å‡ºå…¬å…±æ¥å£
    fx.Provide(
        fx.Annotate(
            func(mgr *crypto.AddressManager) infrastructure.AddressManager {
                return mgr
            },
            fx.As(new(infrastructure.AddressManager)),
        ),
        fx.Annotate(
            func(provider *storage.Provider) infrastructure.StorageProvider {
                return provider
            },
            fx.As(new(infrastructure.StorageProvider)),
        ),
        // ... å…¶ä»–æ¥å£å¯¼å‡º
    ),
)
```

**ä¾èµ–ç®¡ç†ç‰¹ç‚¹ï¼š**
- **è‡ªåŠ¨ç”Ÿå‘½å‘¨æœŸ**ï¼šç»„ä»¶å¯åŠ¨å’Œåœæ­¢ç”±fxè‡ªåŠ¨ç®¡ç†
- **æ¥å£å¯¼å‘**ï¼šé€šè¿‡æ¥å£è€Œéå…·ä½“ç±»å‹è¿›è¡Œä¾èµ–
- **å±‚æ¬¡æ¸…æ™°**ï¼šæ˜ç¡®çš„ä¾èµ–æ–¹å‘ï¼Œé¿å…å¾ªç¯ä¾èµ–
- **æµ‹è¯•å‹å¥½**ï¼šæ”¯æŒä¾èµ–æ³¨å…¥çš„å•å…ƒæµ‹è¯•

---

## ğŸ“Š **æ€§èƒ½ä¸ç›‘æ§**

ã€æ€§èƒ½æŒ‡æ ‡ã€‘

| **æ“ä½œç±»å‹** | **ç›®æ ‡å»¶è¿Ÿ** | **ååé‡ç›®æ ‡** | **ç¼“å­˜å‘½ä¸­ç‡** | **ç›‘æ§æ–¹å¼** |
|-------------|-------------|---------------|--------------|------------|
| å“ˆå¸Œè®¡ç®— | < 1ms | > 10000 OPS | N/A | å®æ—¶ç›‘æ§ |
| ç­¾åéªŒè¯ | < 5ms | > 2000 OPS | N/A | å®æ—¶ç›‘æ§ |
| å­˜å‚¨è¯»å– | < 10ms | > 5000 QPS | > 90% | æ‰¹é‡ç»Ÿè®¡ |
| å­˜å‚¨å†™å…¥ | < 50ms | > 1000 TPS | N/A | å…³é”®è·¯å¾„ç›‘æ§ |
| äº‹ä»¶ä¼ é€’ | < 2ms | > 20000 EPS | N/A | å¼‚æ­¥ç›‘æ§ |
| èŠ‚ç‚¹å‘ç° | < 100ms | > 100 DPS | > 80% | å®æ—¶ç›‘æ§ |

**æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š**
- **å¯†ç å­¦ä¼˜åŒ–**ï¼šç¡¬ä»¶åŠ é€Ÿã€ç®—æ³•ä¼˜åŒ–ã€æ‰¹é‡å¤„ç†
- **å­˜å‚¨ä¼˜åŒ–**ï¼šå¤šçº§ç¼“å­˜ã€é¢„å–æœºåˆ¶ã€æ‰¹é‡å†™å…¥
- **ç½‘ç»œä¼˜åŒ–**ï¼šè¿æ¥æ± ã€å¼‚æ­¥å¤„ç†ã€æ™ºèƒ½è·¯ç”±
- **äº‹ä»¶ä¼˜åŒ–**ï¼šå¼‚æ­¥ä¼ é€’ã€æ‰¹é‡å¤„ç†ã€ä¼˜å…ˆçº§é˜Ÿåˆ—

---

## ğŸ”— **ä¸å…¬å…±æ¥å£çš„æ˜ å°„å…³ç³»**

ã€æ¥å£å®ç°æ˜ å°„ã€‘

```mermaid
classDiagram
    class AddressManager {
        <<interface>>
        +GenerateAddress(publicKey)
        +ValidateAddress(address)
        +GetAddressType(address)
        +ParseAddress(addressStr)
    }
    
    class AddressManagerImpl {
        -keyManager KeyManager
        -validator AddressValidator
        -encoder AddressEncoder
        +GenerateAddress(publicKey) Address
        +ValidateAddress(address) bool
        +GetAddressType(address) AddressType
        +ParseAddress(addressStr) Address
    }
    
    class StorageProvider {
        <<interface>>
        +GetBadgerStore()
        +GetMemoryStore()
        +GetFileStore()
        +GetTempStore()
    }
    
    class StorageProviderImpl {
        -badgerStore BadgerStore
        -memoryStore MemoryStore
        -fileStore FileStore
        -tempStore TempStore
        +GetBadgerStore() BadgerStore
        +GetMemoryStore() MemoryStore
        +GetFileStore() FileStore
        +GetTempStore() TempStore
    }
    
    class EventBus {
        <<interface>>
        +Publish(topic, event)
        +Subscribe(topic, handler)
        +Unsubscribe(topic, handler)
        +GetTopics()
    }
    
    class EventBusImpl {
        -router EventRouter
        -registry EventRegistry
        -validator EventValidator
        +Publish(topic, event) error
        +Subscribe(topic, handler) error
        +Unsubscribe(topic, handler) error
        +GetTopics() []string
    }
    
    AddressManager <|-- AddressManagerImpl : implements
    StorageProvider <|-- StorageProviderImpl : implements
    EventBus <|-- EventBusImpl : implements
```

**å®ç°è¦ç‚¹ï¼š**
- **æ¥å£å¥‘çº¦**ï¼šä¸¥æ ¼éµå¾ªå…¬å…±æ¥å£çš„æ–¹æ³•ç­¾åå’Œè¯­ä¹‰
- **é”™è¯¯å¤„ç†**ï¼šæ ‡å‡†åŒ–çš„é”™è¯¯è¿”å›å’Œå¼‚å¸¸å¤„ç†æœºåˆ¶
- **æ—¥å¿—è®°å½•**ï¼šå®Œå–„çš„æ“ä½œæ—¥å¿—å’Œæ€§èƒ½æŒ‡æ ‡è®°å½•
- **æµ‹è¯•è¦†ç›–**ï¼šæ¯ä¸ªæ¥å£æ–¹æ³•éƒ½æœ‰å¯¹åº”çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

---

## ğŸš€ **åç»­æ‰©å±•è§„åˆ’**

ã€æ¨¡å—æ¼”è¿›æ–¹å‘ã€‘

1. **å®‰å…¨å¢å¼º**
   - ç¡¬ä»¶å®‰å…¨æ¨¡å—(HSM)é›†æˆ
   - é›¶çŸ¥è¯†è¯æ˜æ”¯æŒ
   - å¤šé‡ç­¾åä¼˜åŒ–

2. **æ€§èƒ½æå‡**
   - GPUåŠ é€Ÿå¯†ç å­¦è®¡ç®—
   - åˆ†å¸ƒå¼å­˜å‚¨åç«¯
   - å¼‚æ­¥å¤„ç†ä¼˜åŒ–

3. **åŠŸèƒ½æ‰©å±•**
   - æ›´å¤šå¯†ç å­¦ç®—æ³•æ”¯æŒ
   - äº‘å­˜å‚¨åç«¯é›†æˆ
   - é«˜çº§äº‹ä»¶è·¯ç”±ç­–ç•¥

4. **è¿ç»´å¢å¼º**
   - è‡ªåŠ¨æ•…éšœæ¢å¤
   - æ€§èƒ½è°ƒä¼˜å»ºè®®
   - å¥åº·æ£€æŸ¥æœºåˆ¶

---

## ğŸ“‹ **å¼€å‘æŒ‡å—**

ã€å­æ¨¡å—å¼€å‘è§„èŒƒã€‘

1. **æ–°å»ºå­æ¨¡å—æ­¥éª¤**ï¼š
   - åœ¨pkg/interfaces/infrastructureä¸­å®šä¹‰å…¬å…±æ¥å£
   - åˆ›å»ºå­æ¨¡å—ç›®å½•å’ŒåŸºç¡€æ–‡ä»¶
   - å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
   - æ·»åŠ å®Œæ•´çš„å•å…ƒæµ‹è¯•
   - æ›´æ–°fxä¾èµ–æ³¨å…¥é…ç½®

2. **ä»£ç è´¨é‡è¦æ±‚**ï¼š
   - éµå¾ªGoè¯­è¨€æœ€ä½³å®è·µ
   - 100%çš„æ¥å£æ–¹æ³•æµ‹è¯•è¦†ç›–
   - å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
   - æ¸…æ™°çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£

3. **æ€§èƒ½è¦æ±‚**ï¼š
   - å…³é”®è·¯å¾„å»¶è¿ŸæŒ‡æ ‡è¾¾æ ‡
   - å†…å­˜ä½¿ç”¨åˆç†ï¼Œé¿å…æ³„æ¼
   - å¹¶å‘å®‰å…¨çš„æ•°æ®è®¿é—®
   - åˆç†çš„èµ„æºæ¸…ç†æœºåˆ¶

ã€å‚è€ƒæ–‡æ¡£ã€‘
- [å¯†ç å­¦æœåŠ¡](crypto/README.md)
- [å­˜å‚¨æœåŠ¡](storage/README.md)
- [äº‹ä»¶æœåŠ¡](event/README.md)
- [èŠ‚ç‚¹æœåŠ¡](node/README.md)
- [WESæ¶æ„è®¾è®¡æ–‡æ¡£](../../../docs/architecture/)

---

> ğŸ“ **æ¨¡æ¿è¯´æ˜**ï¼šæœ¬READMEæ¨¡æ¿åŸºäºWES v0.0.1ç»Ÿä¸€æ–‡æ¡£è§„èŒƒè®¾è®¡ï¼Œä½¿ç”¨æ—¶è¯·æ ¹æ®å…·ä½“æ¨¡å—éœ€æ±‚æ›¿æ¢ç›¸åº”çš„å ä½ç¬¦å†…å®¹ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰ç« èŠ‚éƒ½æœ‰å®è´¨æ€§çš„æŠ€æœ¯å†…å®¹ã€‚

> ğŸ”„ **ç»´æŠ¤æŒ‡å—**ï¼šæœ¬æ–‡æ¡£åº”éšç€æ¨¡å—åŠŸèƒ½çš„æ¼”è¿›åŠæ—¶æ›´æ–°ï¼Œç¡®ä¿æ–‡æ¡£ä¸ä»£ç å®ç°çš„ä¸€è‡´æ€§ã€‚å»ºè®®åœ¨æ¯æ¬¡é‡å¤§åŠŸèƒ½å˜æ›´åæ›´æ–°ç›¸åº”ç« èŠ‚ã€‚
