// Package interfaces å®šä¹‰åŒºå—é“¾å†…éƒ¨æ¥å£
package interfaces

import (
	"context"

	blockchain "github.com/weisyn/v1/pkg/interfaces/blockchain"
)

// ============================================================================
//                            å†…éƒ¨æ¥å£å®šä¹‰
// ============================================================================

// InternalChainService å†…éƒ¨é“¾æœåŠ¡æ¥å£
//
// ğŸ¯ è®¾è®¡ç†å¿µ: ç»§æ‰¿å…¬å…±ChainServiceæ¥å£ï¼Œæ·»åŠ å†…éƒ¨çŠ¶æ€ç®¡ç†èƒ½åŠ›
// ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½: æä¾›é“¾çŠ¶æ€çš„å†…éƒ¨ä¿®æ”¹æ¥å£ï¼ˆåˆ†å‰å¤„ç†ã€åŒæ­¥çŠ¶æ€ç­‰ï¼‰
// ğŸ”® æ‰©å±•èƒ½åŠ›: æ”¯æŒç³»ç»Ÿå†…éƒ¨ç»„ä»¶çš„çŠ¶æ€åè°ƒéœ€æ±‚
type InternalChainService interface {
	blockchain.ChainService // ç»§æ‰¿æ‰€æœ‰å…¬å…±é“¾æœåŠ¡æ–¹æ³•

	// ==================== å†…éƒ¨çŠ¶æ€ç®¡ç†æ–¹æ³• ====================

	// SetChainStatus è®¾ç½®é“¾çŠ¶æ€
	//
	// ğŸ¯ **å†…éƒ¨çŠ¶æ€æ§åˆ¶æ–¹æ³•**
	//
	// ç”¨äºç³»ç»Ÿå†…éƒ¨ç»„ä»¶ï¼ˆå¦‚forkã€syncï¼‰ä¿®æ”¹é“¾çš„è¿è¡ŒçŠ¶æ€ï¼š
	// - "normal": æ­£å¸¸è¿è¡Œï¼Œæ¢å¤æ‰€æœ‰æœåŠ¡
	// - "fork_processing": åˆ†å‰å¤„ç†ä¸­ï¼Œé”å®šç³»ç»Ÿ
	// - "syncing": åŒæ­¥ä¸­ï¼Œæš‚åœéƒ¨åˆ†æœåŠ¡
	// - "error": é”™è¯¯çŠ¶æ€ï¼Œéœ€è¦å¹²é¢„
	//
	// å‚æ•°ï¼š
	//   - ctx: æ“ä½œä¸Šä¸‹æ–‡
	//   - status: æ–°çš„çŠ¶æ€å€¼
	//   - isReady: ç³»ç»Ÿæ˜¯å¦å°±ç»ªå¯ç”¨
	//
	// è¿”å›ï¼š
	//   - error: çŠ¶æ€è®¾ç½®å¤±è´¥çš„é”™è¯¯
	SetChainStatus(ctx context.Context, status string, isReady bool) error
}
